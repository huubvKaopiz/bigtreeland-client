var Ar=Object.defineProperty,Dr=Object.defineProperties;var br=Object.getOwnPropertyDescriptors;var jt=Object.getOwnPropertySymbols;var Wn=Object.prototype.hasOwnProperty,Zn=Object.prototype.propertyIsEnumerable;var Xn=(n,t,s)=>t in n?Ar(n,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[t]=s,re=(n,t)=>{for(var s in t||(t={}))Wn.call(t,s)&&Xn(n,s,t[s]);if(jt)for(var s of jt(t))Zn.call(t,s)&&Xn(n,s,t[s]);return n},me=(n,t)=>Dr(n,br(t));var gn=(n,t)=>{var s={};for(var a in n)Wn.call(n,a)&&t.indexOf(a)<0&&(s[a]=n[a]);if(n!=null&&jt)for(var a of jt(n))t.indexOf(a)<0&&Zn.call(n,a)&&(s[a]=n[a]);return s};import{g as Fa,i as Fr,R as _r,a as _a,b as wr,c as L,d as Ee,n as w,l as r,e as W,f as kr,h as Rr,r as o,u as R,j as d,F as Q,k as e,B as k,M as Te,D as j,T as ae,m as Ht,o as Br,p as Ir,q as vr,s as Tr,t as Yr,v as Pr,w as Ge,x as D,I as M,y as Je,z as Lr,A as Nr,C as xe,E as Mr,L as ie,G as Se,H as Hn,J as Ur,K as un,N as Gr,O as Qr,P as Or,S as wa,Q as mt,U as jr,V as ka,W as Hr,X as I,Y as De,Z as te,_ as Ae,$ as Ve,a0 as O,a1 as he,a2 as ye,a3 as le,a4 as K,a5 as J,a6 as Ra,a7 as Ut,a8 as Ce,a9 as pe,aa as nn,ab as $e,ac as Re,ad as ce,ae as Ba,af as zr,ag as ut,ah as ue,ai as Gt,aj as Kr,ak as qr,al as Vr,am as $r,an as Ia,ao as Jr,ap as Xr,aq as zn,ar as va,as as Kn,at as an,au as Ie,av as et,aw as Oe,ax as Ye,ay as Ta,az as Wr,aA as ea,aB as ta,aC as Ya,aD as Zr,aE as ei,aF as Pa,aG as ti,aH as si,aI as ni,aJ as ai,aK as ri,aL as zt,aM as ze,aN as ii,aO as oi,aP as Ue,aQ as La,aR as Ke,aS as li,aT as Mt,aU as Na,aV as Ma,aW as Ua,aX as ct,aY as Xe,aZ as qn,a_ as di,a$ as ui,b0 as Kt,b1 as ci,b2 as hi,b3 as pi,b4 as Ei,b5 as mi,b6 as cn,b7 as Ga,b8 as sa,b9 as gi,ba as fi,bb as xi,bc as Qa,bd as rn,be as yi,bf as Ci,bg as Si,bh as Ai,bi as Di,bj as de,bk as Oa,bl as bi,bm as Fi,bn as _i,bo as wi,bp as ki,bq as Ri,br as Bi,bs as Ii}from"./vendor.2c149833.js";const vi=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const x of c.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&a(x)}).observe(document,{childList:!0,subtree:!0});function s(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerpolicy&&(c.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?c.credentials="include":l.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=s(l);fetch(l.href,c)}};vi();const Ti={apiKey:"AIzaSyCora6Am-_ZgG5eZujPsxjgBn8SzTf0zzA",authDomain:"bigtreeland-780da.firebaseapp.com",projectId:"bigtreeland-780da",storageBucket:"bigtreeland-780da.appspot.com",messagingSenderId:"113408851209",appId:"1:113408851209:web:666940246bc162986f27d8",measurementId:"G-KG1VB3CFSS"},Yi=()=>{Fa().length>0||(Fr(Ti),window.recaptchaVerifier=new _r("sign-in-button",{size:"invisible",callback:()=>{}},_a()))},Pi=()=>_a(),Li=()=>Fa().length>0,lt=wr.create();lt.defaults.baseURL="http://45.32.101.219:8000";lt.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";lt.defaults.headers.common["Content-Type"]="application/json";function Y(n){return lt(n)}function ja(n){const t=new FormData;return n instanceof File?t.append("files[]",n):n instanceof FileList?Array.from(n).forEach(s=>{t.append("files[]",s)}):n.forEach(s=>{t.append("files[]",s)}),lt.post("api/files",t,{headers:{"Content-Type":"multipart/form-data"}})}const Ni={user:null,statusUserVerified:"idle",statusChangePassword:"idle"},Gn=L("auth/actionLogin",async(n,{rejectWithValue:t})=>{try{const s=await Y({url:"/api/auth/login",method:"POST",data:n}),a=await Y({url:"/api/auth/me",method:"POST",data:n,headers:{Authorization:`Bearer ${r.exports.get(s,"data.access_token","")}`}});return r.exports.merge(s.data,a.data)}catch(s){return t(s)}}),Mi=L("verifyAccount",async n=>{const t=await Y({url:"/api/auth/verify-account",method:"POST",data:n}),s=await Y({url:"/api/auth/me",method:"POST",headers:{Authorization:`Bearer ${r.exports.get(t,"data.access_token","")}`}});return r.exports.merge(t.data,s.data)}),Vt=L("changePassword",async(n,{rejectWithValue:t})=>{try{return await Y({url:"/api/auth/change-password",method:"POST",data:n})}catch(s){return t(s)}}),Ha=Ee({name:"auth",initialState:Ni,reducers:{actionLogout:n=>{n.user=null},actionResetStatusUserVerified:n=>{n.statusUserVerified="idle"}},extraReducers:n=>{n.addCase(Gn.fulfilled,(t,s)=>{t.user=s.payload}).addCase(Gn.rejected,(t,s)=>{var l;((l=s.payload.response)==null?void 0:l.status)===400&&(t.statusUserVerified="waiting")}).addCase(Vt.pending,t=>{t.statusChangePassword="loading"}).addCase(Vt.fulfilled,t=>{t.statusChangePassword="success",w.success({message:"Thay \u0111\u1ED5i m\u1EADt kh\u1EA9u th\xE0nh c\xF4ng!"})}).addCase(Vt.rejected,(t,s)=>{t.statusChangePassword="error";const a=s.payload;console.log(a.response),w.error({message:r.exports.get(a,"response.data.message","C\xF3 l\u1ED7i x\u1EA3y ra!")})})}}),{actionLogout:za,actionResetStatusUserVerified:na}=Ha.actions;var Ui=Ha.reducer;function Gi(){W.register("locale","vi",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(n){return""},currency:{symbol:"VND"}}),W.locale("vi")}function Qi(){Gi()}const Oi={en:{translation:{"Welcome to React":"Welcome to React and react-i18next"}},fr:{translation:{"Welcome to React":"Bienvenue \xE0 React et react-i18next"}}};kr.use(Rr).init({resources:Oi,lng:"en",interpolation:{escapeValue:!1}});function ji(){const[n,t]=o.exports.useState(!1),s=R(a=>a.auth.user);return d(Q,{children:[e(k,{type:"link",onClick:()=>t(!0),children:"Th\xF4ng tin c\xE1 nh\xE2n"}),e(Te,{title:"Th\xF4ng tin c\xE1 nh\xE2n",width:1e3,visible:n,onCancel:()=>t(!1),cancelText:"",footer:[e(k,{type:"primary",onClick:()=>t(!1),children:"OK"},"btnOK")],children:d(j,{bordered:!0,children:[e(j.Item,{label:"H\u1ECD t\xEAn",children:e("strong",{children:r.exports.get(s,"profile.name","")})}),e(j.Item,{label:"\u0110T",children:r.exports.get(s,"phone","")}),e(j.Item,{label:"Email",children:r.exports.get(s,"profile.email","")}),e(j.Item,{label:"Vai tr\xF2",children:r.exports.get(s,"roles",[]).map(a=>{ae,a.name})}),e(j.Item,{label:"Ng\xE0y v\xE0o l\xE0m",children:"---"}),e(j.Item,{span:3,label:"\u0110\u1ECBa ch\u1EC9",children:r.exports.get(s,"profile.address","")})]})})]})}const Hi={attendances:null,getAttendancesStatus:"idle",addAttendanceStatus:"idle",updateAttendanceStatus:"idle"},$t=L("actionGetAttandances",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/attendances",method:"get",params:n})).data}catch(s){return t(s)}}),Jt=L("actionAddAttendance",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/attendances",method:"post",data:n})).data}catch(s){return t(s)}}),Xt=L("actionUpdateAttendance",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/attendances/many-updates",method:"put",data:n})).data}catch(s){return t(s)}}),zi=Ee({name:"parent",initialState:Hi,reducers:{actionResetGetAttendancesStatus(n){n.getAttendancesStatus="idle"},actionResetAddAttendanceStatus(n){n.addAttendanceStatus="idle"},actionResetUpdateAttendanceStatus(n){n.updateAttendanceStatus="idle"}},extraReducers:n=>{n.addCase($t.pending,t=>{t.getAttendancesStatus="loading"}).addCase($t.fulfilled,(t,s)=>{t.attendances=s.payload,t.getAttendancesStatus="success"}).addCase($t.rejected,(t,s)=>{t.getAttendancesStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Jt.pending,t=>{t.addAttendanceStatus="loading"}).addCase(Jt.fulfilled,t=>{t.addAttendanceStatus="success",w.success({message:"L\u01B0u \u0111i\u1EC3m danh th\xE0nh c\xF4ng!"})}).addCase(Jt.rejected,(t,s)=>{t.addAttendanceStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Xt.pending,t=>{t.updateAttendanceStatus="loading"}).addCase(Xt.fulfilled,t=>{t.updateAttendanceStatus="success",w.success({message:"C\u1EADp nh\u1EADt danh s\xE1ch \u0111i\u1EC3m danh th\xE0nh c\xF4ng!"})}).addCase(Xt.rejected,(t,s)=>{t.updateAttendanceStatus="error";const a=s.payload,l=r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!");r.exports.isPlainObject(l)?w.error({message:"C\xF3 l\u1ED7i x\u1EA3y ra!"}):w.error({message:l})})}});var Ki=zi.reducer,aa="/assets/pp.11c785f8.jpg",ra="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAA9lBMVEX///8YWr1Bpe4QP5ErfNMAUbo7ldcrn+0AKImmuN8LLmkNMnQHHkNCp+8whdkibMgWVbQZSHoONG0ncL4WUaqw1fcONXoAMowWV7ylr8wkaLGqxOoGGzwKK2IreckYUZ4YdtETSZgRQIgASrgOOYNjhszo7Pa/y+gJJVSRp9kATbkAR7hYfsl+mdOvv+LZ4PHK1Ot0kdAmX4qlrMGbr9xYre/k8Py72vgxfLMUPnQfYbSzweNEccUtZMAIIkyjp7AAADcAHGGYpMY5V5ylz/bb7PstesM2iMQqaZcbUpUfYrUJZMYAM7NshLYAAC8AGFkAJnQAIIZ1Tjt+AAAFHUlEQVR4nO2cC1fbNhiGbVYvI8vG1rXE3WAMTFJICIEtlA4w20ova3ft//8zsx3rLuPQCEVf9z7ncA5IOoc8+eQ3kqMkigAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACC5eVZxw9nL1fi96rTWfNFp/PKv+Azf36V4zPvhmdeBdfWznwLei7hCop47t3w3LPhY++Gj2EIQxjCEIYwhCEMYQhDGMIQhjCE4X0YfnoHPn5DF4qBGzpQ9G54Tt3wZL2FyfctvH5e8MadolvDWTZKWkjb2fmx4E2QhoNR7II0LxWfB2g4cyNYKF6IKgZlmDkSLBRLw98rwy+WxaHhiasSFrz9uuB1yZfL8uA7Z4briTvDndLw228KHizLDzCEIQxhCMMwDfkKc1EhY3zghunRYM6RrthgnhvjAzccnbCmsSZ4dFqhmSezerhYFQVumByypg1VZTycNw/VFSx/Rg75PA/cMD1iTRPFMN1g7WppmXhEZpbGI9Z0rMQrn43RRGlPWbNYuodumLGiTJXtRjZlQ5VtSDqoW6XJG7rh6ClrU6NGjJUvRF7ap3RqaI8a0RpFA6ndEjTBG9qjRryIqBeoJWiCN7RHzUgaO5SmryVowje0RU16Kg/Oeb1sQRO+oS1qRFuJuOZsQRO+oS1qxspgUVxb0IRvaIka0TSHG9qCJnxDS9Qkx+roU65uOJMwNKOGl6qGXXXWoCFgaERNelX/PdE6rEFDwNCIGi6SsGC5SpuDhoChETVs2g7HE3W4NWgIGOpRk7JV9yxhyVJfd9agoWCoRQ2ftXnK91C3BA0FQy1qRrVWsR7lstU22B40FAy1qEnEmDSvf6+2wfagoWCoRk3K4qUMUJ4tWWPQUDBUo4bN2WrTlKzXPeU22B408e7PBTvvLi4uNpblj/XIFaqhEjVs1V0FKy9v8VdD0MS7Dwt2HxXEy5Lcl6EcNdxjPhWZbxk79qAhYShHTXLJZRX5PG0IGhKGctSwOKkLxXf7h0lD0JAwlKJmxFbd7A4b65pmDUFDw1BEzZj9D5YmfG5mDUFDw1BEzZ/qJJWu0UFD0NAwFFHDJqnY1rN1+CV7FrSgoWEooobNSVEnvpdqCBoahsod4EpUGIp3oQx5SoaZdmdGusPP72nU6EFDxFC9BRxF8kTU7kvpQUPEUH6vKSpf/OS+S6VPDxoihto9YMWCr1TnGIc2aBhqURMrFpnSZ5xMJWKoRM204fxFiRE0VAyVqJlpr5YTqc8IGiqGStTk2qWWSn1G0FAxlKNmqB2Pkg5mWIKGiqEcNbcW2DwCT8VQipor4xBfzvvMoCFjKKLGmKTyssYMGjKGYiYeG33SW6Zm0JAx5AdHB7nlX9/WScaw6chsaycdww8FhncAhjCE4QcCwzvg0NDlZ0j3CsHtyvCrZXFo6PBzwPH1wcHB9eZ+wSfL0n/iztDZZ7njvV5heBCeoavP48ePtq4DNVzoOxUWqOBWL1jDBb4X46/9vdt52NvqVZM0UMNWfvl7q4VerzbcJ2r4a6+dapJ2qdZwAcNKcPsjNpxXsEvV8Kd/tlvolj9dwoa/dRdl04UgDFdtuLxg0IYu/FZh+O/ni+JEMGRDNyUM2HDTjWC4ho4quBLDzQVw5rcCwyd9dw8ehjCEIQxhCEMYhmo4fO/Z8P2w/UG55caz4Y1vQd9F9F/CKJr2/V2K/f60/QHdAy9uPvPDzYuV+AEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOB/z383a4BbF3H6UgAAAABJRU5ErkJggg==",ia="/assets/ex.0242bcc2.png",qi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAk1BMVEX////LBgbygYHKAADcfHzPMTHUU1PXZWXfiorMFxfHAAD0hobUKyvknZ3gT0/kn5/WXl7jk5PxeXn71tbgj4/UQED54+P719fWTU366en++Pjwy8vzjIz2r6/329v87+/wxMTccHDVV1fuvLzpqKjiYWHbRUXXNjblXV3iVVXRIiLudHTihobrsrLSOTnfe3vNEhKAWPopAAAE6ElEQVR4nO3daXuaQBSGYfC4UoghcSUtuCRdbGL8/7+uKhBBiAxmPDND3+cbF2q9AziDVLUshBBCCCGEEEIIIYQQQggh0wu91bYjoZfvh6aqOYXWrkNyumsdenhULcoXzRyy5UR33zQkPm5k+U7C1oNGO2pI8oAnoUbEwJYIzAj12VHvZQKzQl2ITzL30bxQkx1V7ibMC7XYipHcTXgm1IG4cKQCz4Ua7Ki+3E1YEKontm8tVL6j3l6omsggVLyjcgjVbkUWoVIij1AlkUmo8FjkEqrbimxCZUQ+oaodlVGoaCtyCtUQWYVKiLxCFURmoQIit5CfyC5kJ/ILuYkKhMxEFUJeohIhK1GNkJMoXfhTSMhIVCXkI0oXbgWFbETpwoEgkI0oW2iTsJCJKF/4ohlRvvCX6IHIRJQutOlBXMhBvIGw1kb8YaDQpt/iREOF9CJMNFO4N/5pic5sDBXatPn9t/VNoJapwv2eSoONW93m1VRhjBSobbBQ7M8AIYQQQgghhBBCCCGEl4TnM+RPV1Xcr+QmeghpM/xo1F7tMs+TqJ+s8EbLcUE/Gp7Vv0RUKPTyN4veZukTpfvcmtDbZghnK4+t9BT6hVsuBvQJYu2eNrDJQmseQ0oQwTL9TIPZQmty3B3LENa7Y6owmO8L0hv7OeE8Ck6P0/1sF7asmdbC3uHDs24vjJeOHyFKEW/7FSsvSh5nTrld+G3WTRtrOlokwsPf/zAgTOLFTkbox4PdOnmgfk7YFhsONREeFlfx4ntOeFzjJMR57iAVnSrpI9zEi15BaJOdHI3dpgpt5zleHpotHMeLryXCdN1TXihyFGokTLfTrERoO/HyJPtCOxJ7odFAeHd8kk46ylGpMB4xguxKa5I072n+WurvNgN3mY4I6+yOeBKGRf6poebCXIF7hdAzSdjODeonYTIdMF/YjmfXRWE8IEam76WTdAJdGC0oXg6zu3Dw9Bg37RohDKK37sf3uxSEy3h5kRsPnTTdR4vn5XLZ67qUeaKFOc0iXu6bOafZFkft83lpMqWxxmYKS07uzs4t0hOr0NBzi0vCw8mxM54nD7Q8Oz9sgHDhdrrtRfo4ITVPaAWZt2ksN/8+TTOE2dJRr6nC6GNYb6jweVd4z9sA4UhUOPU3JdctDBDao31+2Vqitj+Ke+1t97MdKq68eL1JD6F94S0IoeuHYkBcA4YQQgghhBBCCCGE8L8Xln7C5Yq0FVJn1ZWStu95U1B9X6Hedb1uQbL+AW2vPUkTanv9EELhmi/U9ziU9Vp6eUqhcjwc96RU8aX2mNPcUsgThBBC+H8Lb/TiqY+QVqP+VQ1qEU2cta0bL6z3sy4QSgjC2jVf+GSMcF5939Lq/byS0v+LMbguY0b8q+c0tYCYl0IIIYTNFpJTmYy/jcIRv1d9Vxk/nahQ+Fx913rzM+2EQwgh1F7Y/OPQq76r4ULyvapco0cLoZOnrwMxa4MQQgghhBBCCOUk40T9K8Kyb4mRW71LRdJLv1TjhkVSppfXRhRVP8Wvdvmbqm4tFHjD68tNFW5EIpbfJVO4EVk2oWUFO1VE2sn6b7oVhYr2U6KQB7gnyng/oj5wM+UCHr65Q8pFiFo+Z8YwUGRad5xrL2tfleOuq5+U5MLh/bbD03blsR2BCCGEEEIIIYQQQgghhBBCN+sfypGbO0fYqnMAAAAASUVORK5CYII=",Vi="/assets/ud.b748f361.png";const Ka=["jpeg","jpg","gif","png","tiff","jfif","raw"],on="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg==",tt={ppt:aa,pptx:aa,doc:ra,docx:ra,xls:ia,xlsx:ia,pdf:qi,undefined:Vi},Ft=["Ch\u1EE7 nh\u1EADt","Th\u1EE9 hai","Th\u1EE9 ba","Th\u1EE9 t\u01B0","Th\u1EE9 n\u0103m","Th\u1EE9 s\xE1u","Th\u1EE9 b\u1EA3y"],oa="DD/MM/YYYY";var ee=(n=>(n.ADMIM="admin",n.TEACHER="teacher",n.TEACHER2="teacher2",n.SALE="sale",n.PARENT="parent",n.EMPLOYEE="employee",n.ON_MANAGER="on_manager",n))(ee||{}),Ze=(n=>(n[n.ADMIM=1]="ADMIM",n[n.TEACHER=2]="TEACHER",n[n.TEACHER2=3]="TEACHER2",n[n.SALE=3]="SALE",n[n.PARENT=5]="PARENT",n[n.ON_MANAGER=6]="ON_MANAGER",n[n.EMPLOYEE=7]="EMPLOYEE",n))(Ze||{}),hn=(n=>(n.TUITION_FEE="main/tuition",n.ATTENDANCE_REMIND="main/study",n.NOTIFICATIONS="main/notification",n.SUBMIT_TEST_RESULT_REMIND="main/study/test",n))(hn||{}),He=(n=>(n.TEST="2",n.LESSON="1",n.ALBUM="3",n.SUMMARY="4",n))(He||{});const $i={classes:null,classInfo:null,classDetailTabKey:He.LESSON,recentTestAdded:null,photos:null,getClassStatus:"idle",getClassesStatus:"idle",addClassStatus:"idle",updateClassStatus:"idle",addStudentsStatus:"idle",getClassPhotosStatus:"idle",addClassPhotosStatus:"idle",deleteClassPhotosStatus:"idle"},gt=L("actionGetClass",async(n,{rejectWithValue:t})=>{const{class_id:s,params:a}=n;try{return(await Y({url:`/api/classes/${s}`,method:"get",params:a})).data}catch(l){return t(l)}}),ke=L("actionGetClasses",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/classes",method:"get",params:n})).data}catch(s){return t(s)}}),Wt=L("actionAddClass",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/classes",method:"post",data:n})).data}catch(s){return t(s)}}),Zt=L("actionUdpateClass",async(n,{rejectWithValue:t})=>{try{const{data:s,cID:a}=n;return(await Y({url:`/api/classes/${a}`,method:"put",data:s})).data}catch(s){return t(s)}}),Bt=L("actionGetClassPhotos",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/albums",method:"get",params:n})).data}catch(s){return t(s)}}),es=L("actionAddClassPhotos",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/albums",method:"post",data:n})).data}catch(s){return t(s)}}),ts=L("actionDeleteClassPhoto",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/albums/${n}`,method:"delete"})).data}catch(s){return t(s)}}),ss=L("actionAddStudents",async(n,{rejectWithValue:t})=>{try{const{data:s,cID:a}=n;return(await Y({url:`/api/classes/add-students/${a}`,method:"post",data:s})).data}catch(s){return t(s)}}),qa=Ee({name:"parent",initialState:$i,reducers:{actionResetGetParents(n){n.getClassesStatus="idle"},actionResetAddClass(n){n.addClassStatus="idle"},actionResetUpdateClass(n){n.updateClassStatus="idle"},actionSetClassStateNull(n){n.classInfo=null},actionResetAddStudent(n){n.addStudentsStatus="idle"},actionSetClassDetailTabKey(n,t){n.classDetailTabKey=t.payload},actionAddClassPhotos(n){n.addClassPhotosStatus="idle"},actionDeleteClassPhoto(n){n.deleteClassPhotosStatus="idle"},actionGetClassPhotos(n){n.getClassPhotosStatus="idle"}},extraReducers:n=>{n.addCase(ke.pending,t=>{t.getClassesStatus="loading"}).addCase(ke.fulfilled,(t,s)=>{t.classes=s.payload,t.getClassesStatus="success"}).addCase(ke.rejected,(t,s)=>{t.getClassesStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(gt.pending,t=>{t.getClassStatus="loading"}).addCase(gt.fulfilled,(t,s)=>{t.classInfo=s.payload,t.getClassStatus="success"}).addCase(gt.rejected,(t,s)=>{t.getClassStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Wt.pending,t=>{t.addClassStatus="loading"}).addCase(Wt.fulfilled,t=>{t.addClassStatus="success",w.success({message:"Th\xEAm l\u1EDBp h\u1ECDc th\xE0nh c\xF4ng!"})}).addCase(Wt.rejected,(t,s)=>{t.addClassStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Zt.pending,t=>{t.updateClassStatus="loading"}).addCase(Zt.fulfilled,t=>{t.updateClassStatus="success",w.success({message:"S\u1EEDa th\xF4ng tin l\u1EDBp h\u1ECDc th\xE0nh c\xF4ng!"})}).addCase(Zt.rejected,(t,s)=>{t.updateClassStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(ss.pending,t=>{t.addStudentsStatus="loading"}).addCase(ss.fulfilled,t=>{t.addStudentsStatus="success",w.success({message:"Th\xEAm h\u1ECDc sinh th\xE0nh c\xF4ng!"})}).addCase(ss.rejected,(t,s)=>{t.addStudentsStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Bt.pending,t=>{t.getClassPhotosStatus="loading"}).addCase(Bt.fulfilled,(t,s)=>{t.getClassPhotosStatus="success",t.photos=s.payload}).addCase(Bt.rejected,(t,s)=>{t.getClassPhotosStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(es.pending,t=>{t.addClassPhotosStatus="loading"}).addCase(es.fulfilled,t=>{t.addClassPhotosStatus="success",w.success({message:"Th\xEAm \u1EA3nh th\xE0nh c\xF4ng!"})}).addCase(es.rejected,(t,s)=>{t.addClassPhotosStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(ts.pending,t=>{t.deleteClassPhotosStatus="loading"}).addCase(ts.fulfilled,t=>{t.deleteClassPhotosStatus="success",w.success({message:"Xo\xE1 \u1EA3nh th\xE0nh c\xF4ng!"})}).addCase(ts.rejected,(t,s)=>{t.deleteClassPhotosStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})})}}),{actionSetClassStateNull:la,actionResetAddStudent:Ji,actionSetClassDetailTabKey:Xi}=qa.actions;var Wi=qa.reducer;const Zi={employeeInfo:null,employees:null,getEmployeeInfoStatus:"idle",getEmployeesStatus:"idle",addEmployeeStatus:"idle",updateEmployeeStatus:"idle",deleteEmployeeStatus:"idle"},ns=L("actionGetEmployeeInfo",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/users/${n}`,method:"get"})).data}catch(s){return t(s)}}),ve=L("actionGetEmployees",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/users",method:"get",params:n})).data}catch(s){return t(s)}}),as=L("actionAddEmployee",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/users",method:"post",data:n})).data}catch(s){return t(s)}}),rs=L("actionUpdateEmployee",async(n,{rejectWithValue:t})=>{try{const{data:s,eID:a}=n;return(await Y({url:`/api/users/${a}`,method:"put",data:s})).data}catch(s){return t(s)}}),fn=L("actionDeleteEmployee",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/users/${n}`,method:"delete"})).data}catch(s){return t(s)}}),Va=Ee({name:"employee",initialState:Zi,reducers:{actionGetEmployees(n){n.getEmployeesStatus="idle"},actionAddEmployee(n){n.addEmployeeStatus="idle"},actionUpdateEmployee(n){n.updateEmployeeStatus="idle"},actionResetAddEmployeeStatus(n){n.addEmployeeStatus="idle"},actionResetUpdateEmployeeSatus(n){n.updateEmployeeStatus="idle"},actionResetDeeleteEmployeeSatus(n){n.deleteEmployeeStatus="idle"},actionSetListEmployeesNull(n){n.getEmployeesStatus="idle",n.employees=null}},extraReducers:n=>{n.addCase(ns.pending,t=>{t.getEmployeeInfoStatus="loading"}).addCase(ns.fulfilled,(t,s)=>{t.employeeInfo=s.payload,t.getEmployeeInfoStatus="success"}).addCase(ns.rejected,(t,s)=>{t.getEmployeeInfoStatus="error",t.employeeInfo=null;const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(ve.pending,t=>{t.getEmployeesStatus="loading"}).addCase(ve.fulfilled,(t,s)=>{t.employees=s.payload,t.getEmployeesStatus="success"}).addCase(ve.rejected,(t,s)=>{t.getEmployeesStatus="error",t.employees=null;const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(as.pending,t=>{t.addEmployeeStatus="loading"}).addCase(as.fulfilled,t=>{t.addEmployeeStatus="success",w.success({message:"Th\xEAm nh\xE2n vi\xEAn th\xE0nh c\xF4ng"})}).addCase(as.rejected,(t,s)=>{t.addEmployeeStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(rs.pending,t=>{t.updateEmployeeStatus="loading"}).addCase(rs.fulfilled,t=>{t.updateEmployeeStatus="success",w.success({message:"C\u1EADp nh\u1EADt th\xF4ng tin nh\xE2n vi\xEAn th\xE0nh c\xF4ng"})}).addCase(rs.rejected,(t,s)=>{t.updateEmployeeStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(fn.pending,t=>{t.deleteEmployeeStatus="loading"}).addCase(fn.fulfilled,t=>{t.deleteEmployeeStatus="success",w.success({message:"V\xF4 hi\u1EC7u ho\xE1 t\xE0i kho\u1EA3n vi\xEAn th\xE0nh c\xF4ng"})}).addCase(fn.rejected,(t,s)=>{t.deleteEmployeeStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})})}}),{actionResetAddEmployeeStatus:Ou,actionResetDeeleteEmployeeSatus:ju,actionResetUpdateEmployeeSatus:eo,actionSetListEmployeesNull:to}=Va.actions;var so=Va.reducer;const no={recentUploaded:null,recentFileTestUploaded:null,files:{},statusGetFiles:"idle",statusDeleteFile:"idle",statusUploadFile:"idle"},Ne=L("actionGetListFile",async(n,{rejectWithValue:t})=>{try{return(await Y({method:"get",url:"/api/files",params:n})).data}catch(s){return t(s)}}),It=L("actionUploadFile",async(n,{rejectWithValue:t})=>{try{return(await ja(n)).data}catch(s){return t(s)}}),xn=L("actionUploadFileTest",async(n,{rejectWithValue:t})=>{try{return(await ja(n)).data}catch(s){return t(s)}}),is=L("actionDeleteUploadFile",async(n,{rejectWithValue:t})=>{try{return(await Y({method:"delete",url:`/api/files/${n}`})).data}catch(s){return t(s)}}),$a=Ee({name:"files",initialState:no,reducers:{resetGetFileStatus(n){n.statusGetFiles="idle"},resetDeleteFileStatus(n){n.statusDeleteFile="idle"},resetUploadFileStatus(n){n.statusUploadFile="idle"},resetRecentFileTestUploaded(n){n.recentFileTestUploaded=null}},extraReducers:n=>{n.addCase(Ne.fulfilled,(t,s)=>{t.files=s.payload,t.statusGetFiles="success"}).addCase(Ne.pending,t=>{t.statusGetFiles="loading"}).addCase(Ne.rejected,(t,s)=>{t.statusGetFiles="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(It.fulfilled,t=>{w.success({message:"Upload file th\xE0nh c\xF4ng!"}),t.statusUploadFile="success"}).addCase(It.pending,t=>{t.statusUploadFile="loading"}).addCase(It.rejected,(t,s)=>{t.statusUploadFile="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(xn.fulfilled,(t,s)=>{console.log(s.payload),w.success({message:"Upload file th\xE0nh c\xF4ng!"}),t.recentFileTestUploaded=s.payload,t.statusUploadFile="success"}).addCase(xn.pending,t=>{t.statusUploadFile="loading"}).addCase(xn.rejected,(t,s)=>{t.statusUploadFile="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(is.fulfilled,t=>{t.statusDeleteFile="success"}).addCase(is.pending,t=>{t.statusDeleteFile="loading"}).addCase(is.rejected,(t,s)=>{t.statusDeleteFile="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})})}}),{resetDeleteFileStatus:da,resetGetFileStatus:Ja,resetUploadFileStatus:Qn,resetRecentFileTestUploaded:ao}=$a.actions;var ro=$a.reducer;const io={parents:null,getParentsStatus:"idle",addParentStatus:"idle",updateParentStatus:"idle",deleteParentStatus:"idle"},qe=L("actionGetParents",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/users?role_name=${ee.PARENT}`,method:"get",params:n})).data}catch(s){return t(s)}}),os=L("actionAddParent",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/users",method:"post",data:n})).data}catch(s){return t(s)}}),ls=L("actionUpdateParent",async(n,{rejectWithValue:t})=>{try{const{data:s,uID:a}=n;return(await Y({url:`/api/users/${a}`,method:"put",data:s})).data}catch(s){return t(s)}}),yn=L("actionDeleteParent",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/users/${n}`,method:"delete"})).data}catch(s){return t(s)}}),oo=Ee({name:"parent",initialState:io,reducers:{actionResetStatusDeleteParent(n){n.deleteParentStatus="idle"}},extraReducers:n=>{n.addCase(qe.pending,t=>{t.getParentsStatus="loading"}).addCase(qe.fulfilled,(t,s)=>{t.parents=s.payload,t.getParentsStatus="success"}).addCase(qe.rejected,(t,s)=>{t.getParentsStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(os.pending,t=>{t.addParentStatus="loading"}).addCase(os.fulfilled,t=>{t.addParentStatus="success",w.success({message:"Th\xEAm ph\u1EE5 huynh th\xE0nh c\xF4ng!"})}).addCase(os.rejected,(t,s)=>{t.addParentStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(ls.pending,t=>{t.updateParentStatus="loading"}).addCase(ls.fulfilled,t=>{t.updateParentStatus="success",w.success({message:"S\u1EEDa th\xF4ng tin ph\u1EE5 huynh th\xE0nh c\xF4ng!"})}).addCase(ls.rejected,(t,s)=>{t.updateParentStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(yn.pending,t=>{t.deleteParentStatus="loading"}).addCase(yn.fulfilled,t=>{t.deleteParentStatus="success",w.success({message:"Xo\xE1 ph\u1EE5 huynh th\xE0nh c\xF4ng!"})}).addCase(yn.rejected,(t,s)=>{t.deleteParentStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})})}});var lo=oo.reducer,Vn=(n=>(n[n["C\u1ED1 \u0111\u1ECBnh"]=0]="C\u1ED1 \u0111\u1ECBnh",n[n["Ph\xE1t sinh"]=1]="Ph\xE1t sinh",n))(Vn||{});const Xa=["Ch\u01B0a x\u1EED l\xFD","\u0110\xE3 x\u1EED l\xFD"],uo={payments:null,getPaymentStatus:"idle",addPaymentStatus:"idle",updatePaymentStatus:"idle",deletePaymentStatus:"idle"},Qe=L("actionGetPayments",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/payment-slips",method:"get",params:n})).data}catch(s){return t(s)}}),ds=L("actionAddNewPayment",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/payment-slips",method:"post",data:n})).data}catch(s){return t(s)}}),us=L("actionUpdatePaymentStatus",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/payment-slips/update-status",method:"post",data:n})).data}catch(s){return t(s)}}),cs=L("actionDeletePayment",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/payment-slips/${n}`,method:"delete"})).data}catch(s){return t(s)}}),Wa=Ee({name:"payments",initialState:uo,reducers:{resetGetPaymentStatus(n){n.getPaymentStatus="idle"},resetAddPaymentStatus(n){n.addPaymentStatus="idle"},resetUpdatePaymentStatus(n){n.updatePaymentStatus="idle"},actionDeletePayment(n){n.deletePaymentStatus="idle"},actionUpdatePaymentStatus(n){n.updatePaymentStatus="idle"}},extraReducers:n=>{n.addCase(Qe.fulfilled,(t,s)=>{t.payments=s.payload,t.getPaymentStatus="success"}).addCase(Qe.rejected,(t,s)=>{t.getPaymentStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Qe.pending,t=>{t.getPaymentStatus="loading"}).addCase(ds.pending,t=>{t.addPaymentStatus="loading"}).addCase(ds.fulfilled,t=>{t.addPaymentStatus="success",w.success({message:"Th\xEAm chi ti\xEAu th\xE0nh c\xF4ng!"})}).addCase(ds.rejected,(t,s)=>{t.addPaymentStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(us.fulfilled,t=>{t.updatePaymentStatus="success"}).addCase(us.pending,t=>{t.updatePaymentStatus="loading"}).addCase(us.rejected,(t,s)=>{t.updatePaymentStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(cs.pending,t=>{t.deletePaymentStatus="loading"}).addCase(cs.fulfilled,t=>{t.deletePaymentStatus="success",w.success({message:"Xo\xE1 chi ti\xEAu th\xE0nh c\xF4ng!"})}).addCase(cs.rejected,(t,s)=>{t.deletePaymentStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})})}}),{resetGetPaymentStatus:co,resetAddPaymentStatus:ho,resetUpdatePaymentStatus:po}=Wa.actions;var Eo=Wa.reducer;const mo={permissions:[],userPermissions:null,getUserPermissionsState:"idle",setPermissionsState:"idle",getPermissionsState:"idle"},Dt=L("actionGetPermissions",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/permissions",method:"get"})).data}catch{return t}}),vt=L("actionGetUserPermissions",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/permissions/list-permission-of-user/${n}`,method:"get"})).data}catch(s){return t(s)}}),hs=L("actionSetRolePermissions",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/permissions/set-permission-for-role",method:"post",data:n})).data}catch(s){return t(s)}}),ps=L("actionSetUserPermissions",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/permissions/set-permission-for-user",method:"post",data:n})).data}catch(s){return t(s)}}),go=Ee({name:"permissions",initialState:mo,reducers:{actionGetPermissions(n){n.getPermissionsState="idle"},actionSetRolePermissions(n){n.setPermissionsState="idle"},actionSetUserPermissions(n){n.setPermissionsState="idle"},actionGetUserPermissions(n){n.getUserPermissionsState="idle"}},extraReducers:n=>{n.addCase(Dt.fulfilled,(t,s)=>{t.getPermissionsState="success",t.permissions=s.payload}).addCase(Dt.rejected,(t,s)=>{t.getPermissionsState="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(vt.pending,t=>{t.getUserPermissionsState="loading"}).addCase(vt.fulfilled,(t,s)=>{t.userPermissions=s.payload,t.getUserPermissionsState="success"}).addCase(vt.rejected,(t,s)=>{t.getUserPermissionsState="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(hs.pending,t=>{t.setPermissionsState="loading"}).addCase(hs.fulfilled,t=>{t.setPermissionsState="success",w.success({message:"Set quy\u1EC1n th\xE0nh c\xF4ng!"})}).addCase(hs.rejected,(t,s)=>{t.setPermissionsState="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(ps.pending,t=>{t.setPermissionsState="loading"}).addCase(ps.fulfilled,t=>{t.setPermissionsState="success",w.success({message:"Set quy\u1EC1n th\xE0nh c\xF4ng!"})}).addCase(ps.rejected,(t,s)=>{t.setPermissionsState="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})})}});var fo=go.reducer;const xo={roles:[],roleInfo:null,statusGetRoleInfo:"idle",statusCreateRole:"idle",statusGetRole:"idle",statusDeleteRole:"idle",statusUpdateRole:"idle"},Tt=L("actionGetRoleInfo",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/roles/${n}`,method:"get"})).data}catch(s){return t(s)}}),Pe=L("actionGetRoles",async(n,{rejectWithValue:t})=>{try{return(await Y({url:n&&`/api/roles/${n}`||"/api/roles",method:"get"})).data}catch(s){return t(s)}}),Es=L("actionDeleteRoles",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/roles/${n}`,method:"delete"})).data}catch(s){return t(s)}}),ms=L("actionCreateRole",async(n,{rejectWithValue:t})=>{try{const s=await Y({url:"/api/roles",method:"post",data:{name:n.name,description:n.description}}),a=s.data;return n.user_ids.length>0&&await Y({url:"/api/roles/set-role-for-list-user",method:"post",data:{role_id:a.id,add_user_ids:n.user_ids,remove_user_ids:[]}}),n.permission_ids.length>0&&await Y({url:"/api/permissions/set-permission-for-role",method:"post",data:{role_id:a.id,permission_add_ids:n.permission_ids,permission_delete_ids:[]}}),s.data}catch(s){return t(s)}}),gs=L("actionSetRoleForUsers",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/roles/set-role-for-list-user",method:"post",data:n})).data}catch(s){return t(s)}}),Cn=L("actionUpdateRole",async(n,{rejectWithValue:t})=>{try{let s;return n.role_name&&(s=await Y({url:`/api/roles/${n.role_id}`,method:"put",data:{name:n.role_name}})),(n.add_user_ids||n.remove_users_ids)&&(s=await Y({url:"/api/roles/set-role-for-list-user",method:"post",data:{role_id:n.role_id,add_user_ids:n.add_user_ids,remove_users_ids:n.remove_users_ids}})),n.permission&&(s=await Y({url:"/api/permissions/set-permission-for-role",method:"post",data:{role_id:n.role_id,permission_add_ids:n.permission.added,permission_delete_ids:n.permission.removed}})),s==null?void 0:s.data}catch(s){return t(s)}}),fs=L("actionUpdateSettingMenuOfRole",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/roles/${n.role_id}`,method:"put",data:{menues:n.menues}})).data}catch(s){return t(s)}}),Za=Ee({name:"roles",initialState:xo,reducers:{actionResetStatusGetRole(n){n.statusGetRole="idle"},actionResetStatusCreateRole(n){n.statusCreateRole="idle"},actionResetStatusDeleteRole(n){n.statusDeleteRole="idle"},actionResetStatusUpdateRole(n){n.statusUpdateRole="idle"},actionSetRoleForUsers(n){n.statusUpdateRole="idle"}},extraReducers:n=>{n.addCase(Pe.fulfilled,(t,s)=>{t.roles=s.payload,t.statusGetRole="success"}).addCase(Pe.pending,t=>{t.statusGetRole="loading"}).addCase(Pe.rejected,(t,s)=>{t.statusGetRole="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Tt.fulfilled,(t,s)=>{t.roleInfo=s.payload,t.statusGetRoleInfo="success"}).addCase(Tt.pending,t=>{t.statusGetRoleInfo="loading"}).addCase(Tt.rejected,(t,s)=>{t.statusGetRoleInfo="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(ms.pending,t=>{t.statusCreateRole="loading"}).addCase(ms.fulfilled,t=>{t.statusCreateRole="success",w.success({message:"T\u1EA1o vai tr\xF2 m\u1EDBi th\xE0nh c\xF4ng!"})}).addCase(ms.rejected,(t,s)=>{t.statusCreateRole="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Es.fulfilled,t=>{t.statusDeleteRole="success",w.success({message:"Xo\xE1 vai tr\xF2 th\xE0nh c\xF4ng!"})}).addCase(Es.pending,t=>{t.statusDeleteRole="loading"}).addCase(Es.rejected,(t,s)=>{t.statusDeleteRole="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(gs.fulfilled,t=>{t.statusDeleteRole="success",w.success({message:"C\u1EADp nh\u1EADt danh s\xE1ch ng\u01B0\u1EDDi d\xF9ng th\xE0nh c\xF4ng!"})}).addCase(gs.pending,t=>{t.statusDeleteRole="loading"}).addCase(gs.rejected,(t,s)=>{t.statusDeleteRole="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Cn.fulfilled,t=>{t.statusUpdateRole="success",w.success({message:"C\u1EADp nh\u1EADt danh s\xE1ch quy\u1EC1n th\xE0nh c\xF4ng!"})}).addCase(Cn.pending,t=>{t.statusUpdateRole="loading"}).addCase(Cn.rejected,(t,s)=>{t.statusUpdateRole="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(fs.fulfilled,t=>{t.statusUpdateRole="success",w.success({message:"C\u1EADp nh\u1EADt setting menu th\xE0nh c\xF4ng!"})}).addCase(fs.pending,t=>{t.statusUpdateRole="loading"}).addCase(fs.rejected,(t,s)=>{t.statusUpdateRole="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})})}}),{actionResetStatusCreateRole:yo,actionResetStatusGetRole:Co,actionResetStatusDeleteRole:So,actionResetStatusUpdateRole:Ao}=Za.actions;var Do=Za.reducer;const bo={students:null,studentProfile:null,getStudentsStatus:"idle",getStudentStatus:"idle",addStudentStatus:"idle",updateStudentStatus:"idle",updateStudentStatusStatus:"idle"},xs=L("actionGetStudentProfile",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/students/${n}`,method:"get"})).data}catch(s){return t(s)}}),Fe=L("actionGetStudents",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/students",method:"get",params:n})).data}catch(s){return t(s)}}),ys=L("actionAddStudent",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/students",method:"post",data:n})).data}catch(s){return t(s)}}),ft=L("actionUpdateStudent",async(n,{rejectWithValue:t})=>{try{const{data:s,sID:a}=n;return(await Y({url:`/api/students/${a}`,method:"put",data:s})).data}catch(s){t(s)}}),Fo=L("actionLeaveClass",async(n,{rejectWithValue:t})=>{try{const{data:s,sID:a}=n;return(await Y({url:`/api/students/${a}`,method:"put",data:s})).data}catch(s){t(s)}}),Sn=L("actionUpdateStudentStatus",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/students/update-status",method:"put",data:n})).data}catch(s){t(s)}}),er=Ee({name:"student",initialState:bo,reducers:{actionResetGetStudents(n){n.getStudentsStatus="idle"},actionAddStudent(n){n.addStudentStatus="idle"},actionResetUpdateStudent(n){n.updateStudentStatus="idle"},actionUpdateStudentStatus(n){n.updateStudentStatusStatus="idle"},actionSetStudentsStateNull(n){n.students=null},actionGetStudentProfile(n){n.studentProfile=null,n.getStudentStatus="idle"}},extraReducers:n=>{n.addCase(Fe.pending,t=>{t.getStudentsStatus="loading"}).addCase(Fe.fulfilled,(t,s)=>{t.students=s.payload,t.getStudentsStatus="success"}).addCase(Fe.rejected,(t,s)=>{t.getStudentStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(xs.pending,t=>{t.getStudentStatus="loading"}).addCase(xs.fulfilled,(t,s)=>{t.studentProfile=s.payload,t.getStudentsStatus="success"}).addCase(xs.rejected,(t,s)=>{t.getStudentStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(ys.pending,t=>{t.addStudentStatus="loading"}).addCase(ys.fulfilled,t=>{t.addStudentStatus="success",w.success({message:"Th\xEAm th\xF4ng tin h\u1ECDc sinh th\xE0nh c\xF4ng!"})}).addCase(ys.rejected,(t,s)=>{t.addStudentStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(ft.pending,t=>{t.updateStudentStatus="loading"}).addCase(ft.fulfilled,t=>{t.updateStudentStatus="success",w.success({message:"S\u1EEDa th\xF4ng tin h\u1ECDc sinh th\xE0nh c\xF4ng!"})}).addCase(ft.rejected,(t,s)=>{t.updateStudentStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Sn.pending,t=>{t.updateStudentStatusStatus="loading"}).addCase(Sn.fulfilled,t=>{t.updateStudentStatusStatus="success",w.success({message:"C\u1EADp nh\u1EADt tr\u1EA1ng th\xE1i th\xE0nh c\xF4ng!"})}).addCase(Sn.rejected,(t,s)=>{t.updateStudentStatusStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})})}}),{actionSetStudentsStateNull:_o,actionResetUpdateStudent:wo,actionResetGetStudents:ko}=er.actions;var Ro=er.reducer;const Bo={users:null,statusGetUser:"idle",statusChangePassword:"idle",statusUpdateUserState:"idle",statusSetPermissionsForUser:"idle",statusAddUser:"idle"},Le=L("actionGetUsers",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/users",method:"get",params:n})).data}catch(s){return t(s)}}),Cs=L("actionChangePassworfOfUser",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/users/change-password-of-user",method:"post",data:n})).data}catch(s){return t(s)}}),Ss=L("actionDeactiveUser",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/users/${n}`,method:"delete"})).data}catch(s){return t(s)}}),As=L("actionRestoreUser",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/users/${n}/restore`,method:"post"})).data}catch(s){return t(s)}}),An=L("actionSetPermissionsForUser",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/permissions/set-permission-for-user",method:"post",data:n})).data}catch(s){return t(s)}}),Ds=L("actionAddUser",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/users",method:"post",data:n})).data}catch(s){return t(s)}}),tr=Ee({name:"users",initialState:Bo,reducers:{actionResetStatusAddUser(n){n.statusAddUser="idle"},actionResetStatusDeactiveUser(n){n.statusUpdateUserState="idle"},actionRestoreUser(n){n.statusUpdateUserState="idle"},actionResetStatusChangePassword(n){n.statusChangePassword="idle"}},extraReducers:n=>{n.addCase(Le.pending,t=>{t.statusGetUser="loading"}).addCase(Le.fulfilled,(t,s)=>{t.users=s.payload,t.statusGetUser="success"}).addCase(Le.rejected,(t,s)=>{t.statusGetUser="error",t.users=null;const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Cs.pending,t=>{t.statusChangePassword="loading"}).addCase(Cs.fulfilled,t=>{t.statusChangePassword="success",w.success({message:"\u0110\u1ED5i m\u1EADt kh\u1EA9u th\xE0nh c\xF4ng"})}).addCase(Cs.rejected,(t,s)=>{t.statusChangePassword="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Ss.pending,t=>{t.statusUpdateUserState="loading"}).addCase(Ss.fulfilled,t=>{t.statusUpdateUserState="success",w.success({message:"V\xF4 hi\u1EC7u ho\xE1 t\xE0i kho\u1EA3n th\xE0nh c\xF4ng"})}).addCase(Ss.rejected,(t,s)=>{t.statusUpdateUserState="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(As.pending,t=>{t.statusUpdateUserState="loading"}).addCase(As.fulfilled,t=>{t.statusUpdateUserState="success",w.success({message:"Kh\xF4i ph\u1EE5c t\xE0i kho\u1EA3n th\xE0nh c\xF4ng"})}).addCase(As.rejected,(t,s)=>{t.statusUpdateUserState="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(An.pending,t=>{t.statusSetPermissionsForUser="loading"}).addCase(An.fulfilled,t=>{t.statusSetPermissionsForUser="success",w.success({message:"C\u1EADp nh\u1EADt quy\u1EC1n cho t\xE0i kho\u1EA3n th\xE0nh c\xF4ng"})}).addCase(An.rejected,(t,s)=>{t.statusSetPermissionsForUser="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Ds.pending,t=>{t.statusAddUser="loading"}).addCase(Ds.fulfilled,t=>{t.statusAddUser="success",w.success({message:"Th\xEAm user th\xE0nh c\xF4ng"})}).addCase(Ds.rejected,(t,s)=>{t.statusAddUser="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})})}}),{actionResetStatusAddUser:Io,actionResetStatusDeactiveUser:vo,actionResetStatusChangePassword:To}=tr.actions;var Yo=tr.reducer;const Po={testInfo:null,testes:null,getTestStatus:"idle",getTestesStatus:"idle",updateTestStatus:"idle",addTestStatus:"idle"},xt=L("actionGetTest",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/tests/${n}`,method:"get"})).data}catch(s){return t(s)}}),rt=L("actionGetTestes",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/tests",method:"get",params:n})).data}catch(s){return t(s)}}),bs=L("actionAddTest",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/tests",method:"post",data:n})).data}catch(s){return t(s)}}),Fs=L("actionUpdateTest",async(n,{rejectWithValue:t})=>{try{const s=n,{id:a}=s,l=gn(s,["id"]);return(await Y({url:`/api/tests/${a}`,method:"put",data:l})).data}catch(a){return t(a)}}),sr=Ee({name:"parent",initialState:Po,reducers:{actionResetGetTest(n){n.getTestStatus="idle"},actionResetGetTestes(n){n.getTestesStatus="idle"},actionResetAddTest(n){n.addTestStatus="idle"},actionResetUpdateTest(n){n.updateTestStatus="idle"},actionResetAddTestStatus(n){n.addTestStatus="idle"}},extraReducers:n=>{n.addCase(xt.pending,t=>{t.getTestStatus="loading"}).addCase(xt.fulfilled,(t,s)=>{t.testInfo=s.payload,t.getTestStatus="success"}).addCase(xt.rejected,(t,s)=>{t.getTestStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(rt.pending,t=>{t.getTestesStatus="loading"}).addCase(rt.fulfilled,(t,s)=>{t.testes=s.payload,t.getTestesStatus="success"}).addCase(rt.rejected,(t,s)=>{t.getTestesStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(bs.pending,t=>{t.addTestStatus="loading"}).addCase(bs.fulfilled,t=>{t.addTestStatus="success",w.success({message:"T\u1EA1o b\xE0i test th\xE0nh c\xF4ng!"})}).addCase(bs.rejected,(t,s)=>{t.addTestStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Fs.pending,t=>{t.updateTestStatus="loading"}).addCase(Fs.rejected,(t,s)=>{t.updateTestStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Fs.fulfilled,t=>{t.updateTestStatus="success",w.success({message:"C\u1EADp nh\u1EADt b\xE0i test th\xE0nh c\xF4ng!"})})}}),{actionResetAddTestStatus:Hu,actionResetGetTest:zu,actionResetGetTestes:Ku,actionResetAddTest:qu,actionResetUpdateTest:Lo}=sr.actions;var No=sr.reducer;const nr=function(n){return Object.fromEntries(Object.entries(n).filter(([t,s])=>s).map(([t,s])=>[t,s===Object(s)?nr(s):s]))},ar=["Ch\u01B0a x\xE1c nh\u1EADn","\u0110\xE3 x\xE1c nh\u1EADn"],pn=["Doanh thu ngo\xE0i","Sale","H\u1ECDc ph\xED"],Mo={revenues:null,getRevenuesStatus:"idle",addRevenuesStatus:"idle",updateRevenuesStatus:"idle",deleteRevenuesStatus:"idle"},st=L("actionGetRevenues",async(n,{rejectWithValue:t})=>{try{const s=nr(n);return(await Y({url:"/api/receipts",method:"get",params:s})).data}catch(s){return t(s)}}),_s=L("actionAddNewRevenues",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/receipts",method:"post",data:n})).data}catch(s){return t(s)}}),Dn=L("actionUpdateRevenues",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/receipts/${n.id}`,method:"put",data:n})).data}catch(s){return t(s)}}),ws=L("actionUpdateRevenueStatus",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/receipts/update-status",method:"post",data:n})).data}catch(s){return t(s)}}),ks=L("actionDeleteRevenue",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/receipts/${n}`,method:"delete"})).data}catch(s){return t(s)}}),rr=Ee({name:"revenues",initialState:Mo,reducers:{resetGetRevenuesStatus(n){n.getRevenuesStatus="idle"},resetAddRevenuesStatus(n){n.addRevenuesStatus="idle"},actionUpdateRevenues(n){n.updateRevenuesStatus="idle"},actionUpdateRevenueStatus(n){n.updateRevenuesStatus="idle"},actionSetListRevenuesNull(n){n.getRevenuesStatus="idle",n.revenues=null},resetUpdateRevenuesStatus(n){n.updateRevenuesStatus="idle"},actionDeleteRevenue(n){n.deleteRevenuesStatus="idle"}},extraReducers:n=>{n.addCase(st.fulfilled,(t,s)=>{t.getRevenuesStatus="success",t.revenues=s.payload}).addCase(st.pending,t=>{t.getRevenuesStatus="loading"}).addCase(st.rejected,(t,s)=>{t.getRevenuesStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(_s.fulfilled,t=>{t.addRevenuesStatus="success",w.success({message:"Th\xEAm doanh thu m\u1EDBi th\xE0nh c\xF4ng!"})}).addCase(_s.pending,t=>{t.addRevenuesStatus="loading"}).addCase(_s.rejected,(t,s)=>{t.addRevenuesStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Dn.fulfilled,t=>{t.updateRevenuesStatus="success",w.success({message:"C\u1EADp nh\u1EADt doanh thu th\xE0nh c\xF4ng!"})}).addCase(Dn.pending,t=>{t.updateRevenuesStatus="loading"}).addCase(Dn.rejected,(t,s)=>{t.updateRevenuesStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(ws.fulfilled,t=>{t.updateRevenuesStatus="success",w.success({message:"C\u1EADp nh\u1EADt doanh thu th\xE0nh c\xF4ng!"})}).addCase(ws.pending,t=>{t.updateRevenuesStatus="loading"}).addCase(ws.rejected,(t,s)=>{t.updateRevenuesStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(ks.fulfilled,t=>{t.deleteRevenuesStatus="success",w.success({message:"\u0110\xE3 xo\xE1 phi\u1EBFu thu!"})}).addCase(ks.pending,t=>{t.deleteRevenuesStatus="loading"}).addCase(ks.rejected,(t,s)=>{t.deleteRevenuesStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})})}}),{resetGetRevenuesStatus:Uo,resetAddRevenuesStatus:Go,resetUpdateRevenuesStatus:Qo,actionSetListRevenuesNull:bn}=rr.actions;var Oo=rr.reducer;const jo={periodTuitions:null,periodTuition:null,getPeriodTuitionStatus:"idle",getPeriodTuitionsStatus:"idle",addPeriodTuitionStatus:"idle",updatePeriodTuitionStatus:"idle",deletePeriodTuitionStatus:"idle",sendNotificationsStatus:"idle"},it=L("actionGetPeriodTuion",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/period-tuitions/${n}`,method:"get"})).data}catch(s){return t(s)}}),yt=L("actionGetPeriodTuions",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/period-tuitions",method:"get",params:n})).data}catch(s){return t(s)}}),Rs=L("actionAddPeriodTuion",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/period-tuitions",method:"post",data:n})).data}catch(s){return t(s)}}),Bs=L("actionUpdatePeriodTuion",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/period-tuitions/${n.pID}`,method:"put",data:n.data})).data}catch(s){return t(s)}}),Is=L("actionDeletePeriodTuion",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/period-tuitions/${n}`,method:"delete"})).data}catch(s){return t(s)}}),Ho=Ee({name:"periodTuition",initialState:jo,reducers:{actionGetPeriodTuions(n){n.getPeriodTuitionsStatus="idle"},actionGetPeriodTuion(n){n.getPeriodTuitionStatus="idle"},actionAddPeriodTuion(n){n.addPeriodTuitionStatus="idle"},actionResetUpdatePeriodTuion(n){n.updatePeriodTuitionStatus="idle"},actionSetAddPeriodtuitionStateIdle(n){n.addPeriodTuitionStatus="idle"},actionDeletePeriodTuion(n){n.deletePeriodTuitionStatus="idle"}},extraReducers:n=>{n.addCase(it.pending,t=>{t.getPeriodTuitionStatus="loading"}).addCase(it.fulfilled,(t,s)=>{t.getPeriodTuitionStatus="success",t.periodTuition=s.payload}).addCase(it.rejected,(t,s)=>{t.getPeriodTuitionStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(yt.pending,t=>{t.getPeriodTuitionsStatus="loading"}).addCase(yt.fulfilled,(t,s)=>{t.getPeriodTuitionsStatus="success",t.periodTuitions=s.payload}).addCase(yt.rejected,(t,s)=>{t.getPeriodTuitionsStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Rs.pending,t=>{t.addPeriodTuitionStatus="loading"}).addCase(Rs.fulfilled,t=>{t.addPeriodTuitionStatus="success",w.success({message:"Th\xEAm chu k\u1EF3 h\u1ECDc ph\xED th\xE0nh c\xF4ng!"})}).addCase(Rs.rejected,(t,s)=>{t.addPeriodTuitionStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Bs.pending,t=>{t.updatePeriodTuitionStatus="loading"}).addCase(Bs.fulfilled,t=>{t.updatePeriodTuitionStatus="success",w.success({message:"C\u1EADp nh\u1EADt chu k\u1EF3 h\u1ECDc ph\xED th\xE0nh c\xF4ng!"})}).addCase(Bs.rejected,(t,s)=>{t.updatePeriodTuitionStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Is.pending,t=>{t.deletePeriodTuitionStatus="loading"}).addCase(Is.fulfilled,t=>{t.deletePeriodTuitionStatus="success",w.success({message:"\u0110\xE3 xo\xE1 chu k\u1EF3 h\u1ECDc ph\xED"})}).addCase(Is.rejected,(t,s)=>{t.deletePeriodTuitionStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})})}});var zo=Ho.reducer;const Fn=L("actionGetTuitionFee",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/tuition-fees/${n}`,method:"get"})).data}catch(s){return t(s)}}),vs=L("actionGetTuitionFees",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/tuition-fees/",method:"get",params:n})).data}catch(s){return t(s)}}),Ts=L("actionAddTuitionFee",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/tuition-fees/",method:"post",data:n})).data}catch(s){return t(s)}}),Ys=L("actionUpdateTuitionFee",async(n,{rejectWithValue:t})=>{try{const{data:s,tuition_id:a}=n;return(await Y({url:`/api/tuition-fees/${a}`,method:"put",data:s})).data}catch(s){return t(s)}}),Ps=L("actionTuitionFeePayment",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/tuition-fees/payment",method:"post",data:n})).data}catch(s){return t(s)}}),Ls=L("actionTuitionFeeTranferDebt",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/tuition-fees/debit-tranfer",method:"post",data:n})).data}catch(s){return t(s)}}),Ko={tuitionFee:null,tuitionFees:null,getTuitionFeeState:"idle",getTuitionFeesState:"idle",addTuitionFeeState:"idle",updateTuitionFeeState:"idle",tuitionFeePaymentState:"idle"},ir=Ee({name:"tuitionFeeSlice",initialState:Ko,reducers:{actionGetTuitionFee(n){n.getTuitionFeeState="idle"},actionGetTuitionFees(n){n.getTuitionFeesState="idle"},actionAddTuitionFee(n){n.addTuitionFeeState="idle"},actionUpdateTuitionFee(n){n.updateTuitionFeeState="idle"},actionSetTuitionFeesStateNull(n){n.tuitionFees=null},actionTuitionFeeTranferDebt(n){n.updateTuitionFeeState="idle"},actionTuitionFeePayment(n){n.tuitionFeePaymentState="idle"}},extraReducers:n=>{n.addCase(Fn.pending,t=>{t.getTuitionFeeState="loading"}).addCase(Fn.fulfilled,(t,s)=>{t.getTuitionFeeState="success",t.tuitionFee=s.payload}).addCase(Fn.rejected,(t,s)=>{t.getTuitionFeeState="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(vs.pending,t=>{t.getTuitionFeesState="loading"}).addCase(vs.fulfilled,(t,s)=>{t.getTuitionFeesState="success",t.tuitionFees=s.payload}).addCase(vs.rejected,(t,s)=>{t.getTuitionFeesState="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Ts.pending,t=>{t.addTuitionFeeState="loading"}).addCase(Ts.fulfilled,t=>{t.addTuitionFeeState="success",w.success({message:"T\u1EA1o b\u1EA3ng h\u1ECDc ph\xED th\xE0nh c\xF4ng!"})}).addCase(Ts.rejected,(t,s)=>{t.addTuitionFeeState="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Ys.pending,t=>{t.updateTuitionFeeState="loading"}).addCase(Ys.fulfilled,t=>{t.updateTuitionFeeState="success",w.success({message:"C\u1EADp nh\u1EADt b\u1EA3ng h\u1ECDc ph\xED th\xE0nh c\xF4ng!"})}).addCase(Ys.rejected,(t,s)=>{t.updateTuitionFeeState="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Ls.pending,t=>{t.updateTuitionFeeState="loading"}).addCase(Ls.fulfilled,t=>{t.updateTuitionFeeState="success",w.success({message:"Chuy\u1EC3n n\u1EE3 h\u1ECDc ph\xED th\xE0nh c\xF4ng!"})}).addCase(Ls.rejected,(t,s)=>{t.updateTuitionFeeState="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Ps.pending,t=>{t.tuitionFeePaymentState="loading"}).addCase(Ps.fulfilled,t=>{t.tuitionFeePaymentState="success",w.success({message:"C\u1EADp nh\u1EADt th\xE0nh c\xF4ng!"})}).addCase(Ps.rejected,(t,s)=>{t.tuitionFeePaymentState="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})})}}),{actionSetTuitionFeesStateNull:_n}=ir.actions;var qo=ir.reducer;const nt=L("actionGetDayoffs",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/day-offs/",method:"get",params:n})).data}catch(s){return t(s)}}),Ns=L("actionAddDayoff",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/day-offs/",method:"post",data:n})).data}catch(s){return t(s)}}),Ms=L("actionDeleteDayoff",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/day-offs/${n}`,method:"delete"})).data}catch(s){return t(s)}}),Vo={dayoffs:null,getDayoffsState:"idle",addDayoffState:"idle",deleteDayoffState:"idle"},or=Ee({name:"tuitionFeeSlice",initialState:Vo,reducers:{actionResetDayOffs(n){n.dayoffs=null},actionGetDayoffs(n){n.getDayoffsState="idle"},actionAddDayoff(n){n.addDayoffState="idle"},actionDeleteDayoff(n){n.deleteDayoffState="idle"},actionSetAddDayoffStateIdle(n){n.addDayoffState="idle"},actionSetDeleteDayoffStateIdle(n){n.deleteDayoffState="idle"}},extraReducers:n=>{n.addCase(nt.pending,t=>{t.getDayoffsState="loading"}).addCase(nt.fulfilled,(t,s)=>{t.getDayoffsState="success",t.dayoffs=s.payload}).addCase(nt.rejected,(t,s)=>{t.getDayoffsState="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Ns.pending,t=>{t.addDayoffState="loading"}).addCase(Ns.fulfilled,t=>{t.addDayoffState="success",w.success({message:"Th\xEAm ng\xE0y ngh\u1EC9 th\xE0nh c\xF4ng"})}).addCase(Ns.rejected,(t,s)=>{t.addDayoffState="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Ms.pending,t=>{t.deleteDayoffState="loading"}).addCase(Ms.fulfilled,t=>{t.deleteDayoffState="success",w.success({message:"Xo\xE1 ng\xE0y ngh\u1EC9 th\xE0nh c\xF4ng"})}).addCase(Ms.rejected,(t,s)=>{t.deleteDayoffState="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})})}}),{actionSetAddDayoffStateIdle:$o,actionSetDeleteDayoffStateIdle:Jo,actionResetDayOffs:Vu}=or.actions;var Xo=or.reducer;const Yt=L("actionGetLessonInfo",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/lessons/${n}`,method:"get"})).data}catch(s){return t(s)}}),Me=L("actionGetLessions",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/lessons/",method:"get",params:n})).data}catch(s){return t(s)}}),Wo={lessonInfo:null,lessons:null,getLessonsState:"idle",getLessonInfoSate:"idle"},lr=Ee({name:"tuitionFeeSlice",initialState:Wo,reducers:{actionGetLessonInfo(n){n.getLessonInfoSate="idle"},actionResetGetLessionsStatus(n){n.getLessonsState="idle"},actionSetLessionsStateNull(n){n.lessons=null}},extraReducers:n=>{n.addCase(Yt.pending,t=>{t.getLessonInfoSate="loading"}).addCase(Yt.fulfilled,(t,s)=>{t.getLessonInfoSate="success",t.lessonInfo=s.payload}).addCase(Yt.rejected,(t,s)=>{t.getLessonInfoSate="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Me.pending,t=>{t.getLessonsState="loading"}).addCase(Me.fulfilled,(t,s)=>{t.getLessonsState="success",t.lessons=s.payload}).addCase(Me.rejected,(t,s)=>{t.getLessonsState="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})})}}),{actionSetLessionsStateNull:wn}=lr.actions;var Zo=lr.reducer;const kn=L("actionGetSalary",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/salaries/${n}`,method:"get"})).data}catch(s){return t(s)}}),ot=L("actionGetSalaries",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/salaries/",method:"get",params:n})).data}catch(s){return t(s)}}),Us=L("actionAddSalary",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/salaries/",method:"post",data:n})).data}catch(s){return t(s)}}),Gs=L("actionUpdateSalary",async(n,{rejectWithValue:t})=>{try{const{sID:s,data:a}=n;return(await Y({url:`/api/salaries/${s}`,method:"put",data:a})).data}catch(s){return t(s)}}),Qs=L("actionSalaryPaymentConfirmed",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/salaries/${n}`,method:"put",data:{status:1}})).data}catch(s){return t(s)}}),Os=L("actionDeleteSalary",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/salaries/${n}`,method:"delete"})).data}catch(s){return t(s)}}),el={salary:null,salaries:null,getSalary:"idle",getSalaries:"idle",addSalaryStatus:"idle",updateSalaryStatus:"idle",deleteSalaryStatus:"idle"},tl=Ee({name:"tuitionFeeSlice",initialState:el,reducers:{actionGetSalary(n){n.getSalary="idle"},actionGetSalaries(n){n.getSalaries="idle"},actionAddSalary(n){n.addSalaryStatus="idle"},actionupdateSalary(n){n.updateSalaryStatus="idle"},actionDeleteSalary(n){n.deleteSalaryStatus="idle"},actionSetUpdateSalaryStateIdle(n){n.updateSalaryStatus="idle"},actionSetDeleteSalaryStateIdle(n){n.deleteSalaryStatus="idle"}},extraReducers:n=>{n.addCase(kn.pending,t=>{t.getSalary="loading"}).addCase(kn.fulfilled,(t,s)=>{t.getSalary="success",t.salary=s.payload}).addCase(kn.rejected,(t,s)=>{t.getSalary="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(ot.pending,t=>{t.getSalaries="loading"}).addCase(ot.fulfilled,(t,s)=>{t.getSalaries="success",t.salaries=s.payload}).addCase(ot.rejected,(t,s)=>{t.getSalaries="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Us.pending,t=>{t.addSalaryStatus="loading"}).addCase(Us.fulfilled,t=>{t.addSalaryStatus="success"}).addCase(Us.rejected,(t,s)=>{t.addSalaryStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Gs.pending,t=>{t.updateSalaryStatus="loading"}).addCase(Gs.fulfilled,t=>{t.updateSalaryStatus="success",w.success({message:"C\u1EADp nh\u1EADt b\u1EA3ng l\u01B0\u01A1ng th\xE0nh c\xF4ng"})}).addCase(Gs.rejected,(t,s)=>{t.updateSalaryStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Qs.pending,t=>{t.updateSalaryStatus="loading"}).addCase(Qs.fulfilled,t=>{t.updateSalaryStatus="success",w.success({message:"C\u1EADp nh\u1EADt b\u1EA3ng l\u01B0\u01A1ng th\xE0nh c\xF4ng"})}).addCase(Qs.rejected,(t,s)=>{t.updateSalaryStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Os.pending,t=>{t.deleteSalaryStatus="loading"}).addCase(Os.fulfilled,t=>{t.deleteSalaryStatus="success",w.success({message:"Xo\xE1 b\u1EA3ng l\u01B0\u01A1ng th\xE0nh c\xF4ng"})}).addCase(Os.rejected,(t,s)=>{t.deleteSalaryStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})})}});var sl=tl.reducer;const Rn=L("actionGetTestResults",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"api/test-results",method:"get",params:n})).data}catch(s){return t(s)}}),js=L("actionAddTestResult",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"api/test-results",method:"post",data:n})).data}catch(s){return t(s)}}),Hs=L("actionUpdateTestResults",async(n,{rejectWithValue:t})=>{try{const s=n,{id:a}=s,l=gn(s,["id"]);return(await Y({url:`api/test-results/${a}`,method:"put",data:l})).data}catch(a){return t(a)}}),nl={testResults:null,getTestResultsStatus:"idle",addTestResultStatus:"idle",updateTestResultStatus:"idle"},dr=Ee({name:"testResult",initialState:nl,reducers:{resetGetTestResultsStatus(n){n.getTestResultsStatus="idle"},resetAddTestResultsStatus(n){n.getTestResultsStatus="idle"},resetUpdateTestResultsStatus(n){n.getTestResultsStatus="idle"}},extraReducers:n=>{n.addCase(Rn.fulfilled,(t,s)=>{t.testResults=s.payload,t.getTestResultsStatus="success"}).addCase(Rn.pending,t=>{t.getTestResultsStatus="loading"}).addCase(Rn.rejected,(t,s)=>{t.getTestResultsStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(js.pending,t=>{t.addTestResultStatus="loading"}).addCase(js.rejected,(t,s)=>{t.addTestResultStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(js.fulfilled,t=>{t.addTestResultStatus="success"}).addCase(Hs.pending,t=>{t.updateTestResultStatus="loading"}).addCase(Hs.rejected,(t,s)=>{t.updateTestResultStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Hs.fulfilled,t=>{t.updateTestResultStatus="success"})}}),{resetGetTestResultsStatus:$u,resetAddTestResultsStatus:Ju,resetUpdateTestResultsStatus:al}=dr.actions;var rl=dr.reducer;const je=L("actionGetStudySummaryList",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/study-summary-boards/",method:"get",params:n})).data}catch(s){return t(s)}}),zs=L("actionGetStudyGifts",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/student-gifts/",method:"get",params:n})).data}catch(s){return t(s)}}),Ks=L("actionAddStudySummary",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/study-summary-boards/",method:"post",data:n})).data}catch(s){return t(s)}});L("actionUpdateStudySummary",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/study-summary-boards/",method:"put",data:n})).data}catch(s){return t(s)}});const qs=L("actionDeleteStudySummary",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/study-summary-boards/${n}`,method:"delete"})).data}catch(s){return t(s)}}),il={studySummaryList:null,studentGifts:null,getStudySummaryListState:"idle",getStudyGiftsState:"idle",addStudySummaryState:"idle",updateStudySummaryState:"idle",deleteStudySummaryState:"idle"},ol=Ee({name:"tuitionFeeSlice",initialState:il,reducers:{actionGetStudySummaryList(n){n.getStudySummaryListState="idle"},actionAddStudySummary(n){n.addStudySummaryState="idle"},actionUpdateStudySummary(n){n.updateStudySummaryState="idle"},actionDeleteStudySummary(n){n.deleteStudySummaryState="idle"}},extraReducers:n=>{n.addCase(je.pending,t=>{t.getStudySummaryListState="loading"}).addCase(je.fulfilled,(t,s)=>{t.getStudySummaryListState="success",t.studySummaryList=s.payload}).addCase(je.rejected,(t,s)=>{t.getStudySummaryListState="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(zs.pending,t=>{t.getStudyGiftsState="loading"}).addCase(zs.fulfilled,(t,s)=>{t.getStudyGiftsState="success",t.studentGifts=s.payload}).addCase(zs.rejected,(t,s)=>{t.getStudyGiftsState="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Ks.pending,t=>{t.addStudySummaryState="loading"}).addCase(Ks.fulfilled,t=>{t.addStudySummaryState="success",w.success({message:"L\u01B0u b\u1EA3ng t\u1ED5ng k\u1EBFt th\xE0nh c\xF4ng"})}).addCase(Ks.rejected,(t,s)=>{t.addStudySummaryState="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(qs.pending,t=>{t.deleteStudySummaryState="loading"}).addCase(qs.fulfilled,t=>{t.deleteStudySummaryState="success",w.success({message:"Xo\xE1 b\u1EA3ng t\u1ED5ng k\u1EBFt th\xE0nh c\xF4ng"})}).addCase(qs.rejected,(t,s)=>{t.deleteStudySummaryState="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})})}});var ll=ol.reducer;const Vs=L("actionGetSystemSettingInfo",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/settings/1",method:"get"})).data}catch(s){return t(s)}}),$s=L("actionUpdateSystemSetting",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/settings/1",method:"put",data:n})).data}catch(s){return t(s)}}),dl={systemSettingInfo:null,getSystemSettingState:"idle",updateSystemSettingState:"idle"},ul=Ee({name:"tuitionFeeSlice",initialState:dl,reducers:{actionGetSystemSettingInfo(n){n.getSystemSettingState="idle"},actionUpdateSystemSettingInfo(n){n.getSystemSettingState="idle"}},extraReducers:n=>{n.addCase(Vs.pending,t=>{t.getSystemSettingState="loading"}).addCase(Vs.fulfilled,(t,s)=>{t.getSystemSettingState="success",t.systemSettingInfo=s.payload}).addCase(Vs.rejected,(t,s)=>{t.getSystemSettingState="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase($s.pending,t=>{t.updateSystemSettingState="loading"}).addCase($s.fulfilled,(t,s)=>{t.updateSystemSettingState="success",t.systemSettingInfo=s.payload,w.success({message:"C\u1EADp nh\u1EADt th\xF4ng tin h\u1EC7 th\u1ED1ng th\xE0nh c\xF4ng"})}).addCase($s.rejected,t=>{t.updateSystemSettingState="error",w.error({message:"C\u1EADp nh\u1EADt th\xF4ng tin h\u1EC7 th\u1ED1ng b\u1ECB l\u1ED7i!"})})}});var cl=ul.reducer;const hl={newsList:null,newInfo:null,getNewsListStatus:"idle",getNewsInfoStatus:"idle",addNewsStatus:"idle",updateNewsStatus:"idle",deleteNewsStatus:"idle"},Bn=L("actionGetNewsInfo",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/news/${n}`,method:"get"})).data}catch(s){return t(s)}}),Ct=L("actionGetNewsList",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/news",method:"get",params:n})).data}catch(s){return t(s)}}),Js=L("actionAddNews",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/news",method:"post",data:n})).data}catch(s){return t(s)}}),Xs=L("actionUpdateNews",async(n,{rejectWithValue:t})=>{try{const{data:s,newId:a}=n;return(await Y({url:`/api/news/${a}`,method:"put",data:s})).data}catch(s){return t(s)}}),Ws=L("actionDeleteNews",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/news/${n}`,method:"delete"})).data}catch(s){return t(s)}}),pl=Ee({name:"news",initialState:hl,reducers:{},extraReducers:n=>{n.addCase(Bn.pending,t=>{t.getNewsInfoStatus="loading"}).addCase(Bn.fulfilled,(t,s)=>{t.newInfo=s.payload,t.getNewsInfoStatus="success"}).addCase(Bn.rejected,(t,s)=>{t.getNewsInfoStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}),n.addCase(Ct.pending,t=>{t.getNewsListStatus="loading"}).addCase(Ct.fulfilled,(t,s)=>{t.newsList=s.payload,t.getNewsListStatus="success"}).addCase(Ct.rejected,(t,s)=>{t.getNewsListStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Js.pending,t=>{t.addNewsStatus="loading"}).addCase(Js.fulfilled,t=>{t.addNewsStatus="success",w.success({message:"Th\xEAm b\xE0i tin th\xE0nh c\xF4ng!"})}).addCase(Js.rejected,(t,s)=>{t.addNewsStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Xs.pending,t=>{t.updateNewsStatus="loading"}).addCase(Xs.fulfilled,t=>{t.updateNewsStatus="success",w.success({message:"S\u1EEDa b\xE0i tin th\xE0nh c\xF4ng!"})}).addCase(Xs.rejected,(t,s)=>{t.updateNewsStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Ws.pending,t=>{t.deleteNewsStatus="loading"}).addCase(Ws.fulfilled,t=>{t.deleteNewsStatus="success",w.success({message:"Xo\xE1 b\xE0i tin th\xE0nh c\xF4ng!"})}).addCase(Ws.rejected,(t,s)=>{t.deleteNewsStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})})}});var El=pl.reducer;const ml={notificationList:null,notificationInfo:null,getNotificationListStatus:"idle",getNotificationInfoStatus:"idle",addNotificationStatus:"idle",updateNotificationStatus:"idle",deleteNotificationStatus:"idle"},In=L("actionGetNotificationInfo",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/notifications/${n}`,method:"get"})).data}catch(s){return t(s)}}),vn=L("actionGetNotificationList",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/notifications",method:"get",params:n})).data}catch(s){return t(s)}}),Pt=L("actionAddNotification",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/notifications",method:"post",data:n})).data}catch(s){return t(s)}}),Tn=L("actionUpdateNotification",async(n,{rejectWithValue:t})=>{try{const{data:s,notiId:a}=n;return(await Y({url:`/api/notifications/${a}`,method:"put",data:s})).data}catch(s){return t(s)}}),Yn=L("actionDeleteNotification",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/notifications/${n}`,method:"delete"})).data}catch(s){return t(s)}}),gl=Ee({name:"notification",initialState:ml,reducers:{},extraReducers:n=>{n.addCase(In.pending,t=>{t.getNotificationInfoStatus="loading"}).addCase(In.fulfilled,(t,s)=>{t.notificationInfo=s.payload,t.getNotificationInfoStatus="success"}).addCase(In.rejected,(t,s)=>{t.getNotificationInfoStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}),n.addCase(vn.pending,t=>{t.getNotificationListStatus="loading"}).addCase(vn.fulfilled,(t,s)=>{t.notificationList=s.payload,t.getNotificationListStatus="success"}).addCase(vn.rejected,(t,s)=>{t.getNotificationListStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Pt.pending,t=>{t.addNotificationStatus="loading"}).addCase(Pt.fulfilled,t=>{t.addNotificationStatus="success",w.success({message:"G\u1EEDi th\xF4ng b\xE1o th\xE0nh c\xF4ng!"})}).addCase(Pt.rejected,(t,s)=>{t.addNotificationStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Tn.pending,t=>{t.updateNotificationStatus="loading"}).addCase(Tn.fulfilled,t=>{t.updateNotificationStatus="success",w.success({message:"S\u1EEDa th\xF4ng b\xE1o th\xE0nh c\xF4ng!"})}).addCase(Tn.rejected,(t,s)=>{t.updateNotificationStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Yn.pending,t=>{t.deleteNotificationStatus="loading"}).addCase(Yn.fulfilled,t=>{t.deleteNotificationStatus="success",w.success({message:"Xo\xE1 th\xF4ng b\xE1o th\xE0nh c\xF4ng!"})}).addCase(Yn.rejected,(t,s)=>{t.deleteNotificationStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})})}});var fl=gl.reducer;const xl={giftList:null,giftInfo:null,getGiftListStatus:"idle",getGiftInfoStatus:"idle",addGiftStatus:"idle",updateGiftStatus:"idle",deleteGiftStatus:"idle"},Pn=L("actionGetGiftInfo",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/gifts/${n}`,method:"get"})).data}catch(s){return t(s)}}),St=L("actionGetGiftList",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/gifts",method:"get",params:n})).data}catch(s){return t(s)}}),Zs=L("actionAddGift",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/gifts",method:"post",data:n})).data}catch(s){return t(s)}}),en=L("actionUpdateGift",async(n,{rejectWithValue:t})=>{try{const{data:s,giftId:a}=n;return(await Y({url:`/api/gifts/${a}`,method:"put",data:s})).data}catch(s){return t(s)}}),tn=L("actionDeleteGift",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/gifts/${n}`,method:"delete"})).data}catch(s){return t(s)}}),yl=Ee({name:"gifts",initialState:xl,reducers:{},extraReducers:n=>{n.addCase(Pn.pending,t=>{t.getGiftInfoStatus="loading"}).addCase(Pn.fulfilled,(t,s)=>{t.giftInfo=s.payload,t.getGiftInfoStatus="success"}).addCase(Pn.rejected,(t,s)=>{t.getGiftInfoStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}),n.addCase(St.pending,t=>{t.getGiftListStatus="loading"}).addCase(St.fulfilled,(t,s)=>{t.giftList=s.payload,t.getGiftListStatus="success"}).addCase(St.rejected,(t,s)=>{t.getGiftListStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Zs.pending,t=>{t.addGiftStatus="loading"}).addCase(Zs.fulfilled,t=>{t.addGiftStatus="success",w.success({message:"Th\xEAm th\xE0nh c\xF4ng!"})}).addCase(Zs.rejected,(t,s)=>{t.addGiftStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(en.pending,t=>{t.updateGiftStatus="loading"}).addCase(en.fulfilled,t=>{t.updateGiftStatus="success",w.success({message:"S\u1EEDa th\xF4ng tin qu\xE0 t\u1EB7ng th\xE0nh c\xF4ng!"})}).addCase(en.rejected,(t,s)=>{t.updateGiftStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(tn.pending,t=>{t.deleteGiftStatus="loading"}).addCase(tn.fulfilled,t=>{t.deleteGiftStatus="success",w.success({message:"Xo\xE1 th\xE0nh c\xF4ng!"})}).addCase(tn.rejected,(t,s)=>{t.deleteGiftStatus="error";const a=s.payload;w.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})})}});var Cl=yl.reducer;const Sl={revenueStat:null,studentStat:null,classesToday:[],birthdayList:null,getRevenueStatStatus:"idle",getStudentStatStatus:"idle",getClassesTodayStatus:"idle",getBirthdayListStatus:"idle"},At=L("actionGetRevenueStat",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/statistical/revenue",method:"get",params:n})).data}catch(s){return t(s)}}),Lt=L("actionGetStudentStat",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/statistical/students",method:"get",params:n})).data}catch(s){return t(s)}}),sn=L("actionGetClassesToday",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/statistical/class",method:"get",params:n})).data}catch(s){return t(s)}}),Nt=L("actionGetBirthdayList",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/statistical/birthday",method:"get",params:n})).data}catch(s){return t(s)}}),Al=Ee({name:"revenues",initialState:Sl,reducers:{actionGetRevenueStat(n){n.getRevenueStatStatus="idle"},actionGetStudentStat(n){n.getStudentStatStatus="idle"},actionGetClassesToday(n){n.getClassesTodayStatus="idle"},actionGetBirthdayList(n){n.getBirthdayListStatus="idle"}},extraReducers:n=>{n.addCase(At.fulfilled,(t,s)=>{t.getRevenueStatStatus="success",t.revenueStat=s.payload}).addCase(At.pending,t=>{t.getRevenueStatStatus="loading"}).addCase(At.rejected,(t,s)=>{t.getRevenueStatStatus="error";const a=s.payload;Ht.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Lt.fulfilled,(t,s)=>{t.getStudentStatStatus="success",t.studentStat=s.payload}).addCase(Lt.pending,t=>{t.getStudentStatStatus="loading"}).addCase(Lt.rejected,(t,s)=>{t.getStudentStatStatus="error";const a=s.payload;Ht.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(sn.fulfilled,(t,s)=>{t.getClassesTodayStatus="success",t.classesToday=s.payload}).addCase(sn.pending,t=>{t.getClassesTodayStatus="loading"}).addCase(sn.rejected,(t,s)=>{t.getClassesTodayStatus="error";const a=s.payload;Ht.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Nt.fulfilled,(t,s)=>{t.getBirthdayListStatus="success",t.birthdayList=s.payload}).addCase(Nt.pending,t=>{t.getBirthdayListStatus="loading"}).addCase(Nt.rejected,(t,s)=>{t.getBirthdayListStatus="error";const a=s.payload;Ht.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})})}});var Dl=Al.reducer;const bl=Br({auth:Ui,userReducer:Yo,employeeReducer:so,roleReducer:Do,permissionReducer:fo,studentReducer:Ro,parentReducer:lo,classReducer:Wi,paymentReducer:Eo,attendanceReducer:Ki,filesReducer:ro,testReducer:No,revenuesReducer:Oo,periodTuitionReducer:zo,dayoffReducer:Xo,tuitionFeeReducer:qo,lessonReducer:Zo,salariesReducer:sl,testResultsReducer:rl,studySummaryReducer:ll,systemSettingReducer:cl,newsReducer:El,notificationReducer:fl,giftReducer:Cl,statisticalReducer:Dl}),Fl={key:"root",storage:Pr,whitelist:["auth"]},_l=Ir(Fl,bl),wl=vr({serializableCheck:!1}),$n=Tr({reducer:_l,middleware:wl}),kl=Yr($n),q=()=>Ge();function Rl(){const[n,t]=o.exports.useState(!1),s=q();function a(l){s(Vt(l)).finally(()=>t(!1))}return d(Q,{children:[e(k,{type:"link",onClick:()=>t(!0),children:"Thay \u0111\u1ED5i m\u1EADt kh\u1EA9u"}),e(Te,{title:"Thay \u0111\u1ED5i m\u1EADt kh\u1EA9u",visible:n,width:600,closable:!0,onCancel:()=>t(!1),footer:[e(k,{type:"primary",htmlType:"submit",form:"cForm",children:"G\u1EEDi l\xEAn"},"btnsubmit")],children:d(D,{name:"basic",id:"cForm",labelCol:{span:8},wrapperCol:{span:14},initialValues:{remember:!0},onFinish:a,autoComplete:"off",children:[e(D.Item,{label:"M\u1EADt kh\u1EA9u hi\u1EC7n t\u1EA1i",name:"current_password",rules:[{required:!0,message:"Tr\u01B0\u1EDDng n\xE0y kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:e(M.Password,{})}),e(D.Item,{label:"M\u1EADt kh\u1EA9u m\u1EDBi",name:"new_password",rules:[{required:!0,message:"Tr\u01B0\u1EDDng n\xE0y kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:e(M.Password,{})})]})})]})}const{Header:Bl}=ie,Il=Je.div`
	display: flex;
	justify-content: space-between;
	align-items: center;
	height: 100%;
	padding-right: 0.8rem;
	padding-left: 0.8rem;
`;function vl(n){const{onClickMenu:t}=n,s=Ge(),a=R(c=>c.auth.user);function l(){s(za())}return e(Bl,{style:{padding:0,background:"white"},children:d(Il,{children:[e(Lr,{className:"cursor-pointer",onClick:t}),e("div",{children:e(Nr,{overlay:d(xe,{children:[e(xe.Item,{children:e(ji,{})},"setting"),e(xe.Item,{children:e(Rl,{})},"change-password"),e(xe.Item,{onClick:l,children:e(k,{type:"link",children:"\u0110\u0103ng xu\u1EA5t"})},"logout")]}),className:"mr-2",children:d(k,{type:"text",children:[e("strong",{style:{color:"#e67e22"},children:r.exports.get(a,"profile.name","")}),e(Mr,{})]})})})]})})}[...Array(100)].map((n,t)=>t);const Rt=[{value:1,label:"Home"},{value:2,label:"Ng\u01B0\u1EDDi d\xF9ng"},{value:3,label:"Nh\xE2n vi\xEAn"},{value:4,label:"B\u1EA3ng l\u01B0\u01A1ng"},{value:5,label:"L\u1EDBp h\u1ECDc"},{value:6,label:"H\u1ECDc sinh"},{value:7,label:"Ph\u1EE5 huynh"},{value:8,label:"Qu\u1EA3n l\xFD chi ti\xEAu"},{value:9,label:"Qu\u1EA3n l\xFD doanh thu"},{value:10,label:"Qu\u1EA3n l\xFD h\u1ECDc ph\xED"},{value:11,label:"B\u1EA3ng t\u1ED5ng k\u1EBFt"},{value:12,label:"Qu\u1EA3n l\xFD tin b\xE0i"},{value:13,label:"Qu\u1EA3n l\xFD qu\xE0 t\u1EB7ng"},{value:14,label:"Vai tr\xF2"},{value:15,label:"Qu\u1EA3n l\xFD file"},{value:16,label:"Qu\u1EA3n l\xFD h\u1EC7 th\u1ED1ng"}],{SubMenu:Ln}=xe;function Tl(){const n=Se(),t=R(i=>i.auth.user),[s,a]=o.exports.useState([""]),[l,c]=o.exports.useState([""]),S=Hn().pathname,[m,p]=o.exports.useState([]);return o.exports.useEffect(()=>{if(S.includes("/users")){c([""]),a(["2"]);return}if(S.includes("/employees")){c(["employees"]),a(["3"]);return}if(S.includes("/salaries")){c(["employees"]),a(["4"]);return}if(S.includes("/classes")){c(["classes"]),a(["5"]);return}if(S.includes("/students")){c(["classes"]),a(["6"]);return}if(S.includes("/parents")){c(["classes"]),a(["7"]);return}if(S.includes("/study-summary")){c(["classes"]),a(["8"]);return}if(S.includes("/payments/payment-slips")){c(["payments"]),a(["9"]);return}if(S.includes("/payments/revenue")){c(["payments"]),a(["10"]);return}if(S.includes("payments/tuition")){c(["payments"]),a(["11"]);return}if(S.includes("/payments")){c(["payments"]);return}if(S.includes("/news")){a(["12"]);return}if(S.includes("/gifts")){a(["13"]);return}if(S.includes("/roles")){c(["permissions"]),a(["14"]);return}if(S.includes("/files")){a(["15"]);return}if(S.includes("/settings")){a(["16"]);return}if(S.includes("/")){c([""]),a(["1"]);return}},[S]),console.log(S,s),o.exports.useEffect(()=>{const i=[];r.exports.get(t,"roles",[]).map(({id:u,menues:E})=>{var _;if(u===1)i.push(...Rt.map(g=>g.value));else if(r.exports.isString(E)&&E.length>2){const g=`${E}`.substring(1,((_=`${E}`)==null?void 0:_.length)-1).split(",").map(y=>+y);i.push(...g)}else r.exports.isArray(E)&&E&&i.push(...E)}),p([...new Set(i)])},[t]),o.exports.useEffect(()=>{}),d(xe,{mode:"inline",selectedKeys:s,openKeys:l,style:{borderRight:"none"},children:[m.includes(1)&&e(xe.Item,{icon:e(Ur,{}),onClick:()=>n.push("/"),children:"Trang ch\u1EE7"},"1"),m.includes(2)&&e(xe.Item,{icon:e(un,{}),onClick:()=>n.push("/users"),children:"Ng\u01B0\u1EDDi d\xF9ng"},"2"),(m.includes(3)||m.includes(4))&&d(Ln,{onTitleClick:()=>c(["employees"]),icon:e(Gr,{}),title:"Nh\xE2n vi\xEAn",children:[m.includes(3)&&e(xe.Item,{onClick:()=>n.push("/employees"),children:"Nh\xE2n vi\xEAn"},"3"),m.includes(4)&&e(xe.Item,{onClick:()=>n.push("/salaries"),children:"B\u1EA3ng l\u01B0\u01A1ng"},"4")]},"employees"),(m.includes(5)||m.includes(6)||m.includes(7)||m.includes(8))&&d(Ln,{onTitleClick:()=>c(["classes"]),icon:e(Qr,{}),title:"QL h\u1ECDc t\u1EADp",children:[m.includes(5)&&e(xe.Item,{onClick:()=>n.push("/classes"),children:"L\u1EDBp h\u1ECDc"},"5"),m.includes(6)&&e(xe.Item,{onClick:()=>n.push("/students"),children:"H\u1ECDc sinh"},"6"),m.includes(7)&&e(xe.Item,{onClick:()=>n.push("/parents"),children:"Ph\u1EE5 huynh"},"7"),m.includes(11)&&e(xe.Item,{onClick:()=>n.push("/study-summary"),children:"B\u1EA3ng t\u1ED5ng k\u1EBFt"},"8")]},"classes"),(m.includes(9)||m.includes(10)||m.includes(11))&&d(Ln,{onTitleClick:()=>c(["payments"]),icon:e(Or,{}),title:"Thu Chi",children:[m.includes(9)&&e(xe.Item,{onClick:()=>n.push("/payments/payment-slips"),children:"QL Chi ti\xEAu"},"9"),m.includes(10)&&e(xe.Item,{onClick:()=>n.push("/payments/revenue"),children:"QL doanh thu"},"10"),m.includes(11)&&e(xe.Item,{onClick:()=>n.push("/payments/tuition"),children:"QL h\u1ECDc ph\xED"},"11")]},"payments"),m.includes(12)&&e(xe.Item,{icon:e(wa,{}),onClick:()=>n.push("/news"),children:"Tin b\xE0i"},"12"),m.includes(13)&&e(xe.Item,{icon:e(mt,{}),onClick:()=>n.push("/gifts"),children:"Qu\xE0 t\u1EB7ng"},"13"),m.includes(14)&&e(xe.Item,{icon:e(jr,{}),onClick:()=>n.push("/roles"),children:"Vai tr\xF2"},"14"),m.includes(15)&&e(xe.Item,{icon:e(ka,{}),onClick:()=>n.push("/files"),children:"QL File"},"15"),m.includes(16)&&e(xe.Item,{icon:e(Hr,{}),onClick:()=>n.push("/settings"),children:"H\u1EC7 th\u1ED1ng"},"16")]})}const En={YYYY_MM_DD:"YYYY/MM/DD",YYYY_MM:"YYYY/MM",YYYY__MM__DD:"YYYY-MM-DD",DD_MM_YYYY_HH_mm_ss:"DD-MM-YYYY HH:mm:ss"};function mn(n,t){return n?I(n).format(t):""}function ur(n,t){return I(n).diff(I(t))}function cr(n,t,s){const a=new Date(n),l=new Date(t),c=[],x=new Date(a.getTime()),S=new Date(x.setDate(x.getDate()+(7+s-x.getDay())%7));for(;S.getTime()<=l.getTime();)c.push(S.toLocaleDateString()),S.setDate(S.getDate()+7);return c}function hr(n,t){const s=[];return n.length==0||t.length==0||n.forEach(a=>{t.forEach(l=>{I(a).isSame(I(l))&&s.push(a)})}),s}function bt(n){return W(n).format("(0,0)")}function Yl(n){return W(n).format("0.0 b")}function pr(n){setTimeout(()=>{n.onSuccess&&n.onSuccess("ok")},0)}function ln(n){return Ka.includes(n.toLowerCase())}function Pl(n){return n===ee.ADMIM||n===ee.TEACHER||n===ee.TEACHER2||n===ee.PARENT||n===ee.SALE||n===ee.ON_MANAGER}function Qt(n){let t=n;switch(n){case ee.ADMIM:t="Qu\u1EA3n tr\u1ECB h\u1EC7 th\u1ED1ng";break;case ee.TEACHER:t="Gi\xE1o vi\xEAn ch\xEDnh th\u1EE9c";break;case ee.TEACHER2:t="Gi\xE1o vi\xEAn h\u1EE3p \u0111\u1ED3ng";break;case ee.SALE:t="Nh\xE2n vi\xEAn kinh doanh";break;case ee.EMPLOYEE:t="Nh\xE2n vi\xEAn";break;case ee.PARENT:t="Ph\u1EE5 huynh";break;case ee.ON_MANAGER:t="Qu\u1EA3n l\xFD HS online";break}return t}function dn(n){let t=n;switch(n){case"users":t="Ng\u01B0\u1EDDi d\xF9ng";break;case"get-list-teacher":t="Xem danh s\xE1ch ph\u1EE5 huynh";break;case"change-password-of-user":t="Thay \u0111\u1ED5i m\u1EADt kh\u1EA9u";break;case"add-teacher":t="Th\xEAm gi\xE1o vi\xEAn";break;case"restore-user":t="Kh\xF4i ph\u1EE5c t\xE0i kho\u1EA3n";break;case"tuition-fees":t="H\u1ECDc ph\xED";break;case"debit-tranfer":t="Chuy\u1EC3n n\u1EE3";break;case"tests":t="B\xE0i t\u1EADp";break;case"test-results":t="K\u1EBFt qu\u1EA3 b\xE0i t\u1EADp";break;case"study-summary-boards":t="B\u1EA3ng t\u1ED5ng k\u1EBFt";break;case"students":t="H\u1ECDc sinh";break;case"update-status":t="C\u1EADp nh\u1EADt tr\u1EA1ng th\xE1i";break;case"student-gifts":t="Ch\u1ECDn qu\xE0 t\u1EB7ng";break;case"settings":t="C\xE0i \u0111\u1EB7t h\u1EC7 th\u1ED1ng";break;case"salaries":t="B\u1EA3ng l\u01B0\u01A1ng";break;case"roles":t="Vai tr\xF2";break;case"set-role-for-list-user":t="Set vai tr\xF2 cho ng\u01B0\u1EDDi d\xF9ng";break;case"remove-role-of-list-user":t="B\u1ECF vai tr\xF2 c\u1EE7a ng\u01B0\u1EDDi d\xF9ng";break;case"review-lessons":t="Xem l\u1EA1i b\xE0i h\u1ECDc";break;case"receipts":t="Phi\u1EBFu thu";break;case"permissions":t="Ph\xE2n quy\u1EC1n";break;case"set-permission-for-user":t="Ph\xE2n quy\u1EC1n cho ng\u01B0\u1EDDi d\xF9ng";break;case"set-permission-for-role":t="Ph\xE2n quy\u1EC1n cho vai tr\xF2";break;case"list-permission-of-user":t="Xem ds quy\u1EC1n c\u1EE7a ng\u01B0\u1EDDi d\xF9ng";break;case"period-tuitions":t="Chu k\u1EF3 h\u1ECDc ph\xED";break;case"payment-slips":t="Phi\u1EBFu chi";break;case"notifications":t="Th\xF4ng b\xE1o";break;case"news":t="Tin t\u1EE9c";break;case"lessons":t="B\xE0i h\u1ECDc";break;case"lessons-feedback":t="Ph\u1EA3n h\u1ED3i b\xE0i h\u1ECDc";break;case"files":t="Qu\u1EA3n l\xFD files";break;case"day-offs":t="Ng\xE0y ngh\u1EC9";break;case"classes":t="L\u1EDBp h\u1ECDc";break;case"add-student":t="Th\xEAm h\u1ECDc sinh";break;case"attendances":t="\u0110i\u1EC3m danh";break;case"albums":t="Album \u1EA3nh ";break;case"gifts":t="Qu\xE0 t\u1EB7ng";break;case"devices":t="Thi\u1EBFt b\u1ECB nh\u1EADn th\xF4ng b\xE1o";break;case"many-updates":t="C\u1EADp nh\u1EADt theo l\u1EDBp";break;case"payment":t="X\xE1c nh\u1EADn thanh to\xE1n";break;case"statistical":t="Th\u1ED1ng k\xEA";break;case"revenue":t="Doanh thu";break;case"class":t="L\u1EDBp h\u1ECDc";break;case"update_status":t="C\u1EADp nh\u1EADt tr\u1EA1ng th\xE1i";break}return t}const Ll=Je.div``;function Nl(){const n=q(),t=R(i=>i.employeeReducer.employees),s=R(i=>i.auth.user),a=R(i=>i.paymentReducer.addPaymentStatus),[l,c]=o.exports.useState(!1),[x,S]=o.exports.useState(!1),[m]=D.useForm();o.exports.useEffect(()=>{n(ve({}))},[n]),o.exports.useEffect(()=>{a==="loading"?S(!0):a==="success"?(S(!1),c(!1),m.resetFields()):a==="error"&&S(!1)},[a,m]);function p(i){const u=re({},i);u.date=I(i.date).format("YYYY-MM-DD"),u.creator_employee_id=s==null?void 0:s.id,n(ds(u))}return d(Ll,{children:[e(k,{type:"primary",icon:e(De,{}),onClick:()=>c(!0),children:"Th\xEAm chi ti\xEAu"}),e(te,{width:1e3,visible:l,closable:!0,onCancel:()=>c(!1),footer:[e(k,{onClick:()=>c(!1),children:"Cancel"},""),e(k,{type:"primary",form:"eForm",htmlType:"submit",children:"Submit"},"submit")],children:e(Ae,{spinning:x,children:d(D,{id:"eForm",labelCol:{span:6},wrapperCol:{span:14},layout:"horizontal",form:m,onFinish:p,children:[e(Ve,{children:"Th\xEAm chi ti\xEAu m\u1EDBi"}),e(D.Item,{name:"pay_employee_id",label:"Ng\u01B0\u1EDDi chi",rules:[{required:!0,message:"Ng\u01B0\u1EDDi chi kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:e(O,{children:t&&r.exports.get(t,"data",[]).map(i=>{var u;return d(O.Option,{value:i.id,children:[`${r.exports.get(i,"profile.name","")}`," ",e("a",{children:(u=i.phone)!=null?u:""})]},i.id)})})}),e(D.Item,{name:"amount",label:"S\u1ED1 ti\u1EC1n",rules:[{required:!0,message:"S\u1ED1 ti\u1EC1n kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:e(he,{style:{width:"100%"},formatter:i=>`${i}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:i=>i.replace(/(,*)/g,"")})}),e(D.Item,{name:"type",label:"Lo\u1EA1i chi ti\xEAu",rules:[{required:!0,message:"Lo\u1EA1i chi ti\xEAu kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:d(O,{children:[e(O.Option,{value:0,children:"C\u1ED1 \u0111\u1ECBnh"}),e(O.Option,{value:1,children:"Ph\xE1t sinh"})]})}),e(D.Item,{name:"date",label:"Ng\xE0y thu/ chi",rules:[{required:!0,message:"Ng\xE0y thu/ chi kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:e(ye,{})}),e(D.Item,{name:"reason",label:"L\xFD do",rules:[{required:!0,message:"L\xFD do kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:e(M.TextArea,{})}),e(D.Item,{name:"note",label:"Ghi ch\xFA",children:e(M.TextArea,{})})]})})})]})}Je.div`
	position: relative;
	border: 1px solid rgba(64, 64, 64, 0.5);
	border-radius: 10px;
	padding: 10px 30px;
	.text-center {
		text-align: center;
	}
	.mb-20px {
		margin-bottom: 20px;
	}
	.logo {
		position: absolute;
		left: 50%;
		top: 50%;
		transform: translate(-50%, -50%);
		opacity: 70%;
	}
`;function Ml({handleShowDetail:n,show:t,data:s}){return e(Q,{children:e(Te,{width:800,title:"Th\xF4ng tin phi\u1EBFu chi",visible:t,cancelText:"",onCancel:()=>n(!1),children:s&&d(j,{bordered:!0,children:[e(j.Item,{span:2,label:"Ng\u01B0\u1EDDi l\u1EADp",children:e("a",{href:"#",children:r.exports.get(s,"creator.profile.name")})}),e(j.Item,{label:"Ng\xE0y l\u1EADp",children:I(s==null?void 0:s.created_at).format("DD-MM-YYYY HH:mm")}),e(j.Item,{label:"S\u1ED1 ti\u1EC1n",children:d("strong",{style:{color:"#cf1322"},children:[" ",bt((s==null?void 0:s.amount)||0)]})}),e(j.Item,{label:"Lo\u1EA1i chi",children:e(ae,{color:(s==null?void 0:s.type)===1?"#3498db":"#d35400",children:s&&Vn[s==null?void 0:s.type]})}),e(j.Item,{label:"Tr\u1EA1ng th\xE1i",children:e(ae,{color:s.status===1?"green":"red",children:Xa[s==null?void 0:s.status]})}),e(j.Item,{label:"L\xFD do",span:4,children:s==null?void 0:s.reason}),e(j.Item,{label:"Ghi ch\xFA",children:s==null?void 0:s.note})]})})})}const{RangePicker:Ul}=ye;Je.div`
	.ant-table-tbody > tr.ant-table-row:hover > td {
		background: #61dafb38;
	}
	.ant-table-tbody > tr.ant-table-row.editing-row > td {
		background: #61dafb38;
	}
`;const{confirm:Gl}=te;function Ql(){const n=q(),[t,s]=o.exports.useState(["",""]),[a,l]=o.exports.useState(!1),[c,x]=o.exports.useState([]),[S,m]=o.exports.useState(0),[p,i]=o.exports.useState(!1),[u,E]=o.exports.useState(null),[_,g]=o.exports.useState(1),[y,A]=o.exports.useState(""),[h,f]=o.exports.useState([]),[F,C]=o.exports.useState([]),b=R(U=>U.paymentReducer.payments),v=R(U=>U.paymentReducer.getPaymentStatus),T=R(U=>U.paymentReducer.updatePaymentStatus),P=R(U=>U.paymentReducer.addPaymentStatus),N=R(U=>U.paymentReducer.deletePaymentStatus);o.exports.useRef(r.exports.debounce(U=>n(Qe({search:U})),500)).current,o.exports.useEffect(()=>{const U=I().startOf("month").format("YYYY-MM-DD"),z=I().endOf("month").format("YYYY-MM-DD");n(Qe({fromDate:U,toDate:z}))},[n]),o.exports.useEffect(()=>{const z=r.exports.get(b,"data",[]).reduce((se,X)=>se+ +X.amount,0);z&&m(z)},[b]);const H=o.exports.useCallback(U=>{const z={},se=t[0],X=t[1];se&&(z.fromDate=se),X&&(z.toDate=X),y&&(z.search=y),n(Qe(me(re({},z),{page:U})))},[n,t,y]);o.exports.useEffect(()=>{H(_)},[n,H,_]),o.exports.useEffect(()=>{if(v==="loading"||T==="loading"||N==="loading")l(!0);else if(v==="success"){const U=r.exports.get(b,"data",[]),z=U.reduce((se,X)=>se+ +X.amount,0);(z||z===0)&&m(z),x(U),n(co()),l(!1),C([]),f([])}else T==="success"?(n(po()),n(Qe({}))):P==="success"?(n(ho()),n(Qe({}))):N==="success"?n(Qe({})):(v==="error"||T==="error"||N==="error")&&l(!1)},[n,b,P,v,T,N]);function Z(U,z){s([z[0],z[1]]),console.log(z[0],z[1])}function V(){const U=[];h.forEach(se=>U.push(se.id)),n(us({payment_slip_ids:U,status:1}))}function B(U){Gl({title:"B\u1EA1n mu\u1ED1n xo\xE1 phi\u1EBFu chi n\xE0y!",icon:e(Re,{}),onOk(){n(cs(U.id))}})}console.log(h);const G=[{width:200,title:"Ng\xE0y t\u1EA1o",dataIndex:"date",key:"payemnt_date",render:function(z){return e(Q,{children:mn(z,En.DD_MM_YYYY_HH_mm_ss)})}},{width:200,title:"Ng\u01B0\u1EDDi chi",dataIndex:"_",key:"payemnt_payer",render:function(z,se){return e("a",{children:r.exports.get(se,"payer.profile.name","")})}},{width:100,title:"Lo\u1EA1i chi",dataIndex:"type",key:"payemnt_type",align:"center",render:function(z){return e(ae,{color:z===0?"#e67e22":"#e74c3c",children:Vn[z]})}},{width:200,title:"S\u1ED1 ti\u1EC1n",dataIndex:"amount",key:"payemnt_amount",render:function(z){return e("strong",{style:{color:"#cf1322"},children:bt(z)})}},le.SELECTION_COLUMN,{title:"Tr\u1EA1ng th\xE1i",dataIndex:"status",key:"payemnt_status",editable:!0,render:function(z){return e(ae,{color:z===1?"green":"red",children:Xa[z]})}},{width:"10%",title:"Action",key:"payemnt_action",render:function(z,se){return d(K,{children:[e(J,{placement:"top",title:"Chi ti\u1EBFt",children:e(k,{onClick:X=>{i(!0),E(se)},type:"link",icon:e(Ra,{})})}),e(J,{placement:"top",title:"Xo\xE1 phi\u1EBFu chi",children:e(k,{onClick:X=>{B(se)},type:"link",danger:!0,disabled:se.status===1,icon:e(Ut,{})})})]})}}];return d(ie.Content,{children:[d(Ce,{style:{marginBottom:20,marginTop:20},justify:"start",children:[e(pe,{children:e(Ce,{justify:"start",children:e(Ul,{allowEmpty:[!0,!0],onChange:Z,defaultValue:[I().startOf("month"),I().endOf("month")]})})}),e(pe,{style:{marginLeft:20},children:e(Nl,{})})]}),e(Ce,{style:{justifyContent:"flex-end"},children:e(nn,{title:"T\u1ED5ng chi",value:S,suffix:"VND",valueStyle:{color:"#cf1322"}})}),d(Ae,{spinning:a,children:[h.length>0&&d(K,{style:{marginBottom:20},children:[e(k,{type:"primary",icon:e($e,{}),onClick:()=>V(),loading:!1,children:"X\xE1c nh\u1EADn"}),e("span",{style:{marginLeft:8},children:h.length>0?`${h.length} phi\u1EBFu chi`:""})]}),e(le,{rowKey:"id",size:"small",dataSource:c,columns:G,rowSelection:{selectedRowKeys:F,onChange:(U,z)=>{f(z),C(U)},getCheckboxProps:U=>({disabled:U.status===1})},pagination:{pageSize:20,total:r.exports.get(b,"total",0),onChange:U=>{g(U)}}}),e(Ml,{handleShowDetail:i,show:p,data:u})]})]})}function On(n,t){const s=o.exports.useRef(),a=o.exports.useRef();function l(){a.current&&clearTimeout(a.current)}return o.exports.useEffect(()=>l,[]),function(...x){s.current=x,l(),a.current=setTimeout(()=>{s.current&&n(...s.current)},t)}}function Ol(){const n=q(),[t]=D.useForm(),[s,a]=o.exports.useState(!1),[l,c]=o.exports.useState(!1),x=R(m=>m.parentReducer.addParentStatus);return d("div",{children:[e(k,{icon:e(De,{}),type:"primary",onClick:()=>a(!0),children:"Th\xEAm ph\u1EE5 huynh"}),e(Te,{title:"Th\xF4ng tin ph\u1EE5 huynh",closable:!0,visible:s,onCancel:()=>a(!1),width:800,footer:[e(ce,{onChange:m=>c(m.target.checked),children:"Gi\u1EEF c\u1EEDa s\u1ED5"},"keepShow"),e(k,{onClick:()=>a(!1),children:"Hu\u1EF7 b\u1ECF"},"btncanl"),e(k,{htmlType:"submit",form:"aForm",type:"primary",loading:x==="loading",children:"L\u01B0u l\u1EA1i"},"btnSubmit")],children:d(D,{form:t,id:"aForm",labelCol:{span:6},wrapperCol:{span:14},onFinish:m=>{n(os(me(re({},m),{role_id:Ze.PARENT}))).finally(()=>{l===!1&&a(!1),t.setFieldsValue({name:"",phone:"",email:""}),n(qe({page:1}))})},children:[e(D.Item,{label:"H\u1ECD t\xEAn",name:"name",children:e(M,{})}),e(D.Item,{label:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i",name:"phone",children:e(M,{})}),e(D.Item,{label:"Email",name:"email",children:e(M,{})})]})})]})}function jl(n){const{parentInfo:t,searchStudent:s,students:a,show:l,setShow:c}=n,x=Ge(),[S,m]=o.exports.useState([]);o.exports.useEffect(()=>{l&&s("")},[l]);const p=()=>{t&&(S.map(u=>{x(ft({data:{parent_id:t.id},sID:u}))}),c(!1))};function i(u){m(u)}return e(Q,{children:e(Te,{title:"Th\xEAm h\u1ECDc sinh",visible:l,onCancel:()=>c(!1),closable:!0,width:800,footer:[e(k,{type:"primary",onClick:p,children:"L\u01B0u l\u1EA1i"},"btnsubmit")],children:e(K,{direction:"vertical",style:{width:"100%"},children:e(O,{mode:"multiple",style:{width:"100%"},placeholder:"Ch\u1ECDn h\u1ECDc sinh...",showSearch:!0,onSearch:u=>s(u),allowClear:!0,filterOption:!1,onChange:i,children:a&&a.filter(u=>!u.parent).map(u=>d(O.Option,{value:u.id,label:`${r.exports.get(u,"name","")}`,children:[e("a",{children:r.exports.get(u,"name","")})," ",r.exports.get(u,"birthday","")]},u.id))})})})})}function Hl(){const n=q(),[t,s]=o.exports.useState(1),[a,l]=o.exports.useState(""),[c,x]=o.exports.useState(-1),[S,m]=o.exports.useState(!1),[p,i]=o.exports.useState(-1),[u,E]=o.exports.useState(null),[_]=D.useForm(),g=R(T=>T.parentReducer.getParentsStatus),y=R(T=>T.parentReducer.parents),A=R(T=>T.studentReducer.students),h=On(T=>{l(T),n(qe({page:1,search:T}))},500),f=On(T=>{l(T),n(Fe({page:1,search:T}))},500);o.exports.useEffect(()=>{n(qe({page:t,search:a}))},[n,t]);function F(T,P){x(T),T===-1?E(null):P&&E({user_id:P.id,name:r.exports.get(P,"profile.name",""),email:r.exports.get(P,"profile.email","")})}function C(T){c===T&&u&&n(ls({data:{name:u.name,email:u.email,gender:0},uID:u.user_id})).finally(()=>{F(-1,null),n(qe({page:1,search:a}))})}function b(T){i(T),m(!0)}const v=[{width:"15%",title:"H\u1ECD t\xEAn",key:"name",editable:!0,render:function(P,N,H){return c===H?e(M,{value:u==null?void 0:u.name,onChange:Z=>{u&&(u.name=Z.target.value,E(re({},u)))}}):e("a",{children:r.exports.get(N,"profile.name","")})}},{width:"10%",title:"Email",key:"email",editable:!0,render:function(P,N,H){return c===H?e(M,{value:u==null?void 0:u.email,onChange:Z=>{u&&(u.email=Z.target.value,E(re({},u)))}}):e("span",{children:r.exports.get(N,"profile.email","")})}},{width:"10%",title:"\u0110i\u1EC7n tho\u1EA1i",key:"phone",editable:!0,render:function(P,N){return d(K,{children:[N.phone," ",N.phone_verified_at==null?e(ae,{color:"red",children:"Ch\u01B0a x\xE1c th\u1EF1c"}):""]})}},{width:"15%",title:"Action",key:"action",render:function(P,N,H){return c===H?e(K,{children:d("span",{children:[e(k,{size:"small",type:"primary",onClick:()=>C(H),style:{marginRight:8},children:"L\u01B0u l\u1EA1i"}),e(Ba,{title:"Sure to cancel?",onConfirm:()=>{F(-1,N)},children:e(k,{size:"small",type:"primary",danger:!0,children:"Hu\u1EF7 b\u1ECF"})})]})}):d(K,{children:[N.phone_verified_at==null?e(J,{placement:"top",title:"X\xE1c minh",children:e(k,{type:"link",icon:e($e,{})})}):"",e(J,{placement:"top",title:"Th\xEAm h\u1ECDc sinh",children:e(k,{icon:e(zr,{}),type:"link",onClick:()=>b(H)})}),e(k,{type:"link",icon:e(ut,{}),disabled:c!==-1,onClick:()=>F(H,N)})]})}}];return d(ie.Content,{children:[d(Ce,{style:{marginBottom:20,marginTop:20},justify:"start",children:[e(pe,{span:10,children:e(M.Search,{allowClear:!0,onChange:({target:{value:T}})=>h(T)})}),e(pe,{span:6,style:{marginLeft:20},children:e(Ol,{})})]}),e(D,{form:_,component:!1,children:e(le,{bordered:!0,loading:g==="loading",columns:v,rowKey:"id",dataSource:r.exports.get(y,"data",[]),pagination:{pageSize:20,total:r.exports.get(y,"total",0),onChange:T=>{s(T)}}})}),e(jl,{parentInfo:r.exports.get(y,"data",[])[p],students:r.exports.get(A,"data",[]),searchStudent:f,show:S,setShow:m})]})}const{Option:zl}=O;function Kl({onHandleSubmit:n}){const t=q(),[s]=D.useForm(),[a,l]=o.exports.useState(!1),c=R(E=>E.roleReducer.statusCreateRole),x=R(E=>E.userReducer.users),[S,m]=o.exports.useState([]),[p,i]=o.exports.useState([]);o.exports.useEffect(()=>{c==="success"&&(s.resetFields(),i([]),m([]),l(!1),t(yo()))},[s,c,t]),o.exports.useEffect(()=>{t(Dt({}))},[t]);function u(E){m(E)}return d("div",{children:[e(k,{type:"primary",icon:e(De,{}),onClick:()=>l(!0),children:"Th\xEAm vai tr\xF2 m\u1EDBi"}),e(te,{title:"Th\xEAm vai tr\xF2 m\u1EDBi",width:600,visible:a,closable:!0,onCancel:()=>l(!1),footer:[e(k,{onClick:()=>l(!1),children:"Cancel"},""),e(k,{type:"primary",form:"eForm",htmlType:"submit",children:"Submit"},"submit")],children:e(Ae,{spinning:c==="loading",children:d(D,{id:"eForm",form:s,layout:"vertical",onFinish:E=>{n(E,p)},children:[e(D.Item,{name:"name",label:d(Q,{children:["T\xEAn vai tr\xF2(",e("span",{style:{color:"#e74c3c"},children:"vi\u1EBFt li\u1EC1n, kh\xF4ng d\u1EA5u, kh\xF4ng tr\xF9ng v\u1EDBi vai tr\xF2 kh\xE1c"}),")"]}),rules:[{required:!0,message:"T\xEAn vai tr\xF2 kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:e(M,{autoComplete:"off"})}),e(D.Item,{name:"description",label:"M\xF4 t\u1EA3",children:e(M,{autoComplete:"off"})}),e(D.Item,{label:"Th\xEAm th\xE0nh vi\xEAn m\u1EDBi",name:"user_ids",children:e(O,{mode:"multiple",showArrow:!0,style:{width:"100%"},listHeight:600,value:S,onChange:E=>u(E),tagRender:E=>e(ae,{color:"green",onMouseDown:_=>{_.preventDefault(),_.stopPropagation()},closable:E.closable,onClose:E.onClose,style:{fontSize:15,margin:"5px 5px",padding:5},children:E.label}),children:r.exports.get(x,"data",[]).map(E=>d(zl,{value:E.id,children:[e("a",{children:r.exports.get(E,"profile.name","")})," ",E.phone]},E.id))})})]})})})]})}const{Option:ql}=O;function Vl(n){const t=q(),{roleInfo:s,show:a,setShow:l}=n,[c,x]=o.exports.useState([]),[S,m]=o.exports.useState([]),[p,i]=o.exports.useState(),[u,E]=o.exports.useState(!1),_=R(h=>h.userReducer.users);o.exports.useEffect(()=>{t(Le({per_page:1e3}))},[]),o.exports.useEffect(()=>{const h=[],f=[];r.exports.get(s,"users",[]).forEach(F=>{h.push({id:F.id,name:r.exports.get(F,"profile.name",""),phone:F.phone})}),r.exports.get(_,"data",[]).forEach(F=>{h.findIndex(C=>C.id===F.id)===-1&&f.push({id:F.id,name:r.exports.get(F,"profile.name",""),phone:F.phone})}),x(h),m(f)},[s,_]);function g(h){const f=c.findIndex(F=>F.id===h);if(f>=0){const F=c.splice(f,1);S.push(F[0]),x([...c]),m([...S])}}function y(){if(p===void 0)return;const h=S.findIndex(f=>f.id===p);if(h>=0){const f=S.splice(h,1);c.push(f[0]),m([...S]),x([...c])}i(void 0)}function A(){const h=[],f=[];if(r.exports.get(s,"users",[]).forEach(F=>{c.findIndex(C=>C.id===F.id)===-1&&f.push(F.id)}),c.forEach(F=>{r.exports.get(s,"users",[]).findIndex(C=>C.id===F.id)===-1&&h.push(F.id)}),r.exports.get(s,"id",0)===0){Kr.warning({message:"Kh\xF4ng t\xECm th\u1EA5y vai tr\xF2!"});return}E(!0),t(gs({role_id:s.id,add_user_ids:h,remove_user_ids:f})).finally(()=>E(!1))}return e(Q,{children:d(te,{width:600,visible:a,onCancel:()=>l(!1),closable:!0,title:"Danh s\xE1ch ng\u01B0\u1EDDi d\xF9ng",okText:"L\u01B0u l\u1EA1i",cancelText:"Hu\u1EF3 b\u1ECF",footer:[e(k,{onClick:()=>l(!1),children:"Hu\u1EF7 b\u1ECF"},"btncancel"),e(k,{loading:u,type:"primary",onClick:()=>A(),children:"L\u01B0u l\u1EA1i"},"btnsubmit")],children:[c.length>0?e(ue,{size:"small",dataSource:c,renderItem:h=>d(ue.Item,{actions:[e(k,{danger:!0,type:"text",icon:e(Gt,{}),onClick:()=>g(h.id)},"btnDelete")],children:[e("a",{children:h.name})," ",h.phone]})}):"",d(K,{style:{paddingTop:20},children:[e(O,{style:{width:320},placeholder:"Th\xEAm ng\u01B0\u1EDDi d\xF9ng",allowClear:!0,showSearch:!0,filterOption:(h,f)=>{var F;return((F=f==null?void 0:f.label)==null?void 0:F.toLowerCase().indexOf(h.toLowerCase()))>=0},value:p,onChange:h=>i(h),children:S.map((h,f)=>d(ql,{value:h.id,label:h.name,children:[e("a",{children:h.name})," ",h.phone]},f))}),e(k,{type:"primary",icon:e(De,{}),onClick:()=>y()})]})]})})}function $l(n){var y;const t=Ge(),{setShow:s,show:a,roleInfo:l}=n,[c,x]=o.exports.useState([]),[S,m]=o.exports.useState(!1),[p,i]=o.exports.useState(!1),u=R(A=>A.roleReducer.statusUpdateRole);o.exports.useEffect(()=>{var A;a&&x((A=l==null?void 0:l.menues)!=null?A:[])},[a]),o.exports.useEffect(()=>{u==="success"&&s(!1)},[u]),o.exports.useEffect(()=>{m(c.length===Rt.length),i(!!c.length&&c.length<Rt.length)},[c]);function E(){console.log("submiting");const A={role_id:l.id,menues:[...c]};t(fs(A))}function _({target:{checked:A}}){x(A?Rt.map(h=>h.value):[])}function g(A){x(A)}return d(te,{width:600,visible:a,onCancel:()=>s(!1),closable:!0,title:`C\xE0i \u0111\u1EB7t menu hi\u1EC3n th\u1ECB cho ${(y=l==null?void 0:l.name)!=null?y:""}`,okText:"L\u01B0u l\u1EA1i",cancelText:"Hu\u1EF3 b\u1ECF",footer:[e(k,{onClick:()=>s(!1),children:"Hu\u1EF7 b\u1ECF"},"btncancel"),e(k,{loading:u==="loading",type:"primary",onClick:E,children:"L\u01B0u l\u1EA1i"},"btnsubmit")],children:[e("div",{style:{marginBottom:10},children:e(ce,{checked:S,indeterminate:p,onChange:_,children:"Hi\u1EC3n th\u1ECB t\u1EA5t c\u1EA3"})}),e(ce.Group,{onChange:g,value:c,children:e("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr"},children:Rt.map(A=>e("div",{style:{marginBottom:10},children:e(ce,{value:A.value,children:A.label})},A.value))})})]})}const{confirm:Jl}=te;function Xl(){const n=q(),t=Se(),[s,a]=o.exports.useState(!1),[l,c]=o.exports.useState(!1),[x,S]=o.exports.useState(-1),m=R(f=>f.roleReducer.statusCreateRole),p=R(f=>f.roleReducer.statusGetRole),i=R(f=>f.roleReducer.statusDeleteRole),u=R(f=>f.roleReducer.statusUpdateRole),E=R(f=>f.roleReducer.roles);o.exports.useEffect(()=>{n(Pe(0))},[n]),o.exports.useEffect(()=>{m==="success"&&n(Pe(0)),p==="success"&&n(Co()),u==="success"&&(n(Pe(0)),n(Ao())),i==="success"&&(n(Pe(0)),n(So()))},[n,m,i,p,u]);function _(f,F){n(ms(me(re({},f),{permission_ids:[...F]})))}function g(f){Jl({title:"B\u1EA1n mu\u1ED1n xo\xE1 vai tr\xF2 n\xE0y?",icon:e(Re,{}),content:"L\u01B0u \xFD khi xo\xE1 vai tr\xF2, t\u1EA5t c\u1EA3 quy\u1EC1n c\u1EE7a nh\xE2n vi\xEAn c\xF3 vai tr\xF2 n\xE0y s\u1EBD b\u1ECB xo\xE1!",onOk(){n(Es(f)).finally(()=>{n(Pe(0))})}})}function y(f){a(!0),S(f)}function A(f){c(!0),S(f)}const h=[{title:"Id",key:"id",dataIndex:"id",defaultSortOrder:"ascend",showSorterTooltip:!1,sorter:{compare:(f,F)=>f.id-F.id,multiple:3},width:70},{title:"T\xEAn",key:"name",dataIndex:"name",render:function(F,C){return d(K,{children:[e(qr,{}),e("strong",{children:F}),e("span",{style:{color:"#95a5a6"},children:C.description===null?Qt(F):C.description})]})}},{title:"S\u1ED1 th\xE0nh vi\xEAn",key:"users",dataIndex:"users",render:function(F){return e("a",{children:F.length})},showSorterTooltip:!1,sorter:{compare:(f,F)=>f.users.length-F.users.length,multiple:2}},{title:"Ng\xE0y t\u1EA1o",key:"created_at",dataIndex:"created_at",render:function(F){return e(Q,{children:mn(F,En.DD_MM_YYYY_HH_mm_ss)})},showSorterTooltip:!1,sorter:{compare:(f,F)=>ur(f.created_at,F.created_at),multiple:2}},{title:"",key:"action",render:function(F,C,b){return d(K,{children:[e(J,{title:"Xo\xE1 vai tr\xF2",children:e(k,{type:"link",danger:!0,disabled:Pl(C.name),onClick:()=>g(C.id),icon:e(Ut,{})})}),e(J,{title:"DS ng\u01B0\u1EDDi d\xF9ng",children:e(k,{type:"link",icon:e(un,{}),onClick:()=>y(b)})}),e(J,{title:"Ph\xE2n quy\u1EC1n vai tr\xF2",children:e(k,{type:"link",onClick:()=>t.push(`/roles-set-permissions/${C.id}`),icon:e(Vr,{})})}),e(J,{title:"C\xE0i \u0111\u1EB7t menu hi\u1EC3n th\u1ECB",children:e(k,{type:"link",onClick:()=>A(b),icon:e($r,{})})})]})}}];return d(ie.Content,{children:[e(Ce,{style:{marginBottom:20,marginTop:20},justify:"start",children:e(pe,{span:6,style:{marginLeft:20},children:e(Kl,{onHandleSubmit:_})})}),e(le,{bordered:!0,columns:h,loading:p==="loading"||i==="loading",pagination:{pageSize:20},dataSource:E,rowKey:"id"}),e(Vl,{roleInfo:E[x],show:s,setShow:a}),e($l,{roleInfo:E[x],show:l,setShow:c})]})}function Wl(n){const{parents:t,searchParent:s,searchStatus:a}=n,[l]=D.useForm(),[c,x]=o.exports.useState(!1),[S,m]=o.exports.useState(!1),p=q(),i=R(g=>g.studentReducer.addStudentStatus),u=r.exports.get(t,"data",[]);o.exports.useEffect(()=>{c&&s("")},[c]);const E=g=>{console.log("submit form:",g);const y=me(re({},g),{birthday:I(g.birthday).format("YYYY-MM-DD"),admission_date:I(g.admission_date).format("YYYY-MM-DD"),is_special:g.is_special===!0?1:0});p(ys(y)).finally(()=>{p(Fe({})),_()})};function _(){S===!1&&x(!1),l.setFieldsValue({name:"",parent_id:null,gender:null,birthday:null,school:"",address:"",admission_date:null,knowledge_status:"",is_special:!1,personality:"",interests:"",dislikes:"",hope:"",type:0})}return d("div",{children:[e(k,{type:"primary",icon:e(De,{}),onClick:()=>x(!0),children:"Th\xEAm h\u1ECDc sinh"}),e(te,{visible:c,title:"Th\xF4ng tin h\u1ECDc sinh",onCancel:()=>x(!1),width:1e3,footer:[e(ce,{onChange:g=>m(g.target.checked),children:"Gi\u1EEF c\u1EEDa s\u1ED5"},"keepShow"),e(k,{onClick:()=>_(),children:"Hu\u1EF7 b\u1ECF"},"btnCancel"),e(k,{type:"primary",htmlType:"submit",form:"addStudentForm",loading:i==="loading",children:"L\u01B0u th\xF4ng tin"},"btnSubmit")],children:d(D,{id:"addStudentForm",labelCol:{span:6},wrapperCol:{span:14},layout:"horizontal",form:l,onFinish:E,children:[e(D.Item,{label:"H\u1ECD v\xE0 t\xEAn",name:"name",required:!0,children:e(M,{})}),e(D.Item,{name:"parent_id",label:"Ph\u1EE5 huynh",children:e(O,{showSearch:!0,allowClear:!0,onSearch:g=>s(g),filterOption:!1,notFoundContent:a==="loading"?e(Ae,{size:"small"}):null,children:u.map(g=>d(O.Option,{value:g.id,label:`${r.exports.get(g,"profile.name","")} (${g.phone})`,children:[e("a",{children:r.exports.get(g,"profile.name","")})," (",g.phone,")"]},g.id))})}),e(D.Item,{name:"type",label:"Lo\u1EA1i",wrapperCol:{span:2},required:!0,children:d(O,{style:{width:120},children:[e(O.Option,{value:1,children:"Online"}),e(O.Option,{value:0,children:"Offline"})]})}),e(D.Item,{name:"gender",label:"Gi\u1EDBi t\xEDnh",wrapperCol:{span:2},children:d(O,{children:[e(O.Option,{value:1,children:"Nam"}),e(O.Option,{value:0,children:"N\u1EEF"}),e(O.Option,{value:2,children:"Kh\xE1c"})]})}),e(D.Item,{name:"birthday",label:"Sinh nh\u1EADt",children:e(ye,{})}),e(D.Item,{name:"school",label:"Tr\u01B0\u1EDDng \u0111ang h\u1ECDc",children:e(M,{})}),e(D.Item,{name:"address",label:"\u0110\u1ECBa ch\u1EC9",children:e(M,{})}),e(D.Item,{name:"admission_date",label:"Ng\xE0y nh\u1EADp h\u1ECDc",required:!0,children:e(ye,{})}),e(D.Item,{name:"knowledge_status",label:"T\xECnh tr\u1EA1ng \u0111\u1EA7u v\xE0o",children:e(he,{})}),e(D.Item,{name:"is_special",label:"Tr\u01B0\u1EDDng h\u1EE3p \u0111\u1EB7c bi\u1EC7t",valuePropName:"checked",children:e(Ia,{})}),e(D.Item,{name:"personality",label:"T\xEDnh c\xE1ch",children:e(M.TextArea,{})}),e(D.Item,{name:"interests",label:"S\u1EDF th\xEDch",children:e(M.TextArea,{})}),e(D.Item,{name:"dislikes",label:"S\u1EDF gh\xE9t",children:e(M.TextArea,{})}),e(D.Item,{name:"hope",label:"\u01AF\u1EDBc m\u01A1",children:e(M.TextArea,{})})]})})]})}const ua="DD/MM/YYYY";function Zl(n){const{student:t,parents:s,show:a,setShow:l,searchParent:c,searchStatus:x}=n,S=q(),[m]=D.useForm(),p=R(u=>u.studentReducer.updateStudentStatus);return o.exports.useEffect(()=>{t&&(m.setFieldsValue({name:t.name,parent_id:r.exports.get(t,"parent.id",null),gender:t.gender,birthday:I(t.birthday),admission_date:I(t.admission_date),school:t.school,address:t.address,interests:t.interests,dislikes:t.dislikes,personality:t.personality,hope:t.hope,knowledge_status:t.knowledge_status,is_special:t.is_special,type:t.type}),c(""))},[t,m]),e("div",{children:e(te,{visible:a,title:"S\u1EEDa th\xF4ng tin h\u1ECDc sinh",onCancel:()=>l(!1),width:1e3,footer:[e(k,{onClick:()=>l(!1),children:"Hu\u1EF7 b\u1ECF"},"btnCancel"),e(k,{type:"primary",loading:p==="loading",htmlType:"submit",form:"uForm",children:"L\u01B0u th\xF4ng tin"},"btnSubmit")],children:d(D,{id:"uForm",form:m,labelCol:{span:6},wrapperCol:{span:14},layout:"horizontal",onFinish:u=>{t&&S(ft({data:me(re(re({},t),u),{birthday:I(u.birthday).format("YYYY-MM-DD"),admission_date:I(u.admission_date).format("YYYY-MM-DD"),is_special:u.is_special===!0?1:0}),sID:t.id})).finally(()=>{l(!1),S(Fe({}))})},children:[e(D.Item,{label:"H\u1ECD v\xE0 t\xEAn",name:"name",children:e(M,{})}),e(D.Item,{name:"parent_id",label:"Ph\u1EE5 huynh",children:e(O,{showSearch:!0,allowClear:!0,onSearch:u=>c(u),notFoundContent:x==="loading"?e(Ae,{size:"small"}):null,filterOption:!1,children:r.exports.get(s,"data",[]).map(u=>d(O.Option,{value:u.id,label:`${r.exports.get(u,"profile.name","")} (${u.phone})`,children:[e("a",{children:r.exports.get(u,"profile.name")})," (",u.phone,")"]},u.id))})}),e(D.Item,{name:"type",label:"Lo\u1EA1i",wrapperCol:{span:2},required:!0,children:d(O,{style:{width:120},children:[e(O.Option,{value:1,children:"Online"}),e(O.Option,{value:0,children:"Offline"})]})}),e(D.Item,{name:"gender",label:"Gi\u1EDBi t\xEDnh",wrapperCol:{span:2},children:d(O,{children:[e(O.Option,{value:1,children:"Nam"}),e(O.Option,{value:0,children:"N\u1EEF"}),e(O.Option,{value:2,children:"Kh\xE1c"})]})}),e(D.Item,{name:"birthday",label:"Sinh nh\u1EADt",children:e(ye,{format:ua})}),e(D.Item,{name:"school",label:"Tr\u01B0\u1EDDng \u0111ang h\u1ECDc",children:e(M,{})}),e(D.Item,{name:"address",label:"\u0110\u1ECBa ch\u1EC9",children:e(M,{})}),e(D.Item,{name:"admission_date",label:"Ng\xE0y nh\u1EADp h\u1ECDc",children:e(ye,{format:ua})}),e(D.Item,{name:"knowledge_status",label:"T\xECnh tr\u1EA1ng \u0111\u1EA7u v\xE0o",children:e(he,{})}),e(D.Item,{name:"is_special",label:"Tr\u01B0\u1EDDng h\u1EE3p \u0111\u1EB7c bi\u1EC7t",valuePropName:"checked",children:e(Ia,{})}),e(D.Item,{name:"personality",label:"T\xEDnh c\xE1ch",children:e(M.TextArea,{})}),e(D.Item,{name:"interests",label:"S\u1EDF th\xEDch",children:e(M.TextArea,{})}),e(D.Item,{name:"dislikes",label:"S\u1EDF gh\xE9t",children:e(M.TextArea,{})}),e(D.Item,{name:"hope",label:"\u01AF\u1EDBc m\u01A1",children:e(M.TextArea,{})})]})})})}function ed(n){const{student:t,classesList:s,searchClass:a,searchStatus:l}=n,[c,x]=o.exports.useState(!1),[S,m]=o.exports.useState(null),p=q(),i=E=>{m(E)},u=()=>{if(S){const E=me(re({},t),{class_id:S});p(ft({data:E,sID:t.id}))}};return d(Q,{children:[t.class===null?e(J,{placement:"top",title:"Nh\u1EADp l\u1EDBp",children:e(k,{onClick:()=>x(!0),type:"link",icon:e(Jr,{})})}):e(J,{title:"Chuy\u1EC3n l\u1EDBp",children:e(k,{icon:e(Xr,{onClick:()=>x(!0)}),type:"link"})}),e(Te,{title:"Nh\u1EADp l\u1EDBp h\u1ECDc",visible:c,closable:!0,onCancel:()=>x(!1),footer:[e(k,{type:"primary",onClick:u,children:"L\u01B0u l\u1EA1i"},"btnSubmit")],children:e(K,{direction:"vertical",style:{width:"100%"},children:d(O,{style:{width:"100%"},placeholder:"Ch\u1ECDn l\u1EDBp",onChange:i,showSearch:!0,onSearch:E=>a(E),notFoundContent:l==="loading"?e(Ae,{size:"small"}):null,defaultValue:r.exports.get(t,"class.id",0),children:[e(O.Option,{value:0,children:"Ch\u1ECDn l\u1EDBp h\u1ECDc"}),r.exports.get(s,"data",[]).map(E=>e(O.Option,{value:E.id,children:E.name},E.id))]})})})]})}function td(n){const{studen_id:t}=n,[s,a]=o.exports.useState(!1),l=q(),[c,x]=o.exports.useState(!1);return d(Q,{children:[e(J,{placement:"top",title:"\u0110\u1ED5i tr\u1EA1ng th\xE1i ngh\u1EC9",children:e(k,{onClick:()=>a(!0),type:"link",danger:!0,icon:e(zn,{})})}),e(Te,{title:"\u0110\u1ED5i tr\u1EA1ng th\xE1i ngh\u1EC9 h\u1ECDc",visible:s,closable:!0,onCancel:()=>a(!1),footer:[e(k,{loading:c,type:"primary",onClick:()=>{x(!0),l(Fo({data:{class_id:0},sID:t})).then(m=>{if(m.meta.requestStatus==="fulfilled"){w.success({message:"Th\xE0nh c\xF4ng"}),a(!1);return}w.error({message:"Th\u1EA5t b\u1EA1i"})}).finally(()=>{x(!1)})},children:"L\u01B0u l\u1EA1i"},"btnSubmit")],children:"Sau khi \u0111\u1ED5i, th\xF4ng tin h\u1ECDc sinh s\u1EBD kh\xF4ng hi\u1EC3n th\u1ECB trong danh s\xE1ch n\u1EEFa."})]})}function sd(){const n=q(),t=Se(),[s,a]=o.exports.useState(1),[l,c]=o.exports.useState(""),[x,S]=o.exports.useState(!1),[m,p]=o.exports.useState(-1),i=R(b=>b.studentReducer.getStudentsStatus),u=R(b=>b.studentReducer.students),E=R(b=>b.parentReducer.parents),_=R(b=>b.classReducer.classes),g=R(b=>b.parentReducer.getParentsStatus),y=R(b=>b.classReducer.getClassesStatus),A=R(b=>b.studentReducer.updateStudentStatus);o.exports.useEffect(()=>{(i==="error"||i==="success")&&n(ko())},[n,i]),o.exports.useEffect(()=>{n(qe({per_page:100})),n(ke({}))},[n]),o.exports.useEffect(()=>{n(Fe({page:s,search:l}))},[n,s]),o.exports.useEffect(()=>{A==="success"&&(n(Fe({page:1})),n(wo()))},[n,A]);const h=o.exports.useRef(r.exports.debounce(b=>{c(b),n(Fe({search:b}))},500)).current,f=o.exports.useRef(r.exports.debounce(b=>n(qe({search:b})),500)).current,F=o.exports.useRef(r.exports.debounce(b=>n(ke({search:b})),500)).current,C=[{title:"H\u1ECD t\xEAn",dataIndex:"name",key:"name",render:function(v,T){return d(K,{children:[e("strong",{children:v}),e(ae,{style:{fontSize:10},color:T.type===0?"red":"green",children:T.type===0?"Offline":"Online"})]})}},{width:120,title:"Ng\xE0y sinh",dataIndex:"birthday",key:"birthday",render:function(v){return e(Q,{children:I(v).format("DD-MM-YYYY")})}},{width:200,title:"Ph\u1EE5 huynh",dataIndex:"parent",key:"parent",render:function(v){return e("a",{children:r.exports.get(v,"profile.name","")})}},{width:200,title:"L\u1EDBp",dataIndex:"class",key:"class",render:function(v){return e("a",{children:r.exports.get(v,"name","")})}},{width:200,title:"Action",render:function(v,T,P){return d(K,{children:[e(ed,{student:T,classesList:_,searchClass:F,searchStatus:y}),e(J,{placement:"top",title:"H\u1ED3 s\u01A1 h\u1ECDc t\u1EADp",children:e(k,{icon:e(wa,{onClick:()=>t.push(`/students-study-profile/${T.id}`)}),type:"link"})}),e(k,{type:"link",icon:e(ut,{}),onClick:()=>{S(!0),p(P)}}),e(td,{studen_id:T.id})]},T.id)}}];return d(ie.Content,{children:[d(Ce,{style:{marginBottom:20,marginTop:20},justify:"start",children:[e(pe,{span:10,children:e(M.Search,{allowClear:!0,onChange:({target:{value:b}})=>h(b),placeholder:"T\xECm ki\u1EBFm theo t\xEAn h\u1ECDc sinh"})}),e(pe,{span:6,style:{marginLeft:20},children:e(Wl,{parents:E,searchParent:f,searchStatus:g})})]}),e(le,{columns:C,dataSource:r.exports.get(u,"data",[]),size:"small",bordered:!0,rowKey:"id",loading:i==="loading",pagination:{showSizeChanger:!1,pageSize:20,total:r.exports.get(u,"total",0),onChange:b=>{a(b)}}}),e(Zl,{student:r.exports.get(u,"data",[])[m],parents:E,searchParent:f,searchStatus:g,show:x,setShow:S})]})}function nd(n){const{teachers:t}=n,s=q(),[a]=D.useForm(),[l,c]=o.exports.useState(!1),[x,S]=o.exports.useState(!1),m=R(i=>i.classReducer.addClassStatus);function p(i){let u="";i.schedule_time&&(u=I(i.schedule_time[0]).format("HH:mm:ss")+"-"+I(i.schedule_time[1]).format("HH:mm:ss")),s(Wt(me(re({},i),{schedule_time:u}))).finally(()=>{x===!1&&c(!1),a.setFieldsValue({name:"",employee_id:null,fee_per_session:"",schedule:[],schedule_time:null,type:0}),s(ke({page:1}))})}return d("div",{children:[e(k,{type:"primary",icon:e(De,{}),onClick:()=>c(!0),children:"Th\xEAm l\u1EDBp h\u1ECDc"}),e(te,{visible:l,title:"Th\xEAm l\u1EDBp h\u1ECDc",onCancel:()=>c(!1),footer:[e(ce,{onChange:i=>S(i.target.checked),children:"Gi\u1EEF c\u1EEDa s\u1ED5"},"keepShow"),e(k,{loading:m==="loading",type:"primary",htmlType:"submit",form:"aForm",children:"L\u01B0u l\u1EA1i"},"btnsubmit")],width:800,children:d(D,{id:"aForm",form:a,labelCol:{span:5},wrapperCol:{span:17},layout:"horizontal",onFinish:p,children:[e(D.Item,{label:"T\xEAn l\u1EDBp",name:"name",required:!0,children:e(M,{})}),e(D.Item,{label:"Gi\xE1o vi\xEAn",name:"employee_id",children:d(O,{showSearch:!0,allowClear:!0,filterOption:(i,u)=>{var E;return((E=u==null?void 0:u.label)==null?void 0:E.toLowerCase().indexOf(i.toLowerCase()))>=0},children:[e(O.Option,{value:0,label:"Ch\u1ECDn sau",children:"Ch\u1ECDn sau"}),t&&r.exports.get(t,"data",[]).map(i=>e(O.Option,{value:i.id,label:`${r.exports.get(i,"profile.name","")} (${i.phone})`,children:d(K,{children:[r.exports.get(i,"roles",[]).map(u=>e(ae,{color:"orange",children:Qt(u.name)},u.id)),e("a",{children:r.exports.get(i,"profile.name","")}),i.phone]})},i.id))]})}),e(D.Item,{name:"type",label:"Lo\u1EA1i",wrapperCol:{span:2},required:!0,children:d(O,{style:{width:120},children:[e(O.Option,{value:1,children:"Online"}),e(O.Option,{value:0,children:"Offline"})]})}),e(D.Item,{label:"H\u1ECDc ph\xED/bu\u1ED5i",name:"fee_per_session",required:!0,children:e(he,{formatter:i=>W(i).format(),style:{width:"100%"}})}),e(D.Item,{label:"L\u1ECBch h\u1ECDc",name:"schedule",required:!0,children:e(O,{mode:"multiple",placeholder:"Ch\u1ECDn l\u1ECBch h\u1ECDc",children:Ft.map((i,u)=>e(O.Option,{value:u,children:i},u))})}),e(D.Item,{label:"Th\u1EDDi gian h\u1ECDc",name:"schedule_time",children:e(va.RangePicker,{})})]})})]})}function ad(n){const{classInfo:t,teachers:s,show:a,setShow:l}=n,[c]=D.useForm(),x=q(),[S,m]=o.exports.useState(!1);o.exports.useEffect(()=>{if(t){let i=[];t.schedule_time&&(i=t.schedule_time.split("-")),c.setFieldsValue({name:t.name,employee_id:r.exports.get(t,"user.id",0),fee_per_session:t.fee_per_session,type:t.type,schedule:t.schedule,schedule_time:i.length>0?[I(i[0],"HH:mm:ss"),I(i[1],"HH:mm:ss")]:null})}},[t]);function p(i){m(!0);let u="";i.schedule_time&&(u=I(i.schedule_time[0]).format("HH:mm:ss")+"-"+I(i.schedule_time[1]).format("HH:mm:ss")),x(Zt({data:me(re({},i),{schedule_time:u}),cID:t.id})).finally(()=>{x(ke({page:1})),l(!1),m(!1)})}return e("div",{children:e(te,{visible:a,title:"Thay \u0111\u1ED5i th\xF4ng tin l\u1EDBp h\u1ECDc",onCancel:()=>l(!1),footer:[e(k,{loading:S,type:"primary",htmlType:"submit",form:"uclassForm",children:"L\u01B0u l\u1EA1i"},"btnsubmit")],width:800,children:d(D,{id:"uclassForm",form:c,labelCol:{span:5},wrapperCol:{span:17},layout:"horizontal",onFinish:p,children:[e(D.Item,{label:"T\xEAn l\u1EDBp",name:"name",required:!0,children:e(M,{})}),e(D.Item,{label:"Gi\xE1o vi\xEAn",name:"employee_id",children:d(O,{showSearch:!0,allowClear:!0,filterOption:(i,u)=>{var E;return((E=u==null?void 0:u.label)==null?void 0:E.toLowerCase().indexOf(i.toLowerCase()))>=0},children:[e(O.Option,{value:0,label:"Ch\u1ECDn sau",children:"Ch\u1ECDn sau"}),s&&r.exports.get(s,"data",[]).map(i=>e(O.Option,{value:i.id,label:`${r.exports.get(i,"profile.name","")} (${i.phone})`,children:d(K,{children:[r.exports.get(i,"roles",[]).map(u=>e(ae,{color:"orange",children:Qt(u.name)},u.id)),e("a",{children:r.exports.get(i,"profile.name","")})," (",i.phone,")"]})},i.id))]})}),e(D.Item,{name:"type",label:"Lo\u1EA1i",wrapperCol:{span:2},required:!0,children:d(O,{style:{width:120},children:[e(O.Option,{value:1,children:"Online"}),e(O.Option,{value:0,children:"Offline"})]})}),e(D.Item,{label:"H\u1ECDc ph\xED/bu\u1ED5i",name:"fee_per_session",required:!0,children:e(he,{formatter:i=>W(i).format(),style:{width:"100%"}})}),e(D.Item,{label:"L\u1ECBch h\u1ECDc",name:"schedule",required:!0,children:e(O,{mode:"multiple",placeholder:"Ch\u1ECDn l\u1ECBch h\u1ECDc",children:Ft.map((i,u)=>e(O.Option,{value:u,children:i},u))})}),e(D.Item,{label:"Th\u1EDDi gian h\u1ECDc",name:"schedule_time",children:e(va.RangePicker,{format:"HH:mm"})})]})})})}function rd(){const n=Ge(),t=Se(),s=R(b=>b.classReducer.getClassesStatus),a=R(b=>b.classReducer.classes),l=R(b=>b.employeeReducer.employees),c=R(b=>b.employeeReducer.getEmployeesStatus),x=R(b=>b.auth.user),[S,m]=o.exports.useState(1),[p,i]=o.exports.useState(""),[u,E]=o.exports.useState(void 0),[_,g]=o.exports.useState(!1),[y,A]=o.exports.useState(-1),h=On(b=>{i(b),n(ke({page:1,search:b,teacher_id:u}))},500);o.exports.useEffect(()=>{r.exports.get(x,"roles",[]).find(v=>v.id===Ze.TEACHER||v.id===Ze.TEACHER2)&&E(r.exports.get(x,"id",void 0))},[x]),o.exports.useEffect(()=>{n(ke({page:1,teacher_id:u})),n(ve({role_ids:`${Ze.TEACHER},${Ze.TEACHER2}`}))},[n,u]),o.exports.useEffect(()=>{n(ke({page:S,search:p,teacher_id:u}))},[n,S]);const f=b=>{(b.length>=3||b.length===0)&&n(ve({role_ids:`${Ze.TEACHER},${Ze.TEACHER2}`,search:b}))};function F(b){g(!0),A(b)}const C=[{width:"20%",title:"T\xEAn l\u1EDBp",dataIndex:"name",key:"name",render:function(v,T){return d(Q,{children:[e("strong",{children:v}),"  ",e(ae,{style:{fontSize:10},color:T.type===0?"red":"green",children:T.type===0?"Offline":"Online"})]})}},{width:"15%",title:"Gi\xE1o vi\xEAn",dataIndex:"user",key:"user",render:function(v){return e(k,{type:"link",children:r.exports.get(v,"profile.name","")})}},{width:"10%",title:"S\u1ED1 h\u1ECDc sinh",dataIndex:"students_num",key:"students_num"},{width:"10%",title:"H\u1ECDc ph\xED / bu\u1ED5i",dataIndex:"fee_per_session",key:"fee_per_session",render:function(v){return e("span",{style:{color:"#e67e22"},children:W(v).format("0,0")})}},{width:"20%",title:"L\u1ECBch h\u1ECDc",dataIndex:"schedule",key:"schedule",render:function(v){const T=[...v];return e(Q,{children:T.sort().map(P=>Ft[P]).join(", ")})}},{width:"15%",title:"Action",key:"action",render:function(v,T,P){return d(K,{size:"middle",children:[e(k,{type:"link",icon:e(Kn,{}),onClick:()=>t.push({pathname:`/study/${T.id}`,state:{classInfo:T}})}),e(k,{type:"link",icon:e(ut,{}),onClick:()=>F(P)})]})}}];return d(ie.Content,{children:[d(Ce,{style:{marginBottom:20,marginTop:20},justify:"start",children:[e(pe,{span:10,children:e(M.Search,{allowClear:!0,onChange:({target:{value:b}})=>h(b)})}),e(pe,{span:6,style:{marginLeft:20},children:e(nd,{teachers:l})})]}),e(le,{dataSource:r.exports.get(a,"data",[]),columns:C,loading:s==="loading",rowKey:"id",bordered:!0,size:"small",pagination:{pageSize:20,total:r.exports.get(a,"total",0),onChange:b=>{m(b)}}}),e(ad,{classInfo:r.exports.get(a,"data",[])[y],teachers:l,searchTeacher:f,searchStatus:c,show:_,setShow:g})]})}const qt={pattern:/^-{0,1}\d*\.{0,1}\d+$/,message:"Gi\xE1 tr\u1ECB nh\u1EADp ph\u1EA3i l\xE0 s\u1ED1"};function id(n){const{roles:t,selectedRole:s}=n,[a]=D.useForm(),[l,c]=o.exports.useState(!1),[x,S]=o.exports.useState(!1),m=q(),p=R(E=>E.employeeReducer.addEmployeeStatus),i=E=>{const _=me(re({},E),{birthday:I(E.birthday).format("YYYY-MM-DD"),working_day:I(E.working_day).format("YYYY-MM-DD")});m(as(_)).finally(()=>{x===!1&&c(!1),m(ve({role_name:s}))})},u=()=>{a.setFieldsValue({name:"",email:"",phone:"",gender:null,birthday:"",address:"",interests:"",dislikes:"",identifier:"",basic_salary:"",sales_salary:"",role_id:null,working_day:""})};return d("div",{children:[e(k,{type:"primary",icon:e(De,{}),onClick:()=>c(!0),children:"Th\xEAm nh\xE2n vi\xEAn"}),e(te,{centered:!0,width:800,bodyStyle:{height:"80vh"},style:{marginTop:"-80px"},visible:l,closable:!0,onCancel:()=>c(!1),footer:[e(ce,{onChange:E=>S(E.target.checked),children:"Gi\u1EEF c\u1EEDa s\u1ED5"},"keepShow"),e(k,{onClick:()=>u(),children:"L\xE0m m\u1EDBi"},"btncall"),e(k,{loading:p==="loading",type:"primary",form:"eForm",htmlType:"submit",children:"L\u01B0u l\u1EA1i"},"submit")],children:d(D,{id:"eForm",form:a,labelCol:{span:6},wrapperCol:{span:14},layout:"horizontal",onFinish:i,initialValues:{gender:0},style:{height:"100%",overflowY:"auto",marginTop:"20px"},children:[e(Ve,{children:"Th\xF4ng tin c\u01A1 b\u1EA3n"}),e(D.Item,{name:"name",label:"H\u1ECD t\xEAn",rules:[{required:!0,message:"H\u1ECD t\xEAn kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:e(M,{})}),e(D.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Email kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:e(M,{})}),e(D.Item,{name:"phone",label:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i",rules:[{required:!0,message:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"},qt],children:e(M,{})}),e(D.Item,{name:"gender",label:"Gi\u1EDBi t\xEDnh",rules:[{required:!0,message:"Gi\u1EDBi t\xEDnh kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:d(O,{children:[e(O.Option,{value:1,children:"Nam"}),e(O.Option,{value:0,children:"N\u1EEF"}),e(O.Option,{value:2,children:"Kh\xE1c"})]})}),e(D.Item,{name:"birthday",label:"Ng\xE0y sinh",rules:[{required:!0,message:"Ng\xE0y sinh kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:e(ye,{})}),e(D.Item,{name:"address",label:"\u0110\u1ECBa ch\u1EC9",children:e(M,{})}),e(D.Item,{name:"interests",label:"S\u1EDF th\xEDch",children:e(M.TextArea,{})}),e(D.Item,{name:"dislikes",label:"S\u1EDF gh\xE9t",children:e(M.TextArea,{})}),e(Ve,{children:"Th\xF4ng tin h\u1EE3p \u0111\u1ED3ng"}),e(D.Item,{name:"identifier",label:"S\u1ED1 CMT/CCCD",rules:[qt],children:e(M,{})}),e(D.Item,{name:"basic_salary",label:"L\u01B0\u01A1ng c\u01A1 b\u1EA3n",rules:[qt],children:e(M,{})}),e(D.Item,{name:"sales_salary",label:"L\u01B0\u01A1ng doanh s\u1ED1",rules:[qt],children:e(M,{})}),e(D.Item,{name:"role_id",label:"V\u1ECB tr\xED",children:d(O,{children:[e(O.Option,{value:0,children:"Nh\xE2n vi\xEAn"}),t.map(E=>e(O.Option,{value:E.id,children:Qt(E.name)},E.id))]})}),e(D.Item,{name:"working_day",label:"Ng\xE0y v\xE0o l\xE0m",children:e(ye,{})}),e(D.Item,{name:"contract_file",label:"File \u0111\xEDnh k\xE8m",valuePropName:"fileList",children:e(an,{name:"logo",action:"/upload.do",listType:"picture",children:e(k,{icon:e(Ie,{}),children:"Click to upload"})})})]})})]})}const od="DD/MM/YYYY";function ld(n){const{employee:t,roles:s,show:a,setShow:l}=n,[c]=D.useForm(),x=q(),S=R(i=>i.employeeReducer.updateEmployeeStatus);o.exports.useEffect(()=>{if(t){const i=r.exports.get(t,"profile.birthday",null);c.setFieldsValue({name:r.exports.get(t,"profile.name",""),email:r.exports.get(t,"profile.email",""),phone:r.exports.get(t,"phone",""),birthday:i?I(i):null,gender:r.exports.get(t,"profile.gender",0),address:r.exports.get(t,"profile.address",""),interests:r.exports.get(t,"profile.interests",""),disklikes:r.exports.get(t,"profile.disklikes",""),basic_salary:r.exports.get(t,"employee_contract.basic_salary",""),sales_salary:r.exports.get(t,"employee_contract.sales_salary",""),role_id:r.exports.get(t,"roles[0].id",0),working_day:I(r.exports.get(t,"employee_contract.working_day",""))})}},[t,c]);const m=i=>{const E={data:me(re({},i),{birthday:I(i.birthday).format("YYYY-MM-DD"),working_day:I(i.working_day).format("YYYY-MM-DD")}),eID:t.id};x(rs(E)).finally(()=>{l(!1),x(eo())})},p={pattern:/^-{0,1}\d*\.{0,1}\d+$/,message:"Gi\xE1 tr\u1ECB nh\u1EADp ph\u1EA3i l\xE0 s\u1ED1"};return e("div",{children:e(te,{width:800,style:{marginTop:"-80px"},visible:a,onCancel:()=>l(!1),closable:!0,okText:"L\u01B0u th\xF4ng tin",cancelText:"Hu\u1EF7 b\u1ECF",footer:[e(k,{onClick:()=>l(!1),children:"Hu\u1EF7 b\u1ECF"},"cancel"),e(k,{loading:S==="loading",type:"primary",htmlType:"submit",form:"ueForm",children:"L\u01B0u th\xF4ng tin"},"submit")],children:d(D,{id:"ueForm",form:c,labelCol:{span:4},wrapperCol:{span:19},layout:"horizontal",onFinish:m,style:{height:"80vh",overflowY:"auto"},children:[e(Ve,{children:"Th\xF4ng tin c\u01A1 b\u1EA3n"}),e(D.Item,{name:"name",label:"H\u1ECD t\xEAn",rules:[{required:!0,message:"H\u1ECD t\xEAn kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:e(M,{})}),e(D.Item,{name:"email",label:"email",rules:[{required:!0,message:"Email kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:e(M,{})}),e(D.Item,{name:"phone",label:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i",rules:[{required:!0,message:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:e(M,{})}),e(D.Item,{name:"gender",label:"Gi\u1EDBi t\xEDnh",children:d(O,{children:[e(O.Option,{value:1,children:"Nam"}),e(O.Option,{value:0,children:"N\u1EEF"}),e(O.Option,{value:2,children:"Kh\xE1c"})]})}),e(D.Item,{name:"birthday",label:"Ng\xE0y sinh",children:e(ye,{format:"DD-MM-YYYY"})}),e(D.Item,{name:"address",label:"\u0110\u1ECBa ch\u1EC9",children:e(M,{})}),e(D.Item,{name:"interests",label:"S\u1EDF th\xEDch",children:e(M.TextArea,{})}),e(D.Item,{name:"dislikes",label:"S\u1EDF gh\xE9t",children:e(M.TextArea,{})}),e(Ve,{children:"Th\xF4ng tin h\u1EE3p \u0111\u1ED3ng"}),e(D.Item,{name:"identify",label:"S\u1ED1 CMT/CCCD",children:e(M,{})}),e(D.Item,{rules:[p],name:"basic_salary",label:"L\u01B0\u01A1ng c\u01A1 b\u1EA3n",children:e(M,{})}),e(D.Item,{name:"sales_salary",label:"L\u01B0\u01A1ng doanh s\u1ED1",children:e(M,{})}),e(D.Item,{name:"role_id",label:"V\u1ECB tr\xED",children:d(O,{children:[e(O.Option,{value:0,children:"Nh\xE2n vi\xEAn"}),s.map(i=>e(O.Option,{value:i.id,children:Qt(i.name)},i.id))]})}),e(D.Item,{name:"working_date",label:"Ng\xE0y v\xE0o l\xE0m",children:e(ye,{format:od})}),e(D.Item,{name:"contract_file",label:"File \u0111\xEDnh k\xE8m",valuePropName:"fileList",children:e(an,{name:"logo",action:"/upload.do",listType:"picture",children:e(k,{icon:e(Ie,{}),children:"Click to upload"})})})]})})})}function dd(){const n=q(),[t,s]=o.exports.useState(0),[a,l]=o.exports.useState(""),[c,x]=o.exports.useState(ee.TEACHER),[S,m]=o.exports.useState(!1),[p,i]=o.exports.useState(-1),u=R(C=>C.roleReducer.roles),E=R(C=>C.employeeReducer.employees),_=R(C=>C.employeeReducer.getEmployeesStatus),g=R(C=>C.employeeReducer.updateEmployeeStatus),y=o.exports.useRef(r.exports.debounce(C=>n(ve({search:C,role_name:c})),500)).current;o.exports.useEffect(()=>{n(ve({per_page:100,search:a,role_name:c}))},[n,c]),o.exports.useEffect(()=>{g==="success"&&n(ve({per_page:100,search:a,role_name:c}))},[n,g,c]),o.exports.useEffect(()=>{n(Pe(0))},[n]);const A=C=>{l(C),y(C)};function h(C){x(C.target.value)}function f(C){m(!0),i(C)}const F=[{width:"15%",title:"H\u1ECD t\xEAn",key:"name",render:function(b){return e(k,{type:"link",children:r.exports.get(b,"profile.name","")})}},{width:"10%",title:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i",dataIndex:"phone",key:"phone"},{width:"10%",title:"Ng\xE0y sinh",key:"birthday",render:function(b){const v=r.exports.get(b,"profile.birthday",null),T=v?I(v).format("DD-MM-YYYY"):"";return e("span",{children:T})}},{width:"5%",title:"Gi\u1EDBi t\xEDnh",key:"gender",align:"center",render:function(b){return e("span",{children:r.exports.get(b,"profile.gender","")===0?"N\u1EEF":"Nam"})}},{width:"25%",title:"\u0110\u1ECBa ch\u1EC9",key:"address",render:function(b){return e("span",{children:r.exports.get(b,"profile.address","")})}},{width:"10%",title:"V\u1ECB tr\xED",key:"employee_contract",render:function(b){return e(Q,{children:r.exports.get(b,"roles",[]).map(v=>e(ae,{color:"orange",children:v.name},v.id))})}},{width:"15%",title:"Action",key:"action",render:function(b,v,T){return e(K,{size:"middle",children:e(J,{placement:"top",title:"S\u1EEDa th\xF4ng tin",children:e(k,{type:"link",icon:e(ut,{}),onClick:()=>f(T)})})})}}];return d(ie.Content,{children:[d(Ce,{style:{marginBottom:20,marginTop:20},justify:"start",children:[e(pe,{span:10,children:e(M,{allowClear:!0,placeholder:"T\xECm theo t\xEAn ho\u1EB7c s\u1ED1 \u0111i\u1EC7n tho\u1EA1i...",onChange:({target:C})=>A(C.value)})}),e(pe,{span:6,style:{marginLeft:20},children:e(id,{roles:u,selectedRole:c})})]}),e(K,{style:{marginBottom:20},children:d(et.Group,{onChange:h,value:c,children:[d(et,{value:ee.TEACHER,children:["Gi\xE1o vi\xEAn(1) "," ",e(J,{title:"Gi\xE1o vi\xEAn ch\xEDnh th\u1EE9c (l\u01B0\u01A1ng theo doanh thu h\u1ECDc ph\xED)",children:e(Oe,{style:{color:"#f39c12"}})})]}),d(et,{value:ee.TEACHER2,children:["Gi\xE1o vi\xEAn(2) "," ",e(J,{title:"Gi\xE1o vi\xEAn h\u1EE3p \u0111\u1ED3ng (l\u01B0\u01A1ng tr\xEAn s\u1ED1 bu\u1ED5i d\u1EA1y)",children:e(Oe,{style:{color:"#f39c12"}})})]}),d(et,{value:ee.SALE,children:["Sale"," ",e(J,{title:"Nh\xE2n vi\xEAn sale",children:e(Oe,{style:{color:"#f39c12"}})})]}),e(et,{value:ee.EMPLOYEE,children:"Kh\xE1c"})]})}),e(le,{loading:_==="loading",size:"small",dataSource:r.exports.get(E,"data",[]),rowKey:"id",columns:F,bordered:!0,pagination:{pageSize:20,total:r.exports.get(E,"total",0),onChange:C=>{s(C)}}}),e(ld,{employee:r.exports.get(E,"data",[])[p],roles:u,show:S,setShow:m})]})}const{RangePicker:ca}=ye;function ud(){var y;const n=q(),t=Se(),[s,a]=o.exports.useState([]),l=R(A=>A.dayoffReducer.dayoffs),c=R(A=>A.statisticalReducer.revenueStat),x=R(A=>A.statisticalReducer.classesToday),S=R(A=>A.statisticalReducer.studentStat),m=R(A=>A.statisticalReducer.birthdayList),p=R(A=>A.revenuesReducer.revenues);o.exports.useEffect(()=>{const A=I(I().startOf("month")).startOf("week"),h=I(A).day(41);n(nt({from_date:I(A).format("YYYY-MM-DD"),to_date:I(h).format("YYYY-MM-DD")})),n(At({})),n(sn({})),n(Lt({from_date:I().startOf("year").format("YYYY-MM"),to_date:I().format("YYYY-MM")})),n(Nt({from_date:I(A).format("YYYY-MM-DD"),to_date:I(h).format("YYYY-MM-DD")}))},[n]),o.exports.useEffect(()=>{if(S){const A=[];Object.keys(S.total_student).map(h=>A.push({month:h,total:S.total_student[h],type:"in"})),Object.keys(S.total_student_off).map(h=>A.push({month:h,total:S.total_student_off[h],type:"out"})),a(A)}},[S]);const i={data:s,height:250,xField:"month",yField:"total",seriesField:"type",color:["#1979C9","#e74c3c"],point:{size:5,shape:"diamond"}};function u(A,h){n(At(A===null?{}:{from_date:h[0],to_date:h[1]}))}function E(A,h){A!==null&&n(Lt({from_date:h[0],to_date:h[1]}))}function _(A,h){console.log(A.format("YYYY-MM-DD"),h);const f=I(A.startOf("month")).startOf("week"),F=I(f).day(41);n(Nt({from_date:I(f).format("YYYY-MM-DD"),to_date:I(F).format("YYYY-MM-DD")}))}function g(A){let h=!1;const f=I(A).format("YYYY-MM-DD");r.exports.get(l,"data",[]).forEach(b=>{I(f).isSame(I(b.from_date))&&(h=!0)});let F=[],C=[];return m&&(m.students.forEach(b=>{I(f).format("M")===I(b.birthday).format("M")&&I(f).format("D")===I(b.birthday).format("D")&&C.push(b)}),m.users.forEach(b=>{var v,T;I(f).format("M")===I((v=b.profile)==null?void 0:v.birthday).format("M")&&I(f).format("D")===I((T=b.profile)==null?void 0:T.birthday).format("D")&&F.push(b)})),d(Q,{children:[h&&e(ae,{style:{fontSize:10,marginBottom:5},color:"#ff7979",children:"Ng\xE0y ngh\u1EC9"}),F.map(b=>{var v,T;return e("div",{style:{fontSize:10,backgroundColor:"#f6e58d",paddingLeft:4,paddingRight:4,marginBottom:4},children:d(ta,{title:d(Q,{children:[e(mt,{style:{color:"#e84393"}})," Sinh nh\u1EADt nh\xE2n vi\xEAn"]}),content:d("div",{children:[e("a",{children:(v=b.profile)==null?void 0:v.name}),d("p",{children:["Phone: ",b.phone]})]}),children:[e(mt,{style:{color:"#e84393"}}),d("span",{children:[" ",(T=b.profile)==null?void 0:T.name]})]})},b.id)}),C.map(b=>e("div",{style:{fontSize:10,backgroundColor:"#dff9fb",paddingLeft:4,paddingRight:4,marginBottom:4},children:d(ta,{title:d(Q,{children:[e(mt,{style:{color:"#e84393"}})," Sinh nh\u1EADt h\u1ECDc sinh"]}),content:d("div",{children:[e("a",{children:b.name}),d("p",{children:["L\u1EDBp: ",r.exports.get(b,"class.name","")]})]}),children:[e(mt,{style:{color:"#e84393"}}),d("span",{children:[" ",b.name]})]})},b.id))]})}return d(ie.Content,{children:[d("div",{className:"site-card-wrapper",children:[e("h3",{children:"Th\u1ED1ng k\xEA"}),e(K,{style:{justifyContent:"flex-end",width:"100%",marginBottom:20},children:e(ca,{onChange:u,allowEmpty:[!0,!0]})}),d(Ce,{gutter:16,children:[e(pe,{span:8,children:e(Ye,{title:e("span",{style:{color:"#fff"},children:"S\u1ED1 l\u01B0\u1EE3ng h\u1ECDc sinh"}),bordered:!0,style:{backgroundColor:"#3498db",color:"#fff"},children:S==null?void 0:S.total})}),e(pe,{span:8,children:e(Ye,{title:e(K,{children:e("span",{style:{color:"#fff"},children:"Danh thu"})}),bordered:!0,style:{backgroundColor:"#27ae60",color:"#fff"},children:W(c==null?void 0:c.receipts).format("0,0 $")})}),e(pe,{span:8,children:e(Ye,{title:e("span",{style:{color:"#fff"},children:"Chi ti\xEAu"}),bordered:!0,style:{backgroundColor:"#e67e22",color:"#fff"},children:W(c==null?void 0:c.payment_slips).format("0,0 $")})})]}),e(Ce,{gutter:16,style:{padding:10},children:e(Ye,{type:"inner",title:"L\u1ECBch trung t\xE2m",bordered:!0,style:{marginTop:20},children:e(Ta,{fullscreen:!0,onPanelChange:_,dateCellRender:g})})})]}),e("div",{className:"site-card-wrapper",style:{marginTop:20},children:d(Ce,{gutter:16,children:[e(pe,{span:16,children:e(Ye,{title:"Th\u1ED1ng k\xEA h\u1ECDc sinh",type:"inner",bordered:!0,extra:e(ca,{picker:"month",defaultValue:[I().startOf("year"),I()],onChange:E}),children:e(Wr,re({},i))})}),d(pe,{span:8,children:[e(Ye,{title:"L\u1ECBch h\u1ECDc h\xF4m nay",type:"inner",bordered:!0,children:x.map(A=>d("div",{className:"daily-schedule",children:[d("div",{style:{display:"flex",justifyContent:"space-between"},children:[e("strong",{children:A.name}),e("strong",{children:A.schedule_time})]}),e("a",{children:r.exports.get(A,"user.profile.name")})]},A.id))}),e(Ye,{title:"Doanh thu g\u1EA7n \u0111\xE2y",type:"inner",bordered:!0,style:{marginTop:20},extra:e(k,{type:"link",onClick:()=>t.push("/payments/revenue"),children:"Xem th\xEAm"}),children:e(ea,{children:(y=p==null?void 0:p.data)==null?void 0:y.map((A,h)=>h<5&&d(ea.Item,{children:[d("a",{children:[`${pn[A.type]}`," - ",W(A.amount).format("0,0")]}),e("p",{children:e("small",{children:I(A.date).format("DD-MM-YYYY HH:mm")})})]}))})})]})]})})]})}const cd=Je.div`
	.permission {
		&__divider {
			margin: 0 auto 24px;
		}
		&__button {
			display: flex;
			justify-content: flex-start;
			margin: 0 0 24px 0;
			padding-top: 20px;
		}
	}
`,hd=[{title:"Id",key:"id",dataIndex:"id",defaultSortOrder:"ascend",showSorterTooltip:!1,sorter:{compare:(n,t)=>n.id-t.id,multiple:3}},{title:"T\xEAn",key:"name",dataIndex:"name",render:function(t){return e("a",{className:"example-link",children:d(K,{children:[e(un,{}),t]})})}},{title:"Ng\xE0y t\u1EA1o",key:"created_at",dataIndex:"created_at",render:function(t){return e(Q,{children:mn(t,En.DD_MM_YYYY_HH_mm_ss)})},showSorterTooltip:!1,sorter:{compare:(n,t)=>ur(n.created_at,t.created_at),multiple:2}},{title:"Action",key:"action",render:function(t,s){return e(K,{size:"large",style:{display:"flex",justifyContent:"center"},children:e("a",{children:e(ut,{})})})}}];function pd(){const n=q(),[t,s]=o.exports.useState(!1),a=R(x=>x.permissionReducer.permissions),[l,c]=o.exports.useState(a);return o.exports.useEffect(()=>{a&&a.length===0&&(s(!0),n(Dt({})).then(()=>{c(a)}).finally(()=>{s(!1)}))},[n]),e(cd,{children:e(ie.Content,{children:e(le,{columns:hd,loading:t,pagination:{pageSize:20},size:"small"})})})}var Be={REQUIRE:"Tr\u01B0\u1EDDng b\u1EAFt bu\u1ED9c kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng",EMAIL:"Email kh\xF4ng h\u1EE3p l\u1EC7",NEW_PASSWORD_NOT_MATCH:"M\u1EADt kh\u1EA9u m\u1EDBi kh\xF4ng kh\u1EDBp"};function Ed({onAddUser:n}){const[t,s]=o.exports.useState(!1),[a]=D.useForm(),l=R(E=>E.userReducer.statusAddUser),c=R(E=>E.roleReducer.roles),x=q(),[S,m]=o.exports.useState([]);o.exports.useEffect(()=>{x(Pe(0))},[x]),o.exports.useEffect(()=>{m(c.map(E=>({label:E.name,value:E.id})))},[c]);const p={labelCol:{span:8},wrapperCol:{span:16}};function i(){a.resetFields()}function u(E){n(me(re({},E),{password:"password"}))}return o.exports.useEffect(()=>{l==="success"&&(s(!1),x(Io()),x(Le({})))},[l,x]),d(Q,{children:[e(k,{type:"primary",icon:e(De,{}),onClick:()=>s(!0),children:"Th\xEAm ng\u01B0\u1EDDi d\xF9ng"}),e(te,{title:"Th\xEAm t\xE0i kho\xE0n ng\u01B0\u1EDDi d\xF9ng m\u1EDBi",visible:t,onCancel:()=>{s(!1),i()},footer:[e(k,{type:"primary",htmlType:"submit",form:"addUserForm",children:"L\u01B0u l\u1EA1i"},"btnSubmit"),e(k,{onClick:i,children:"L\xE0m m\u1EDBi"},"btncancel")],width:800,children:e(Ae,{spinning:l==="loading",children:d(D,me(re({},p),{labelAlign:"left",name:"nest-messages",onFinish:u,id:"addUserForm",form:a,children:[e(D.Item,{name:"name",label:"T\xEAn ng\u01B0\u1EDDi d\xF9ng",rules:[{required:!0,message:Be.REQUIRE}],children:e(M,{})}),e(D.Item,{name:"email",label:"Email",rules:[{type:"email",message:Be.EMAIL},{required:!0,message:Be.REQUIRE}],children:e(M,{})}),e(D.Item,{name:"phone",label:"Phone",rules:[{required:!0,message:Be.REQUIRE}],children:e(M,{})}),e(D.Item,{name:"role_id",label:"Vai tr\xF2",rules:[{required:!0,message:Be.REQUIRE}],children:e(O,{options:S})})]}))})})]})}function md(n){const[t,s]=o.exports.useState(!1),[a]=D.useForm(),{handleChangePass:l,userId:c}=n,x=R(E=>E.userReducer.statusChangePassword),S=!n.userId,m=q();o.exports.useEffect(()=>{x==="success"&&(s(!1),m(To()))},[x,m]);const p={labelCol:{span:6},wrapperCol:{span:18}};function i(E){if(!c)return;const _={user_id:c,new_password:E.new_password};l(_)}function u(){a.resetFields()}return d("div",{children:[S?e("span",{onClick:()=>s(!0),children:"\u0110\u1ED5i m\u1EADt kh\u1EA9u"}):e(J,{placement:"top",title:"\u0110\u1ED5i m\u1EADt kh\u1EA9u",children:e(k,{type:"link",icon:e(ut,{}),onClick:()=>s(!0)})}),e(te,{title:"Thay \u0111\u1ED5i m\u1EADt kh\u1EA9u",centered:!0,visible:t,onCancel:()=>{s(!1),u()},footer:!1,width:800,children:e(Ae,{spinning:x==="loading",children:d(D,me(re({},p),{labelAlign:"left",name:"nest-messages",onFinish:i,form:a,children:[S&&e(D.Item,{name:"old_password",label:"M\u1EADt kh\u1EA9u hi\u1EC7n t\u1EA1i",rules:[{required:!0,message:Be.REQUIRE}],children:e(M.Password,{})}),e(D.Item,{name:"new_password",label:"M\u1EADt kh\u1EA9u m\u1EDBi",rules:[{required:!0,message:Be.REQUIRE}],children:e(M.Password,{})}),e(D.Item,{name:"confirm_new_password",label:"X\xE1c nh\u1EADn m\u1EADt kh\u1EA9u m\u1EDBi",dependencies:["new_password"],rules:[{required:!0,message:Be.REQUIRE},({getFieldValue:E})=>({validator(_,g){return!g||E("new_password")===g?Promise.resolve():Promise.reject(new Error(Be.NEW_PASSWORD_NOT_MATCH))}})],children:e(M.Password,{})}),e(D.Item,{wrapperCol:{offset:8},children:d(K,{children:[e(k,{type:"primary",htmlType:"submit",children:"Submit"}),e(k,{onClick:u,children:"Reset"})]})})]}))})})]})}const{confirm:ha}=te;function gd(){const n=q(),t=Se(),s=R(C=>C.userReducer.users),[a,l]=o.exports.useState(""),[c,x]=o.exports.useState(1),[S,m]=o.exports.useState("active"),p=R(C=>C.userReducer.statusGetUser),i=R(C=>C.userReducer.statusUpdateUserState),u=o.exports.useRef(r.exports.debounce(C=>n(Le({search:C})),500)).current;o.exports.useEffect(()=>{n(Le({page:c,search:a,status:S}))},[n,c,S]),o.exports.useEffect(()=>{i==="success"&&(n(vo()),n(Le({search:a})))},[n,a,i]);function E(C){l(C),u(C)}function _(C){m(C.target.value)}function g(C){n(Cs(C))}function y(C){ha({title:"B\u1EA1n mu\u1ED1n v\xF4 hi\u1EC7u ho\xE1 t\xE0i kho\u1EA3n n\xE0y!",icon:e(Re,{}),onOk(){n(Ss(C.id)).finally(()=>{n(Le({per_page:100,status:"active"}))})}})}function A(C){n(Ds(C))}function h(C){ha({title:"B\u1EA1n mu\u1ED1n kh\xF4i ph\u1EE5c t\xE0i kho\u1EA3n n\xE0y!",icon:e(Re,{}),onOk(){n(As(C.id)).finally(()=>{n(Le({per_page:100,status:"deactive"}))})}})}const f=C=>e(Q,{children:C.deleted_at===null?d(K,{children:[e(md,{userId:+C.id,handleChangePass:g}),e(J,{placement:"top",title:"Ph\xE2n quy\u1EC1n cho t\xE0i kho\u1EA3n",children:e(k,{type:"link",icon:e(Zr,{}),onClick:()=>t.push(`/user-set-permissions/${C.id}`)})}),e(J,{placement:"top",title:"V\xF4 hi\u1EC7u ho\xE1 t\xE0i kho\u1EA3n",children:e(k,{type:"link",icon:e(zn,{}),danger:!0,onClick:()=>y(C)})})]}):e(J,{placement:"top",title:"Kh\xF4i ph\u1EE5c t\xE0i kho\u1EA3n",children:e(k,{type:"link",icon:e(ei,{style:{color:"#27ae60"}}),danger:!0,onClick:()=>h(C)})})});f.displayName="ColActions";const F=[{width:"30%",title:"Name",key:"name",render:C=>e("strong",{children:r.exports.get(C,"profile.name","")})},{width:"30%",title:"Email",key:"email",render:C=>e("span",{children:r.exports.get(C,"profile.email","")})},{width:"20%",title:"Phone",key:"phone",render:C=>d("span",{children:[C.phone," ",C.phone_verified_at===null?e(ae,{color:"red",children:"Ch\u01B0a x\xE1c th\u1EF1c"}):""]})},{width:"10%",title:"Role",key:"role",render:(C,b)=>e(Q,{children:r.exports.get(b,"roles",[]).map(v=>e(ae,{color:"orange",children:v.name},v.id))})},{width:"10%",title:"Action",key:"action",render:f}];return e(ie.Content,{children:d(Ae,{spinning:p==="loading",children:[d(K,{children:[e(M,{style:{width:400},placeholder:"T\xECm ki\u1EBFm th\xF4ng qua t\xEAn, email, ho\u1EB7c s\u1ED1 \u0111i\u1EC7n tho\u1EA1i",onChange:({target:C})=>E(C.value),prefix:e(Ya,{})}),e("div",{style:{marginLeft:10},children:e(Ed,{onAddUser:A})})]}),e("div",{children:d(et.Group,{defaultValue:"active",onChange:_,style:{marginBottom:20,marginTop:20},children:[e(et,{value:"active",children:"\u0110ang k\xEDch ho\u1EA1t"}),e(et,{value:"deactive",children:"V\xF4 hi\u1EC7u ho\xE1"})]})}),e(le,{rowKey:"id",dataSource:r.exports.get(s,"data",[]),columns:F,bordered:!0,pagination:{pageSize:20,total:r.exports.get(s,"total",0),onChange:C=>{x(C)}},size:"small"})]})})}function Er(n){const{hasCloseButton:t,style:s}=n,a=q(),[l,c]=o.exports.useState(!1),[x,S]=o.exports.useState([]),[m]=D.useForm(),p=R(u=>u.filesReducer.statusUploadFile);o.exports.useEffect(()=>{p==="success"||p==="error"?(c(!1),a(Qn()),p==="success"&&S([])):p==="loading"&&c(!0)},[a,p]);function i(){if(x.length>0){const u=x.map(E=>E.originFileObj);a(It(u))}}return e("div",{style:s,children:e(Ae,{spinning:l,children:d(D,{onFinish:i,form:m,children:[e(D.Item,{children:d(Pa,{name:"file",multiple:!0,customRequest:pr,onDrop:u=>{},listType:"picture-card",fileList:x,onChange:({fileList:u})=>{S(u)},children:[e("p",{className:"ant-upload-drag-icon",children:e(ti,{})}),e("p",{className:"ant-upload-text",children:"Nh\u1EA5n ho\u1EB7c k\xE9o th\u1EA3 file v\xE0o khu v\u1EF1c \u0111\u1EC3 upload!"})]})}),d(D.Item,{style:{textAlign:"center"},children:[e(k,{type:"primary",htmlType:"submit",children:"Upload"}),t&&n.children]})]})})})}const fd=Je.div``;function xd(){const n=q(),[t,s]=o.exports.useState(!1),a=R(l=>l.filesReducer.statusUploadFile);return o.exports.useEffect(()=>{(a==="success"||a==="error")&&a==="success"&&s(!1)},[n,a]),d(fd,{children:[e(k,{type:"primary",icon:e(si,{}),onClick:()=>{s(!0)},children:"T\u1EA3i l\xEAn"}),e(te,{title:"T\u1EA3i file l\xEAn",centered:!0,visible:t,onCancel:()=>{s(!1)},footer:null,width:950,maskClosable:!1,children:e(Er,{hasCloseButton:!0,children:e(k,{style:{marginLeft:30},onClick:()=>{s(!1)},children:"Cancel"})})})]})}const yd=Je.div`
	.ant-table-tbody > tr.ant-table-row:hover > td {
		background: #61dafb38;
	}
	.img-center {
		display: block;
		margin: 0 auto;
	}
`;function Cd(){const n=q(),[t,s]=o.exports.useState(!1),[a,l]=o.exports.useState(""),[c,x]=o.exports.useState(1),S=R(g=>g.filesReducer.files),m=R(g=>g.filesReducer.statusDeleteFile),p=R(g=>g.filesReducer.statusUploadFile),i=R(g=>g.filesReducer.statusGetFiles);o.exports.useEffect(()=>{n(Ne({page:c,search:a}))},[n,c]),o.exports.useEffect(()=>{m==="success"?(n(Ne({search:a})),n(da())):p==="success"?(n(Ne({search:a})),n(Qn())):(m==="error"||p==="error")&&(s(!1),n(m==="error"?da():Qn())),i==="success"||i==="error"?(n(Ja()),s(!1)):i==="loading"&&s(!0)},[n,a,m,i,p]);function u(){s(!0),n(Ne({search:a}))}function E(g){s(!0),n(is(+g.id))}const _=[{title:"Name",dataIndex:"name",key:"name",render:(g,y)=>e("span",{children:e("a",{rel:"noopener noreferrer",target:"_blank",href:y.url,children:g})})},{width:"10%",title:"Type",dataIndex:"type",key:"type"},{width:"20%",title:"Preview",key:"_",render:g=>{if(ln(g.type||""))return e(Q,{children:e("img",{className:"img-center",src:g.url,style:{maxHeight:50,maxWidth:200}})});const y=Object.keys(tt).find(A=>A===g.type);return e("img",{className:"img-center",src:tt[y],style:{maxHeight:50,maxWidth:200}})}},{width:"10%",title:"Size",dataIndex:"size",key:"size",render:g=>e("span",{children:Yl(g)})},{width:"12%",title:"Ng\xE0y upload",dataIndex:"created_at",key:"created_at",render:g=>e(Q,{children:mn(g,En.DD_MM_YYYY_HH_mm_ss)})},{width:"10%",title:"Action",key:"action",render:g=>e(Ba,{title:"X\xE1c nh\u1EADn xo\xE1 file?",icon:e(ai,{}),onConfirm:()=>E(g),children:e(k,{type:"link",danger:!0,icon:e(ri,{})})})}];return e(yd,{children:e(ie.Content,{style:{padding:20},children:d(Ae,{spinning:t,children:[d(K,{style:{marginBottom:20},children:[e(M,{style:{width:300},placeholder:"T\xECm ki\u1EBFm th\xF4ng qua t\xEAn file...",onChange:g=>l(g.target.value),value:a,onKeyUp:g=>g.key==="Enter"&&u(),prefix:e(ni,{})}),e("div",{style:{marginLeft:20},children:e(xd,{})})]}),e(le,{rowKey:"id",dataSource:r.exports.get(S,"data",[]),columns:_,bordered:!0,pagination:{pageSize:20,total:r.exports.get(S,"total",0),onChange:g=>{x(g)}},size:"small"})]})})})}const Sd=Je.div``;function Ad(){const[n,t]=o.exports.useState(!1),[s,a]=o.exports.useState(0),[l]=D.useForm(),c=q(),x=R(i=>i.auth.user),S=R(i=>i.employeeReducer.employees),m=R(i=>i.revenuesReducer.addRevenuesStatus);o.exports.useEffect(()=>{m==="success"&&(l.resetFields(),t(!1))},[l,m]);function p(i){const u=re({},i);u.date=I(i.date).format("YYYY-MM-DD"),u.creator_id=Number(x==null?void 0:x.id),c(_s(u))}return d(Sd,{children:[e(k,{type:"primary",icon:e(De,{}),onClick:()=>t(!0),children:"Th\xEAm phi\u1EBFu thu"}),e(te,{width:1e3,visible:n,closable:!0,onCancel:()=>t(!1),footer:[e(k,{onClick:()=>t(!1),children:"Cancel"},""),e(k,{type:"primary",form:"eForm",htmlType:"submit",children:"Submit"},"submit")],children:e(Ae,{spinning:m==="loading",children:d(D,{id:"eForm",labelCol:{span:6},wrapperCol:{span:14},layout:"horizontal",form:l,onFinish:p,children:[e(Ve,{children:"T\u1EA1o phi\u1EBFu doanh thu"}),e(D.Item,{name:"sale_id",label:"Ng\u01B0\u1EDDi thu",children:e(O,{children:S&&r.exports.get(S,"data",[]).map(i=>{var u;return d(O.Option,{value:i.id,children:[`${r.exports.get(i,"profile.name","")}`," ",e("a",{children:(u=i.phone)!=null?u:""})]},i.id)})})}),e(D.Item,{name:"amount",label:"S\u1ED1 ti\u1EC1n",rules:[{required:!0,message:"S\u1ED1 ti\u1EC1n kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:e(he,{style:{width:"100%"},formatter:i=>`${i}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:i=>i.replace(/(,*)/g,"")})}),e(D.Item,{name:"type",label:"Lo\u1EA1i chi ti\xEAu",rules:[{required:!0,message:"Lo\u1EA1i chi ti\xEAu kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:e(O,{onChange:i=>i!==void 0&&a(+i),children:pn.map((i,u)=>e(O.Option,{value:u,children:i},u))})}),e(D.Item,{name:"date",label:"Ng\xE0y thu",rules:[{required:!0,message:"Ng\xE0y thu kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:e(ye,{})}),s===0&&e(D.Item,{name:"reason",label:"L\xFD do",children:e(M.TextArea,{})}),e(D.Item,{name:"note",label:"Ghi ch\xFA",children:e(M.TextArea,{})})]})})})]})}function Dd({handleShowDetail:n,show:t,data:s}){return e(te,{width:1e3,title:"Th\xF4ng tin phi\u1EBFu thu",visible:t,onCancel:()=>n(!1),footer:null,children:s&&d(j,{bordered:!0,children:[e(j.Item,{span:2,label:"Ng\u01B0\u1EDDi l\u1EADp",children:e("a",{href:"#",children:r.exports.get(s,"creator.profile.name")})}),e(j.Item,{label:"Ng\xE0y l\u1EADp",children:I(s==null?void 0:s.created_at).format("DD-MM-YYYY HH:mm")}),e(j.Item,{label:"S\u1ED1 ti\u1EC1n",children:d("strong",{style:{color:"#3f8600"},children:[" ",bt((s==null?void 0:s.amount)||0)]})}),e(j.Item,{label:"Lo\u1EA1i doanh thu",children:e(ae,{color:(s==null?void 0:s.type)===1?"#3498db":"#d35400",children:s&&pn[s==null?void 0:s.type]})}),e(j.Item,{label:"Tr\u1EA1ng th\xE1i",children:e(ae,{color:s.status===1?"green":"red",children:ar[s==null?void 0:s.status]})}),e(j.Item,{label:"L\xFD do",span:4,children:s==null?void 0:s.reason}),e(j.Item,{label:"Ghi ch\xFA",children:s==null?void 0:s.note})]})})}const{RangePicker:bd}=ye,{confirm:Fd}=te,_d=Je.div`
	.ant-table-tbody > tr.ant-table-row:hover > td {
		background: #61dafb38;
	}
	.ant-table-tbody > tr.ant-table-row.editing-row > td {
		background: #61dafb38;
	}
`;function wd(){const n=Ge(),[t,s]=o.exports.useState(123);o.exports.useState(null);const[a,l]=o.exports.useState([]),[c,x]=o.exports.useState([]),[S,m]=o.exports.useState(null),[p,i]=o.exports.useState(!1),[u,E]=o.exports.useState(()=>{const P=I().startOf("month").format("YYYY-MM-DD"),N=I().endOf("month").format("YYYY-MM-DD");return{search:"",searchRange:[P,N]}}),[_,g]=o.exports.useState([]),y=R(P=>P.revenuesReducer.getRevenuesStatus),A=R(P=>P.revenuesReducer.addRevenuesStatus),h=R(P=>P.revenuesReducer.updateRevenuesStatus),f=R(P=>P.revenuesReducer.revenues);o.exports.useRef(r.exports.debounce((P,N,H)=>E({searchRange:[N,H],search:P}),500)).current,o.exports.useEffect(()=>{const[P,N]=u.searchRange,H=u.search;n(st({fromDate:P,toDate:N,search:H}))},[n,u]),o.exports.useEffect(()=>{const P=r.exports.get(f,"data",[]),N=P.reduce((H,Z)=>H+ +Z.amount,0);s(N),g(P)},[f]),o.exports.useEffect(()=>{y==="success"||y==="error"?(n(Uo()),l([]),x([])):A==="success"||A==="error"?(A==="success"&&n(st({})),n(Go())):(h==="success"||h==="error")&&(h==="success"&&n(st({})),n(Qo()))},[n,A,y,h]);function F(P,N){const[H,Z]=N;E(me(re({},u),{searchRange:[H,Z]}))}function C(){const P=[];a.forEach(H=>P.push(H.id)),n(ws({receipt_ids:P,status:1}))}function b(P){i(P)}function v(P){Fd({title:"B\u1EA1n mu\u1ED1n xo\xE1 phi\u1EBFu thu n\xE0y!",icon:e(zt.ExclamationCircleOutlined,{}),onOk(){n(ks(P))}})}const T=[{title:"Ng\xE0y t\u1EA1o",dataIndex:"created_at",key:"payemnt_date",render:function(N){return e(Q,{children:I(N).format("DD-MM-YYYY HH:mm")})}},{title:"Ng\u01B0\u1EDDi l\u1EADp",dataIndex:"__",key:"payemnt_creator",render:function(N,H){return e("a",{children:r.exports.get(H,"creator.profile.name","")})}},{title:"Lo\u1EA1i thu",dataIndex:"type",key:"payemnt_type",align:"center",render:function(N){return e(ae,{color:N===1?"#3498db":"#d35400",children:pn[N]})}},{title:"S\u1ED1 ti\u1EC1n",dataIndex:"amount",key:"payemnt_amount",render:function(N){return e("strong",{style:{color:"#3f8600"},children:bt(N)})}},le.SELECTION_COLUMN,{title:"Tr\u1EA1ng th\xE1i",dataIndex:"status",key:"payemnt_status",editable:!0,render:function(N){return e(ae,{color:N===1?"green":"red",children:ar[N]})}},{title:"Action",key:"payemnt_action",render:function(N,H){return d(K,{children:[e(J,{title:"Chi ti\u1EBFt",children:e(k,{type:"link",icon:e(zt.FileTextOutlined,{}),onClick:()=>{b(!0),m(H)}})}),e(J,{title:"Xo\xE1",children:e(k,{type:"link",danger:!0,icon:e(zt.DeleteOutlined,{}),disabled:H.status===1,onClick:()=>v(H.id)})})]})}}];return e(_d,{children:d(ie.Content,{style:{height:1e3},children:[d(Ce,{style:{marginBottom:20,marginTop:20},justify:"start",children:[e(pe,{children:e(Ce,{justify:"start",children:e(bd,{allowEmpty:[!0,!0],onChange:F,defaultValue:[I().startOf("month"),I().endOf("month")]})})}),e(pe,{style:{marginLeft:20},children:e(Ad,{})})]}),e(Ce,{style:{justifyContent:"flex-end"},children:e(nn,{title:"T\u1ED5ng thu",value:t,suffix:"VND",valueStyle:{color:"#3f8600"}})}),d(Ae,{spinning:y==="loading"||h==="loading",children:[a.length>0&&d(K,{style:{marginBottom:20},children:[e(k,{type:"primary",icon:e(zt.CheckCircleOutlined,{}),onClick:()=>C(),loading:!1,children:"X\xE1c nh\u1EADn"}),e("span",{style:{marginLeft:8},children:a.length>0?`${a.length} phi\u1EBFu thu`:""})]}),e(le,{rowKey:"id",dataSource:_,columns:T,rowSelection:{selectedRowKeys:c,onChange:(P,N)=>{console.log(`selectedRowKeys: ${P}`,"selectedRows: ",N),l(N),x(P)},getCheckboxProps:P=>({disabled:P.status===1})},pagination:{pageSize:20,total:r.exports.get(f,"total",0)}}),e(Dd,{handleShowDetail:b,show:p,data:S})]})]})})}const kd={width:"20%",position:"relative"},pa={width:"100%",height:"80px",objectFit:"contain"};function Rd(n){const{listFileSelected:t,handleRemoveFileSelected:s,review:a}=n;return t.length>0?e(ue,{style:{marginTop:20},itemLayout:"horizontal",dataSource:t,renderItem:l=>d(K,{style:{marginRight:20,marginBottom:10},children:[a?e(Ue,{width:60,src:l.url}):"",d("span",{style:{display:"block"},children:[l.name,e(k,{type:"link",icon:e(Gt,{style:{color:"red"}}),onClick:()=>s(l.id)})]})]})}):e(Q,{})}function dt(n){var h;const{isShow:t,closeFunction:s,okFunction:a,showSelectedList:l,defaultSelected:c,review:x}=n,S=q(),[m,p]=o.exports.useState([...c]),i=R(f=>f.filesReducer.files),u=R(f=>f.filesReducer.statusGetFiles),E=R(f=>f.filesReducer.statusUploadFile);o.exports.useEffect(()=>{(u==="success"||u==="error")&&S(Ja())},[S,u]),o.exports.useEffect(()=>{E==="success"&&S(Ne({}))},[S,E]),o.exports.useEffect(()=>{S(Ne({}))},[S]),o.exports.useEffect(()=>{p([...c])},[c]);function _(f){S(Ne({page:f}))}function g(f,F=!1){var b;const C=m.findIndex(v=>v.id===f);if(C>-1){const v=[...m];v.splice(C,1),p(v),F&&a(v)}else p([...m,(b=i.data)==null?void 0:b.find(v=>v.id===f)])}function y(){p([]),s()}function A(){a(m),s()}return d(Q,{children:[n.children,e(te,{bodyStyle:{minHeight:200},centered:!0,visible:t,onCancel:y,onOk:A,width:1500,style:{paddingTop:0},maskClosable:!1,children:d(ze,{defaultActiveKey:"1",children:[e(ze.TabPane,{tab:"Ch\u1ECDn file \u0111\xE3 upload",children:d(Ae,{spinning:u==="loading",children:[e(Ye,{children:(h=i.data)==null?void 0:h.map(f=>d(Ye.Grid,{style:kd,children:[e(ce,{onClick:()=>{g(f.id)},checked:m.find(F=>F.id===f.id)!==void 0,style:{position:"absolute",zIndex:2,left:"6px",top:"5px"}}),e(Ye,{onClick:()=>{g(f.id)},style:{width:"100%",border:"unset",position:"relative",cursor:"pointer"},cover:ln(f.type||"")&&e("img",{className:"img-center",src:f.url,style:pa})||e("img",{className:"img-center",src:tt[Object.keys(tt).find(F=>F===f.type)],style:pa}),children:e(ii,{style:{cursor:"pointer"},title:f.name,description:`Upload: ${I(f.created_at).format("DD/MM/YYYY HH:mm")}`})})]},f.id))}),!!r.exports.get(i,"total",0)&&e(oi,{style:{marginTop:"10px",textAlign:"right"},pageSize:20,total:r.exports.get(i,"total",0),onChange:f=>_(f)})]})},"1"),e(ze.TabPane,{tab:"Upload file m\u1EDBi",children:e(Er,{})},"2")]})}),l&&e(Rd,{review:x,handleRemoveFileSelected:f=>g(f,!0),listFileSelected:m})]})}function Bd(n){const{testInfo:t}=n,s=Ge(),[a]=D.useForm(),[l,c]=o.exports.useState(!1),[x,S]=o.exports.useState(!1),[m,p]=o.exports.useState(!1),i=R(h=>h.testReducer.updateTestStatus),u=R(h=>h.lessonReducer.lessons),[E,_]=o.exports.useState([]),[g,y]=o.exports.useState([]);o.exports.useEffect(()=>{t&&i==="success"&&(s(Lo()),s(xt(t.id)),c(!1))},[s,t,i]),o.exports.useEffect(()=>{t&&(a.setFieldsValue({result_link:t.result_link,content_link:t.content_link,title:t.title,date:I(t.date),lesson_id:t.lesson_id}),_(t.result_files),y(t.content_files))},[t]);function A(h){if(t){const{result_link:f,content_link:F,title:C,date:b,lesson_id:v}=h,T=E.map(N=>N.id),P=g.map(N=>N.id);s(Fs({id:t.id,title:C,date:I(b).format("YYYY-MM-DD"),content_files:P,content_link:F===""?null:F,result_link:f===""?null:f,result_files:T,lesson_id:v}))}}return t==null?e(Q,{}):d(Q,{children:[e(k,{type:"primary",icon:e(La,{}),onClick:()=>c(!0),children:"C\u1EADp nh\u1EADt"}),e(Te,{title:"C\u1EADp nh\u1EADt b\xE0i ki\u1EC3m tra v\xE0 \u0111\xE1p \xE1n",visible:l,closable:!0,width:800,onCancel:()=>c(!1),footer:[e(k,{onClick:()=>c(!1),children:"Hu\u1EF7 b\u1ECF"},"btncancle"),e(k,{loading:i==="loading",type:"primary",htmlType:"submit",form:"aForm",children:"L\u01B0u l\u1EA1i"},"btnok")],children:d(D,{id:"aForm",form:a,labelCol:{span:4},wrapperCol:{span:18},layout:"horizontal",onFinish:A,children:[e(D.Item,{label:"Ti\xEAu \u0111\u1EC1",name:"title",rules:[{required:!0,message:"Ti\xEAu \u0111\u1EC1 b\xE0i test kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng"}],children:e(M,{})}),e(D.Item,{label:"B\xE0i h\u1ECDc ng\xE0y",name:"lesson_id",children:e(O,{showSearch:!0,allowClear:!0,filterOption:(h,f)=>{var F;return((F=f==null?void 0:f.label)==null?void 0:F.toLowerCase().indexOf(h.toLowerCase()))>=0},children:r.exports.get(u,"data",[]).map(h=>e(O.Option,{value:h.id,label:I(h.date,"YYYY-MM-DD").format("DD-MM-YYYY"),children:d("a",{children:[I(h.date,"YYYY-MM-DD").format("DD-MM-YYYY")," "]})},h.id))})}),e(D.Item,{label:"Ng\xE0y",name:"date",children:e(ye,{format:"DD-MM-YYYY"})}),e(D.Item,{label:"Link \u0111\u1EC1 b\xE0i",name:"content_link",children:e(M,{})}),e(D.Item,{label:"Ch\u1ECDn files \u0111\u1EC1 thi",children:e(dt,{defaultSelected:g,isShow:m,okFunction:y,closeFunction:()=>p(!1),showSelectedList:!0,review:!0,children:e(k,{onClick:()=>p(!0),type:"default",size:"middle",icon:e(Ie,{}),children:"Ch\u1ECDn files"})})}),e(D.Item,{label:"Link \u0111\xE1p \xE1n",name:"result_link",children:e(M,{})}),e(D.Item,{label:"Ch\u1ECDn files \u0111\xE1p \xE1n",children:e(dt,{defaultSelected:E,isShow:x,okFunction:_,closeFunction:()=>S(!1),showSelectedList:!0,review:!0,children:e(k,{onClick:()=>S(!0),type:"default",size:"middle",icon:e(Ie,{}),children:"Ch\u1ECDn files"})})})]})})]})}const{TextArea:Id}=M;function vd(n){const{testResultInfo:t,show:s,setShow:a,test_id:l}=n,c=Ge(),[x,S]=o.exports.useState(""),[m,p]=o.exports.useState(""),[i,u]=o.exports.useState([]),[E,_]=o.exports.useState(!1),g=R(h=>h.testResultsReducer.updateTestResultStatus),y=R(h=>h.testResultsReducer.addTestResultStatus);o.exports.useEffect(()=>{(t==null?void 0:t.test_result)?(S(t.test_result.teacher_comment),p(t.test_result.point),u(t.test_result.correct_files)):(S(""),p(""),u([]))},[t]);function A(){if(t){if(t.test_result){const h={id:t.test_result.id,teacher_comment:x,point:m,correct_files:i.map(f=>f.id)};c(Hs(h))}else if(l){const h={test_id:l,student_id:t.student.id,teacher_comment:x,point:m,correct_files:i.map(f=>f.id)};c(js(h))}}}return e(Q,{children:e(Te,{title:"Ch\u1EA5m \u0111i\u1EC3m v\xE0 nh\u1EADn x\xE9t",width:800,visible:s,closable:!0,onCancel:()=>a(!1),onOk:A,okText:"L\u01B0u l\u1EA1i",cancelText:"Hu\u1EF7 b\u1ECF",confirmLoading:g==="loading"||y==="loading",children:d("div",{style:{padding:20},children:[e(Ke,{message:"N\u1EBFu h\u1ECDc sinh ch\u01B0a n\u1ED9p b\xE0i th\xEC vi\u1EC7c ch\u1EA5m \u0111i\u1EC3m v\xE0 nh\u1EADn x\xE9t s\u1EBD \u0111i k\xE8m v\u1EDBi vi\u1EC7c gi\xE1o vi\xEAn x\xE1c nh\u1EADn \u0111\xE3 n\u1ED9p b\xE0i cho h\u1ECDc sinh.",type:"warning"}),e("p",{style:{marginBottom:10,marginTop:10},children:"Ch\u1EA5m \u0111i\u1EC3m"}),e(M,{placeholder:"0.0",onChange:({target:{value:h}})=>p(h),value:m,style:{width:100}}),e("p",{style:{marginBottom:10,marginTop:10},children:"Nh\u1EADn x\xE9t"}),e(Id,{placeholder:"Vi\u1EBFt nh\u1EADn x\xE9t b\xE0i l\xE0m c\u1EE7a h\u1ECDc sinh...",onChange:({target:{value:h}})=>S(h),value:x,style:{height:100}}),e("p",{style:{marginBottom:10,marginTop:10},children:"Link b\xE0i ch\u1EEFa"}),e(M,{placeholder:"D\xE1n \u0111\u01B0\u1EDDng d\u1EABn b\xE0i ch\u1EEFa n\u1EBFu c\xF3..."}),e("p",{style:{marginTop:20},children:"\u1EA2nh b\xE0i ch\u1EEFa"}),e(dt,{defaultSelected:i,isShow:E,okFunction:u,closeFunction:()=>_(!1),showSelectedList:!0,review:!0,children:e(k,{onClick:()=>_(!0),type:"primary",ghost:!0,size:"middle",icon:e(Ie,{}),children:"Ch\u1ECDn files"})})]})})})}function mr(n){const{students:t,show:s,setShow:a,title:l,uri:c}=n,x=q(),[S,m]=o.exports.useState(""),p=R(u=>u.notificationReducer.addNotificationStatus);function i(){a(!1);const u=[];t.forEach(_=>{const g=r.exports.get(_,"parent.id",0);g>0&&u.push(g)}),x(Pt({user_ids:u,message:{title:l,body:S,data:{uri:c}}}))}return e(Q,{children:e(te,{title:l,visible:s,onCancel:()=>a(!1),onOk:i,footer:[e(k,{onClick:()=>a(!1),children:"Hu\u1EF7 b\u1ECF"},"btncancel"),e(k,{type:"primary",onClick:()=>i(),loading:p==="loading",children:"G\u1EEDi \u0111i"},"btnsubmit")],children:e(M.TextArea,{placeholder:"Write something here!",style:{marginBottom:20},value:S,onChange:u=>m(u.target.value)})})})}function Td(n){const{testInfo:t}=n,s=Ge(),[a,l]=o.exports.useState([]),[c,x]=o.exports.useState(!1),[S,m]=o.exports.useState(!1),[p,i]=o.exports.useState(null),[u,E]=o.exports.useState(!1),[_,g]=o.exports.useState(-1),y=R(F=>F.studentReducer.students),A=R(F=>F.testResultsReducer.updateTestResultStatus),h=R(F=>F.testResultsReducer.addTestResultStatus);o.exports.useEffect(()=>{t&&s(Fe({class_id:t.class_id}))},[t]),o.exports.useEffect(()=>{var F;if(t&&y){const C=[],b=[];(F=y.data)==null||F.forEach(v=>{const T=t.test_results.find(P=>P.student_id===v.id);T&&b.push(T.id),C.push({student:v,test_result:T,tranferred:!1})}),b.length<t.test_results.length&&t.test_results.forEach(v=>{b.find(P=>P===v.id)===void 0&&C.push({student:v.student,test_result:v,tranferred:!0})}),l(C)}},[y]),o.exports.useEffect(()=>{(A==="success"||h==="success")&&(x(!1),s(al()),t&&s(xt(t.id)))},[s,A,h]);const f=[le.EXPAND_COLUMN,{title:"Name",dataIndex:"",key:"name",render:function(C,b){return d(Q,{children:[e("strong",{children:b.student.name}),b.tranferred&&e("span",{style:{fontStyle:"italic",color:"#95a5a6"},children:" (\u0111\xE3 chuy\u1EC3n l\u1EDBp)"})]})}},{title:"Ng\xE0y n\u1ED9p",dataIndex:"",key:"date",render:function(C,b){return e("span",{children:b.test_result?I(b.test_result.updated_at).format("DD-MM-YYYY HH:mm"):e(ae,{color:"red",children:"Ch\u01B0a n\u1ED9p"})})}},{title:"\u0110i\u1EC3m",dataIndex:"",key:"point",render:function(C,b){return e("strong",{style:{color:"#e67e22"},children:b.test_result?b.test_result.point:""})}},{title:"Nh\u1EADn x\xE9t",dataIndex:"",key:"comment",render:function(C,b){return e("span",{children:b.test_result?b.test_result.teacher_comment:""})}},{title:"",dataIndex:"action",key:"address",render:function(C,b){return d(Q,{children:[e(J,{title:"Ch\u1EA5m v\xE0 ch\u1EEFa b\xE0i",children:e(k,{type:"link",icon:e(li,{style:{color:"#2ecc71"}}),onClick:()=>{x(!0),i(b)}})}),e(J,{title:"Nh\u1EAFc nh\u1EDF n\u1ED9p b\xE0i",children:e(k,{type:"link",icon:e(Mt,{}),disabled:b.test_result!==void 0,onClick:()=>{m(!0),i(b)}})})]})}}];return d(Q,{children:[e(le,{bordered:!0,rowKey:F=>F.student.id,dataSource:a,columns:f,expandable:{expandedRowRender:F=>e("div",{children:F.test_result&&d(Q,{children:[F.test_result.correct_link&&d("div",{style:{marginBottom:10},children:[e("h1",{children:"Link ch\u1EEFa b\xE0i:"}),e("a",{href:F.test_result.correct_link,children:F.test_result.correct_link})]}),F.test_result.result_files.length>0&&d(Q,{children:[e("h1",{style:{marginBottom:10},children:"Files b\xE0i l\xE0m:"}),e(K,{size:[10,10],wrap:!0,children:r.exports.get(F,"test_result.result_files",[]).map((C,b)=>e("div",{children:C.type==="mp4"||C.type==="mov"?d("div",{children:[e(Na,{loop:!0,style:{width:200,height:"auto"},url:C.url,playing:u&&_===C.id}),e("div",{style:{justifyContent:"center",alignItems:"center",display:"flex",fontSize:18,marginTop:10,color:"#e67e22"},children:u?e(Ma,{onClick:()=>{E(!u),g(C.id)}}):e(Ua,{onClick:()=>{E(!u),g(C.id)}})})]}):e(Ue,{width:150,height:150,style:{objectFit:"cover"},alt:"logo",src:C.url,fallback:on})},b))})]}),F.test_result.correct_files.length>0&&d(Q,{children:[e("h1",{style:{marginBottom:10},children:"\u1EA2nh ch\u1EEFa b\xE0i:"}),e(K,{style:{backgroundColor:"white"},size:[10,10],wrap:!0,children:r.exports.get(F,"test_result.correct_files",[]).map((C,b)=>e(Ue,{width:100,height:100,style:{objectFit:"cover"},alt:"logo",src:C.url,fallback:on},b))})]})]})})},pagination:{pageSize:20}}),e(vd,{test_id:t&&t.id,testResultInfo:p,show:c,setShow:x},"cmt"),e(mr,{title:"Nh\u1EAFc nh\u1EDF n\u1ED9p b\xE0i t\u1EADp",uri:hn.SUBMIT_TEST_RESULT_REMIND,students:p?new Array(p.student):[],show:S,setShow:m})]})}const{Title:Nn}=qn,Yd="DD-MM-YYYY";function Pd(){var x,S,m;const n=ct(),t=Ge(),[s,a]=o.exports.useState(!1),l=R(p=>p.testReducer.testInfo),c=R(p=>p.testReducer.getTestStatus);return o.exports.useEffect(()=>{n.test_id&&t(xt(+n.test_id))},[t,n]),e(ie.Content,{children:d(Ae,{spinning:c==="loading",children:[e(Xe,{title:r.exports.get(l,"title",""),subTitle:I(r.exports.get(l,"date",null)).format(Yd),onBack:()=>window.history.back(),style:{backgroundColor:"white",marginTop:20},extra:[e(Bd,{testInfo:l})],children:d(j,{size:"small",column:2,bordered:!0,children:[e(j.Item,{label:"L\u1EDBp",children:e("p",{children:(x=l==null?void 0:l.class.name)!=null?x:""})}),e(j.Item,{label:"S\u1ED1 b\xE0i n\u1ED9p",children:d("a",{children:[r.exports.get(l,"test_results",[]).length,"/",r.exports.get(l,"class.students_num",0)]})}),d(j.Item,{label:"L\u1ECBch h\u1ECDc",children:[(()=>((l==null?void 0:l.class.schedule)?[...l==null?void 0:l.class.schedule]:[]).sort().map(i=>Ft[i]).join(", "))(),d("span",{children:["(",(S=l==null?void 0:l.class.schedule_time)!=null?S:"",")"]})]})]})}),d("div",{style:{padding:"0 24px"},children:[e(Nn,{style:{marginTop:20},level:5,children:"\u0110\u1EC1 b\xE0i"}),(l==null?void 0:l.content_link)&&d(K,{style:{backgroundColor:"white",marginBottom:10},size:[10,10],wrap:!0,children:["Link \u0111\u1EC1 b\xE0i:"," ",e("a",{target:"_blank",rel:"noreferrer",href:l==null?void 0:l.content_link,children:l==null?void 0:l.content_link})]}),r.exports.get(l,"content_files",[]).length>0&&e("div",{style:{},children:e(K,{style:{backgroundColor:"white"},size:[10,10],wrap:!0,children:l==null?void 0:l.content_files.map((p,i)=>e("div",{children:p.type==="mp4"||p.type==="mov"?d("div",{children:[e(Na,{url:p.url,playing:s}),e("div",{style:{justifyContent:"center",alignItems:"center",display:"flex",fontSize:18,marginTop:10,color:"#e67e22"},children:s?e(Ma,{onClick:()=>a(!s)}):e(Ua,{onClick:()=>a(!s)})})]}):e(Ue,{width:100,height:100,style:{objectFit:"cover"},alt:"logo",src:ln(p.type||"")?p.url:tt[Object.keys(tt).find(u=>u===p.type)]})},i))})}),e(Nn,{style:{marginTop:20},level:5,children:"\u0110\xE1p \xE1n"}),(l==null?void 0:l.result_link)&&d(K,{style:{backgroundColor:"white",marginBottom:10},size:[10,10],wrap:!0,children:["Link \u0111\xE1p \xE1n:"," ",e("a",{target:"_blank",rel:"noreferrer",href:l==null?void 0:l.result_link,children:(m=l==null?void 0:l.result_link)!=null?m:""})]}),r.exports.get(l,"result_files",[]).length>0&&d("div",{children:[e("p",{children:"\u1EA2nh \u0111\xE1p \xE1n"}),e(K,{style:{backgroundColor:"white"},size:[10,10],wrap:!0,children:l==null?void 0:l.result_files.map((p,i)=>e("div",{children:e(Ue,{width:100,height:100,style:{objectFit:"cover"},alt:"logo",src:ln(p.type||"")?p.url:tt[Object.keys(tt).find(u=>u===p.type)]})},i))})]}),e(Ve,{}),e(Nn,{style:{marginTop:20},level:5,children:"Danh s\xE1ch h\u1ECDc sinh n\u1ED9p b\xE0i"}),e(Td,{testInfo:l})]})]})})}const{Option:Ea}=O,{Column:We,ColumnGroup:Ld}=le,{confirm:ma}=te;function Nd(){const n=q(),t=Se(),s=R(y=>y.periodTuitionReducer.periodTuitions),a=R(y=>y.periodTuitionReducer.getPeriodTuitionsStatus),l=R(y=>y.classReducer.classes),[c,x]=o.exports.useState([]),[S,m]=o.exports.useState([]),[p,i]=o.exports.useState({});o.exports.useEffect(()=>{n(yt(p)),n(ke({}))},[n,p]),o.exports.useEffect(()=>{const y=r.exports.get(l,"data",[]),A=r.exports.get(s,"data",[]).map(h=>{var T;const f=y.find(P=>P.id===h.class_id);let F=!0;r.exports.get(f,"act_session_num",0)>0&&(F=!1);const C=r.exports.get(h,"tuition_fees",[]).length;let b=0,v=0;return r.exports.get(h,"tuition_fees",[]).forEach(P=>{const N=h.est_session_num*r.exports.get(f,"fee_per_session",0),H=+r.exports.get(P,"residual",0)+ +r.exports.get(P,"fixed_deduction",0)+ +r.exports.get(P,"flexible_deduction",0)-+r.exports.get(P,"prev_debt",0);b+=N-H,P.status===1&&v++}),v>0&&(F=!1),{key:h.id,class_name:(T=f==null?void 0:f.name)!=null?T:"",fromDate:h.from_date,toDate:h.to_date,active:h.active,estact_session_num:`${r.exports.get(h,"lessons",[]).length}/${h.est_session_num}`,amout:b,status:`${v}/${C}`,id:h.id,deleteAble:F}});m([...y]),x([...A])},[l,s]);function u(y){var F;const A={class_id:p.class_id,page:1},h=y==null?void 0:y.format("YYYY-MM-DD"),f=(F=y&&I(y!=null?y:"").add(1,"Q").subtract(1,"d").format("YYYY-MM-DD"))!=null?F:void 0;i(me(re({},A),{from_date:h,to_date:f}))}function E(y){i(me(re({},p),{page:1,class_id:y||void 0}))}function _(y){ma({title:y.active===1?"B\u1ECF k\xEDch ho\u1EA1t chu k\u1EF3 h\u1ECDc ph\xED":"K\xEDch ho\u1EA1t chu k\u1EF3 h\u1ECDc ph\xED",icon:e(Re,{}),content:y.active===1?e("span",{children:"L\u01B0u \xFD l\u1EDBp h\u1ECDc lu\xF4n ph\u1EA3i c\xF3 m\u1ED9t chu k\u1EF3 h\u1ECDc ph\xED \u0111\u01B0\u1EE3c k\xEDch ho\u1EA1t."}):e("span",{children:"L\u01B0u \xFD t\u1EA1i m\u1ED9t th\u1EDDi \u0111i\u1EC3m m\u1ED9t l\u1EDBp ch\u1EC9 c\xF3 duy nh\u1EA5t m\u1ED9t chu k\u1EF3 h\u1ECDc ph\xED \u0111\u01B0\u1EE3c k\xEDch ho\u1EA1t. N\u1EBFu mu\u1ED1n k\xEDch ho\u1EA1t chu k\u1EF3 m\u1EDBi th\xEC ph\u1EA3i b\u1ECF k\xEDch ho\u1EA1t chu k\u1EF3 c\u0169 tr\u01B0\u1EDBc!"}),onOk(){n(Bs({data:{active:y.active===1?0:1},pID:y.id})).finally(()=>{n(yt({}))})}})}function g(y){ma({title:"B\u1EA1n mu\u1ED1n xo\xE1 chu k\u1EF3 h\u1ECDc ph\xED n\xE0y?",icon:e(Re,{}),content:"L\u01B0u \xFD b\u1EA1n ch\u1EC9 xo\xE1 \u0111\u01B0\u1EE3c chu k\u1EF3 h\u1ECDc ph\xED khi ch\u01B0a h\u1ECDc \u0111\u01B0\u1EE3c bu\u1ED5i n\xE0o v\xE0 ch\u01B0a c\xF3 h\u1ECDc sinh n\xE0o \u0111\xF3ng h\u1ECDc ph\xED!",onOk(){n(Is(y)).finally(()=>{n(yt({}))})}})}return d(ie.Content,{children:[d(K,{style:{marginBottom:20,marginTop:20},children:[e(ye,{style:{width:200},placeholder:"L\u1ECDc theo qu\xFD",onChange:u,picker:"quarter"}),d(O,{defaultValue:0,style:{width:280},onChange:E,children:[e(Ea,{value:0,children:"T\u1EA5t c\u1EA3"}),S.map(y=>d(Ea,{value:y.id,children:[" ",y.name]},y.id))]}),e(k,{type:"primary",icon:e(De,{}),onClick:()=>t.push({pathname:"/payments/tuition-create"}),children:"L\u1EADp b\u1EA3ng h\u1ECDc ph\xED"})]}),d(le,{dataSource:c,bordered:!0,loading:a==="loading",children:[e(We,{title:"L\u1EDBp",dataIndex:"class_name",render:y=>e("strong",{children:y})},"class_name"),d(Ld,{title:"Chu k\u1EF3",children:[e(We,{title:"T\u1EEB ng\xE0y",dataIndex:"fromDate",render:y=>I(y).format(oa)},"fromDate"),e(We,{title:"\u0110\u1EBFn ng\xE0y",dataIndex:"toDate",render:y=>I(y).format(oa)},"toDate")]}),e(We,{title:"S\u1ED1 bu\u1ED5i h\u1ECDc (act/est)",dataIndex:"estact_session_num"},"estact_session_num"),e(We,{title:"T\u1ED5ng h\u1ECDc ph\xED",dataIndex:"amout",render:y=>e("strong",{style:{color:"#2980b9"},children:W(y).format("0,0")})},"amout"),e(We,{title:"\u0110\xE3 n\u1ED9p",dataIndex:"status"},"status"),e(We,{title:"Tr\u1EA1ng th\xE1i",dataIndex:"active",render:y=>y===1?e(ae,{color:"green",children:"Active"}):e(ae,{color:"red",children:"Deactive"})},"active"),e(We,{title:"Action",render:(y,A)=>d(K,{size:"middle",children:[e(J,{title:"Chi ti\u1EBFt",children:e(k,{type:"link",onClick:()=>t.push({pathname:`/payments/tuition-detail/${A.id}`}),icon:e(Kn,{})})}),e(J,{title:A.active===1?"Deactive":"Active",children:e(k,{type:"link",onClick:()=>_(A),icon:A.active===1?e(zn,{style:{color:"#e74c3c"}}):e($e,{style:{color:"#27ae60"}})})}),e(J,{title:"Xo\xE1 chu k\u1EF3 h\u1ECDc ph\xED",children:e(k,{type:"link",disabled:!A.deleteAble,onClick:()=>g(A.id),icon:e(Ut,{style:{color:A.deleteAble===!0?"#e74c3c":"#bdc3c7"}})})})]})},"action")]})]})}function Md(n){const{periodInfo:t,studentInfo:s,show:a,setShow:l}=n,c=q(),[x]=D.useForm(),{TextArea:S}=M,[m,p]=o.exports.useState(!1),[i,u]=o.exports.useState(0),[E,_]=o.exports.useState([]),g=R(f=>f.dayoffReducer.dayoffs);o.exports.useEffect(()=>{s&&t&&c(nt({from_date:s.class_histories[s.class_histories.length-1].date,to_date:t==null?void 0:t.to_date}))},[t,s,c]),o.exports.useEffect(()=>{if(g&&s){const f=[];r.exports.get(g,"data",[]).length>0&&r.exports.get(g,"data",[]).forEach(b=>{f.push(b.from_date)});let F=[],C=[];if(r.exports.get(s,"class.schedule",[]).length>0){let b=0;r.exports.get(s,"class.schedule",[]).forEach(v=>{F=cr(s.class_histories[s.class_histories.length-1].date,r.exports.get(t,"to_date",""),v),b+=F.length,C=C.concat(hr(F,f))}),b-=C.length,u(b),_(C),x.setFieldsValue({est_fee:b*+r.exports.get(t,"fee_per_session",0),amount:b*+r.exports.get(t,"fee_per_session",0)})}}},[g,s,t,x]);function y(f,F){f.note||x.setFieldsValue({amount:+F.est_fee-+F.fixed_deduction-+(F.est_fee*F.flexible_deduction/100)})}function A(){x.setFieldsValue({fixed_deduction:"0",flexible_deduction:"0"}),l(!1)}function h(f){p(!0);const F=+f.flexible_deduction*i*r.exports.get(t,"fee_per_session",0)/100;c(Ts({student_id:r.exports.get(s,"id",0),period_tuition_id:r.exports.get(t,"id",0),fixed_deduction:f.fixed_deduction,flexible_deduction:String(F),residual:"",note:f.note,from_date:r.exports.get(s,"admission_date",""),to_date:r.exports.get(t,"to_date",""),est_session_num:i,dayoffs:E})).then(()=>{l(!1),c(it(r.exports.get(t,"id",0)))}).finally(()=>p(!1))}return e(Q,{children:e(te,{title:"T\u1EA1o b\u1EA3ng h\u1ECDc ph\xED cho h\u1ECDc sinh",visible:a,closable:!0,onCancel:A,width:800,cancelText:"Hu\u1EF7 b\u1ECF",footer:[e(k,{onClick:A,children:"Hu\u1EF7 b\u1ECF"},"btnsubmit"),e(k,{loading:m,type:"primary",htmlType:"submit",form:"aForm",children:"Ho\xE0n t\u1EA5t"},"btnsubmit")],children:d(D,{id:"aForm",form:x,labelCol:{span:6},wrapperCol:{span:16},layout:"horizontal",initialValues:{stname:r.exports.get(s,"name",""),fixed_deduction:"0",flexible_deduction:"0"},onValuesChange:y,onFinish:h,children:[e(D.Item,{label:"H\u1ECD v\xE0 t\xEAn",name:"stname",children:e(M,{disabled:!0,style:{color:"#2c3e50"}})}),e(D.Item,{label:`H\u1ECDc ph\xED \u01B0\u1EDBc t\xEDnh (${i} bu\u1ED5i)`,name:"est_fee",children:e(he,{formatter:f=>W(f).format(),style:{width:"100%",color:"#3498db",fontWeight:700},disabled:!0})}),e(D.Item,{label:"Gi\u1EA3m tr\u1EEB \u0111\u1EB7c bi\u1EC7t",name:"fixed_deduction",children:e(he,{formatter:f=>W(f).format(),style:{width:"100%",color:"#e74c3c"}})}),e(D.Item,{label:"Gi\u1EA3m tr\u1EEB theo \u0111\u1EE3t(%)",name:"flexible_deduction",children:e(he,{formatter:f=>W(f).format(),style:{width:"20%",color:"#e67e22"}})}),e(D.Item,{label:"Th\xE0nh ti\u1EC1n",name:"amount",children:e(he,{formatter:f=>W(f).format(),style:{width:"100%",color:"#3498db",fontWeight:700},disabled:!0})}),e(D.Item,{label:"Ghi ch\xFA",name:"note",children:e(S,{placeholder:"Ghi ch\xFA",autoSize:{minRows:3,maxRows:5}})})]})})})}const{TextArea:Ud}=M;function Gd(n){const{periodInfo:t,tuitionFeeInfo:s,stName:a}=n,l=q(),[c,x]=o.exports.useState(!1),[S]=D.useForm(),[m,p]=o.exports.useState(!1);o.exports.useEffect(()=>{if(s){const g=(r.exports.get(s,"est_session_num",0)>0?r.exports.get(s,"est_session_num",0):r.exports.get(t,"est_session_num",0))*r.exports.get(t,"fee_per_session",0);S.setFieldsValue({stname:a,est_fee:g,prev_debt:r.exports.get(s,"prev_debt","0"),residual:r.exports.get(s,"residual","0"),fixed_deduction:r.exports.get(s,"fixed_deduction","0"),flexible_deduction:100*+r.exports.get(s,"flexible_deduction","0")/g,amount:g+ +r.exports.get(s,"prev_debt","0")-+r.exports.get(s,"residual","0")-+r.exports.get(s,"fixed_deduction","0")-+r.exports.get(s,"flexible_deduction","0"),note:r.exports.get(s,"note","")})}},[s,S,t,a]);function i(_,g){_.note||S.setFieldsValue({amount:+g.est_fee-+g.fixed_deduction-+(g.est_fee*g.flexible_deduction/100)})}function u(){const g=(r.exports.get(s,"est_session_num",0)>0?r.exports.get(s,"est_session_num",0):r.exports.get(t,"est_session_num",0))*r.exports.get(t,"fee_per_session",0);S.setFieldsValue({fixed_deduction:r.exports.get(s,"fixed_deduction","0"),flexible_deduction:100*+r.exports.get(s,"flexible_deduction","0")/g,note:r.exports.get(s,"note","")}),x(!1)}function E(_){p(!0);const g=+_.flexible_deduction*r.exports.get(t,"est_session_num",0)*r.exports.get(t,"fee_per_session",0)/100;l(Ys({data:{fixed_deduction:_.fixed_deduction,flexible_deduction:String(g),note:_.note},tuition_id:r.exports.get(s,"id",0)})).then(()=>{x(!1),l(it(r.exports.get(t,"id",0)))}).finally(()=>p(!1))}return d(Q,{children:[e(J,{title:"Chi ti\u1EBFt b\u1EA3ng h\u1ECDc ph\xED",children:e(k,{onClick:()=>x(!0),icon:e(Ra,{}),type:"link"})}),e(te,{title:"B\u1EA3ng h\u1ECDc ph\xED cho h\u1ECDc sinh",visible:c,closable:!0,onCancel:u,width:800,cancelText:"Hu\u1EF7 b\u1ECF",footer:[e(k,{onClick:u,children:"In"},"btnPrint"),e(k,{loading:m,type:"primary",htmlType:"submit",form:"uForm",disabled:s.status===1,children:"C\u1EADp nh\u1EADt"},"btnsubmit")],children:d(D,{id:"uForm",form:S,labelCol:{span:6},wrapperCol:{span:16},layout:"horizontal",onValuesChange:i,onFinish:E,children:[e(D.Item,{label:"H\u1ECD v\xE0 t\xEAn",name:"stname",children:e(M,{disabled:!0,style:{color:"#2c3e50"}})}),e(D.Item,{label:`H\u1ECDc ph\xED \u01B0\u1EDBc t\xEDnh (${r.exports.get(s,"est_session_num",0)>0?r.exports.get(s,"est_session_num",0):r.exports.get(t,"est_session_num",0)} bu\u1ED5i)`,name:"est_fee",children:e(he,{formatter:_=>W(_).format(),style:{width:"50%",color:"#3498db",fontWeight:700},disabled:!0})}),e(D.Item,{label:"N\u1EE3 k\u1EF3 tr\u01B0\u1EDBc",name:"prev_debt",children:e(he,{formatter:_=>W(_).format(),style:{width:"50%",color:"#3498db",fontWeight:700},disabled:!0})}),e(D.Item,{label:"D\u01B0 k\u1EF3 tr\u01B0\u1EDBc",name:"residual",children:e(he,{formatter:_=>W(_).format(),style:{width:"50%",color:"#e74c3c",fontWeight:700},disabled:!0})}),e(D.Item,{label:"Gi\u1EA3m tr\u1EEB \u0111\u1EB7c bi\u1EC7t",name:"fixed_deduction",children:e(he,{formatter:_=>W(_).format(),style:{width:"50%",color:"#e74c3c"}})}),e(D.Item,{label:"Gi\u1EA3m tr\u1EEB theo \u0111\u1EE3t(%)",name:"flexible_deduction",children:e(he,{style:{width:"20%",color:"#e67e22"}})}),e(D.Item,{label:"Th\xE0nh ti\u1EC1n",name:"amount",children:e(he,{formatter:_=>W(_).format(),style:{width:"50%",color:"#3498db"},disabled:!0})}),e(D.Item,{label:"Ghi ch\xFA",name:"note",children:e(Ud,{placeholder:"Ghi ch\xFA",autoSize:{minRows:3,maxRows:5}})})]})})]})}function Qd(n){const{periodTuition:t,students:s,feesPerStudent:a}=n,[l,c]=o.exports.useState([]);return o.exports.useEffect(()=>{if(t&&s&&a){const x=[];s.forEach(S=>{const m=t.tuition_fees.find(p=>p.student_id===S.id);if(m){const p=a[m.id]+ +m.prev_debt-+m.fixed_deduction-+m.flexible_deduction-+m.residual;x.push({name:S.name,birthday:S.birthday,total:`${p}`,status:`${m.status}`})}}),c(x)}},[t,s,a]),e(Q,{children:e(di,{data:l,children:e(k,{type:"primary",ghost:!0,icon:e(ui,{}),children:"T\u1EA3i excel"})})})}const{TabPane:Mn}=ze,{confirm:ga}=te,fa="DD/MM/YYYY",Od=[{title:"Ng\xE0y h\u1ECDc",dataIndex:"date",key:"date"},{title:"Gi\xE1o vi\xEAn",dataIndex:"",key:""},{title:"S\u1ED1 h\u1ECDc sinh tham gia",dataIndex:"attendances",key:"attendances"}];function jd(){const n=ct(),t=q(),[s,a]=o.exports.useState([]),[l,c]=o.exports.useState([]),[x,S]=o.exports.useState(0),[m,p]=o.exports.useState([]),[i,u]=o.exports.useState(0),[E,_]=o.exports.useState(!1),[g,y]=o.exports.useState(!1),[A,h]=o.exports.useState(null),[f,F]=o.exports.useState(-1),C=R(G=>G.periodTuitionReducer.periodTuition),b=R(G=>G.periodTuitionReducer.getPeriodTuitionStatus),v=R(G=>G.tuitionFeeReducer.tuitionFeePaymentState),T=R(G=>G.studentReducer.students);o.exports.useEffect(()=>{(n.tuition_id||v==="success")&&t(it(parseInt(n.tuition_id)))},[t,n.tuition_id,v]),o.exports.useEffect(()=>{var G;if(t(Fe({class_id:(G=C==null?void 0:C.class_id)!=null?G:void 0,per_page:100})),C){let U=0,z=0;const se=[];r.exports.get(C,"tuition_fees",[]).forEach(X=>{if(X.status===1){const _e=r.exports.get(X,"est_session_num",0)>0?r.exports.get(X,"est_session_num",0):r.exports.get(C,"est_session_num",0),_t=r.exports.get(C,"fee_per_session",0)*_e+ +r.exports.get(X,"prev_debt","0"),wt=+r.exports.get(X,"residual",0)+ +r.exports.get(X,"fixed_deduction",0)+ +r.exports.get(X,"flexible_deduction",0),ht=_t-wt;ht>0&&(U+=ht)}if(X.status===1&&z++,X.est_session_num===0){const _e=r.exports.get(C,"est_session_num",0)*r.exports.get(C,"fee_per_session",0);se[X.id]=_e}else{const _e=r.exports.get(X,"est_session_num",0)*r.exports.get(C,"fee_per_session",0);se[X.id]=_e}}),S(U),u(z),p(se)}},[t,C]),o.exports.useEffect(()=>{if(a([...r.exports.get(T,"data",[])]),r.exports.get(C,"active",0)===1){const G=[];r.exports.get(T,"data",[]).forEach(U=>{r.exports.get(C,"tuition_fees",[]).findIndex(se=>se.student_id===U.id)===-1&&U.class_histories.length>=1&&I(U.class_histories[U.class_histories.length-1].date).isSameOrAfter(I(r.exports.get(C,"from_date","")))&&G.push(U)}),c(G)}},[T,C]);function P(G){ga({title:"X\xE1c nh\u1EADn chuy\u1EC3n n\u1EE3 sang chu k\u1EF3 m\u1EDBi",content:"L\u01B0u \xFD \u0111\u1EC3 chuy\u1EC3n n\u1EE3 b\u1EAFt bu\u1ED9c ph\u1EA3i t\u1ED3n t\u1EA1i m\u1ED9t b\u1EA3ng h\u1ECDc ph\xED m\u1EDBi t\u01B0\u01A1ng \u1EE9ng c\u1EE7a h\u1ECDc sinh!",icon:e(Re,{}),onOk(){const U=m[G.id]-+G.fixed_deduction-+G.flexible_deduction-+G.residual||0;t(Ls({debt_tranfer:String(U),tuition_fee_id:G.id})).finally(()=>{t(it(parseInt(n.tuition_id)))})}})}function N(G){if(G){const U=m[G.id]+ +G.prev_debt-+G.fixed_deduction-+G.flexible_deduction-+G.residual||0,se={tuition_fee_id:G.id,amount:String(U)};ga({title:"X\xE1c nh\u1EADn \u0111\xE3 thanh to\xE1n",content:"L\u01B0u \xFD sau khi x\xE1c nh\u1EADn \u0111\xE3 thanh to\xE1n s\u1EBD kh\xF4ng th\u1EC3 s\u1EEDa \u0111\u01B0\u1EE3c b\u1EA3ng h\u1ECDc ph\xED!",icon:e(Re,{}),onOk(){t(Ps(se))}})}}const H=(G=2)=>d(j,{size:"middle",column:G,children:[e(j.Item,{label:"L\u1EDBp h\u1ECDc",children:e("a",{children:r.exports.get(C,"class.name","")})}),e(j.Item,{label:"Chu k\u1EF3",children:d("strong",{children:[I(r.exports.get(C,"from_date","")).format(fa)," -"," ",I(r.exports.get(C,"to_date","")).format(fa)]})}),e(j.Item,{label:d("span",{children:["S\u1ED1 bu\u1ED5i \u01B0\u1EDBc t\xEDnh"," ",d(J,{title:"S\u1ED1 bu\u1ED5i h\u1ECDc ph\xED \u01B0\u1EDBc t\xEDnh d\u1EF1a theo l\u1ECBch h\u1ECDc c\u1EE7a l\u1EDBp v\xE0 kho\u1EA3ng th\u1EDDi gian c\u1EE7a chu k\u1EF3 h\u1ECDc ph\xED",children:[" ",e(Oe,{style:{color:"#f39c12"}})]})]}),children:e("span",{children:r.exports.get(C,"est_session_num",0)})}),e(j.Item,{label:"H\u1ECDc ph\xED/bu\u1ED5i",children:e("strong",{style:{float:"right"},children:bt(r.exports.get(C,"class.fee_per_session",""))})}),e(j.Item,{label:"S\u1ED1 bu\u1ED5i \u0111\xE3 h\u1ECDc",children:e("span",{style:{color:"#e74c3c"},children:r.exports.get(C,"lessons",[]).length})}),e(j.Item,{label:"Tr\u1EA1ng th\xE1i",children:e("span",{style:{color:"#e74c3c"},children:r.exports.get(C,"active",0)===1?e(ae,{color:"green",children:"Active"}):e(ae,{color:"red",children:"Deactive"})})})]}),Z=d("div",{style:{display:"flex",width:"max-content",justifyContent:"flex-end"},children:[e(nn,{title:"H\u1ECDc ph\xED thu \u0111\u01B0\u1EE3c",value:bt(x),style:{marginRight:32,fontWeight:600,color:"#3498db"}}),e(nn,{title:"\u0110\xE3 n\u1ED9p",value:`${i} / ${r.exports.get(C,"tuition_fees",[]).length}`,style:{fontWeight:600}})]}),V=[{title:"H\u1ECD t\xEAn",dataIndex:"student",key:"student",render:function(U,z){return d(Q,{children:[e("a",{children:z.student.name})," ",z.student.birthday]})}},{title:"T\u1ED5ng h\u1ECDc ph\xED",dataIndex:"residual",key:"residual",render:function(U,z){return e("span",{style:{color:"#2980b9",fontWeight:700},children:W(m[z.id]+ +z.prev_debt-+z.fixed_deduction-+z.flexible_deduction-+z.residual||0).format("0,0")})}},{title:"Tr\u1EA1ng th\xE1i",dataIndex:"status",key:"status",render:function(U){return e(Q,{children:U===0?e(ae,{color:"red",children:"Ch\u01B0 n\u1ED9p"}):U===1?e(ae,{color:"green",children:"\u0110\xE3 n\u1ED9p"}):e(ae,{color:"orange",children:"Chuy\u1EC3n n\u1EE3"})})}},{width:"5%",title:"Action",key:"action",render:function(U,z,se){var X;return e(Q,{children:d(K,{children:[e(J,{title:"Ch\u1EC9nh s\u1EEDa",children:e(Gd,{tuitionFeeInfo:z,periodInfo:C,stName:(X=s.find(_e=>_e.id===z.student_id))==null?void 0:X.name})}),e(J,{title:"G\u1EEDi th\xF4ng b\xE1o cho ph\u1EE5 huynh",children:e(k,{type:"link",onClick:()=>{_(!0),F(se)},icon:e(Mt,{})})}),r.exports.get(C,"active",0)===0?e(J,{title:"Chuy\u1EC3n n\u1EE3",children:e(k,{disabled:z.status!==0,icon:e(hi,{style:{color:z.status===0?"#e67e22":"#bdc3c7"}}),type:"link",onClick:()=>P(z)})}):"",e(J,{title:"X\xE1c nh\u1EADn \u0111\xE3 n\u1ED9p",children:e(k,{disabled:z.status!==0,icon:e(pi,{style:{color:z.status===0?"#27ae60":"#bdc3c7"}}),type:"link",onClick:()=>N(z)})})]})})}}],B=G=>{const{children:U,extra:z}=G;return d("div",{className:"content",style:{display:"flex"},children:[e("div",{className:"main",children:U}),e("div",{className:"extra",children:z})]})};return e(ie.Content,{children:d(Xe,{onBack:()=>window.history.back(),className:"site-page-header-responsive",title:"Chi ti\u1EBFt chu k\u1EF3 h\u1ECDc ph\xED",style:{backgroundColor:"white"},extra:[d(Q,{children:[e(Qd,{periodTuition:C,students:s,feesPerStudent:m}),e(k,{type:"primary",icon:e(Mt,{}),onClick:()=>{_(!0),F(-1)},children:"Th\xF4ng b\xE1o"})]})],footer:d(ze,{defaultActiveKey:"1",children:[d(Mn,{tab:"H\u1ECDc ph\xED m\u1ED7i h\u1ECDc sinh",children:[e(Ke,{style:{marginBottom:20,marginTop:20},message:"",description:d(Q,{children:[e("p",{children:"V\u1EDBi h\u1ECDc sinh \u0111\xE3 chuy\u1EC3n l\u1EDBp, c\u1EA7n quy\u1EBFt to\xE1n h\u1ECDc ph\xED \u1EDF l\u1EDBp c\u0169 tr\u01B0\u1EDBc khi l\u1EADp b\u1EA3ng h\u1ECDc ph\xED \u1EDF l\u1EDBp m\u1EDBi!"}),e("p",{children:"Quy\u1EBFt to\xE1n b\u1EB1ng c\xE1ch c\u1EADp nh\u1EADt l\u1EA1i b\u1EA3ng h\u1ECDc ph\xED theo \u0111\xFAng s\u1ED1 bu\u1ED5i \u0111\xE3 h\u1ECDc \u1EDF l\u1EDBp c\u0169 (c\u1EADp nh\u1EADt gi\u1EA3m tr\u1EEB, ghi ch\xFA c\u1EE5 th\u1EC3...)"})]}),type:"warning",closable:!0}),e(le,{rowKey:"student_id",loading:b==="loading",bordered:!0,style:{paddingTop:20},dataSource:r.exports.get(C,"tuition_fees",[]),columns:V,pagination:{pageSize:50}})]},"stdTuition"),l.length>0?d(Mn,{tab:d("span",{children:["H\u1ECDc sinh m\u1EDBi (",e("span",{style:{color:"#e74c3c"},children:l.length}),")"]}),children:[e(Ke,{style:{marginBottom:20,marginTop:20},message:"",description:"DS h\u1ECDc sinh m\u1EDBi l\xE0 nh\u1EEFng h\u1ECDc sinh v\xE0o l\u1EDBp sau chu k\u1EF3 thu h\u1ECDc ph\xED v\xE0 ch\u01B0a l\u1EADp b\u1EA3ng thu h\u1ECDc ph\xED cho chu k\u1EF3 n\xE0y!",type:"warning",closable:!0}),d(le,{dataSource:l,rowKey:"id",children:[e(Kt,{title:"H\u1ECD t\xEAn",dataIndex:"name",render:G=>e("a",{children:G})},"name"),e(Kt,{title:"Ng\xE0y sinh",dataIndex:"birthday",render:G=>e(Q,{children:I(G).format("DD/MM/YYYY")})},"birthday"),e(Kt,{title:"Ng\xE0y nh\u1EADp h\u1ECDc",dataIndex:"",render:(G,U)=>e("strong",{children:I(U.class_histories[U.class_histories.length-1].date).format("DD/MM/YYYY")})},"admission_date"),e(Kt,{title:"Aaction",dataIndex:"action",render:(G,U)=>e(K,{children:e(J,{title:"T\u1EA1o b\u1EA3ng h\u1ECDc ph\xED",children:e(k,{onClick:()=>{y(!0),h(U)},icon:e(ci,{}),type:"link"})})})},"action")]})]},"newSt"):"",e(Mn,{tab:"Danh s\xE1ch bu\u1ED5i h\u1ECDc",children:e(le,{rowKey:"lesson_id",bordered:!0,style:{paddingTop:20},dataSource:r.exports.get(C,"lessons",[]),columns:Od,pagination:{defaultPageSize:100}})},"lessionInfo")]}),children:[e(B,{extra:Z,children:H()}),e(Md,{periodInfo:C,studentInfo:A,show:g,setShow:y}),e(Hd,{tuitionIndex:f,periodTuitionInfo:C,show:E,setShow:_,students:s})]})})}function Hd(n){const{tuitionIndex:t,periodTuitionInfo:s,show:a,setShow:l,students:c}=n,x=q(),[S,m]=o.exports.useState(!1),[p,i]=o.exports.useState(""),u=R(_=>_.notificationReducer.addNotificationStatus);function E(){console.log("Send notification",t),l(!1);const _=[];if(t===-1)r.exports.get(s,"tuition_fees",[]).forEach(y=>{if(S){if(y.status!==1){const A=c.find(f=>f.id===y.student_id),h=r.exports.get(A,"parent.id",0);h>0&&_.push(h)}}else{const A=c.find(f=>f.id===y.student_id),h=r.exports.get(A,"parent.id",0);h>0&&_.push(h)}});else{const y=c.find(h=>h.id===r.exports.get(s,"tuition_fees",[])[t].student_id),A=r.exports.get(y,"parent.id",0);A>0&&_.push(A)}const g={user_ids:_,message:{title:"Th\xF4ng b\xE1o h\u1ECDc ph\xED",body:p,data:{uri:hn.TUITION_FEE}}};x(Pt(g)).finally(()=>{l(!1)})}return e(Q,{children:d(te,{title:"G\u1EEDi th\xF4ng b\xE1o cho ph\u1EE5 huynh!",visible:a,onCancel:()=>l(!1),onOk:E,footer:[e(k,{onClick:()=>l(!1),children:"Hu\u1EF7 b\u1ECF"},"btncancel"),e(k,{type:"primary",onClick:()=>E(),loading:u==="loading",children:"G\u1EEDi \u0111i"},"btnsubmit")],children:[e(M.TextArea,{placeholder:"Write something here!",style:{marginBottom:20},value:p,onChange:_=>i(_.target.value)}),t===-1?e(ce,{onChange:_=>m(_.target.checked),children:"Ch\u1EC9 nh\u1EEFng h\u1ECDc sinh ch\u01B0a n\u1ED9p"}):""]})})}const{confirm:jn}=te,{Panel:zd}=cn;function Kd(){const n=q(),t=Se(),[s,a]=o.exports.useState(!1),[l,c]=o.exports.useState(-1),x=R(E=>E.salariesReducer.salaries),S=R(E=>E.salariesReducer.getSalaries);o.exports.useEffect(()=>{n(ot({}))},[n]);function m(E){a(!0),c(E)}function p(E){jn({title:"B\u1EA1n mu\u1ED1n xo\xE1 b\u1EA3ng l\u01B0\u01A1ng n\xE0y!",icon:e(Re,{}),onOk(){n(Os(E.id)).finally(()=>{n(ot({}))})}})}function i(E){jn({title:"X\xE1c nh\u1EADn \u0111\xE3 thanh to\xE1n l\u01B0\u01A1ng?",content:"L\u01B0u \xFD khi \u0111\xE3 x\xE1c nh\u1EADn thanh to\xE1n th\xEC kh\xF4ng th\u1EC3 s\u1EEDa b\u1EA3ng l\u01B0\u01A1ng \u0111\u01B0\u1EE3c n\u1EEFa!",icon:e(Re,{}),onOk(){n(Qs(E.id)).finally(()=>{n(ot({}))})}})}const u=[{title:"H\u1ECD t\xEAn",dataIndex:"user",key:"name",render:function(_){return e("strong",{children:_.profile.name})}},{title:"Ng\xE0y t\u1EA1o",dataIndex:"created_at",key:"date"},{title:"Lo\u1EA1i",dataIndex:"type",key:"type",render:function(_){return e("span",{style:{color:"#c0392b"},children:_===0?"Sale":_===1?"Gi\xE1o vi\xEAn (2)":"Gi\xE1o vi\xEAn"})}},{title:"T\u1ED5ng",dataIndex:"amount",key:"amount",render:function(_,g){return e("strong",{style:{color:"#2980b9"},children:W(parseFloat(g.basic_salary)+parseFloat(g.bonus)+parseFloat(g.revenue_salary)-parseFloat(g.fines)).format("0,0")})}},{title:"Tr\u1EA1ng th\xE1i",dataIndex:"status",key:"status",render:function(_){return e("span",{style:{color:"#c0392b"},children:_===0?e(ae,{color:"red",children:"Ch\u01B0a thanh to\xE1n"}):e(ae,{color:"green",children:"\u0110\xE3 thanh to\xE1n"})})}},{title:"Actions",dataIndex:"actions",key:"actions",render:function(_,g,y){return d(Q,{children:[d(J,{title:"Xem chi ti\u1EBFt",children:[" ",e(k,{onClick:()=>m(y),type:"link",icon:e(Ei,{})})]}),e(J,{title:"\u0110\xE3 thanh to\xE1n",children:e(k,{disabled:Number(g.status)===1,type:"link",icon:e(mi,{style:{color:g.status===0?"#27ae60":"#bdc3c7"}}),onClick:()=>i(g)})}),e(J,{title:"Xo\xE1 b\u1EA3ng l\u01B0\u01A1ng",children:e(k,{disabled:g.status===1,type:"link",danger:!0,icon:e(Ut,{}),onClick:()=>p(g)})})]})}}];return d(ie.Content,{children:[d(K,{style:{marginBottom:30},children:[e(M.Search,{}),e(k,{type:"primary",icon:e(De,{}),onClick:()=>t.push("/salaries-create"),children:"L\u1EADp b\u1EA3ng l\u01B0\u01A1ng"})]}),e(le,{dataSource:r.exports.get(x,"data",[]),columns:u,loading:S=="loading"}),e(qd,{salaryInfo:r.exports.get(x,"data",[])[l],show:s,setShow:a})]})}function qd(n){const{salaryInfo:t,show:s,setShow:a}=n,l=q(),[c,x]=o.exports.useState(0),[S,m]=o.exports.useState(!1),[p,i]=o.exports.useState({bonus:"",fines:"",note:""}),u=R(h=>h.revenuesReducer.revenues),E=R(h=>h.revenuesReducer.getRevenuesStatus),_=R(h=>h.lessonReducer.lessons),g=R(h=>h.lessonReducer.getLessonsState),y=R(h=>h.salariesReducer.updateSalaryStatus);o.exports.useEffect(()=>{t&&i({bonus:r.exports.get(t,"bonus","0,0"),fines:r.exports.get(t,"fines","0,0"),note:r.exports.get(t,"note","")})},[t]),o.exports.useEffect(()=>{s==!0&&(t.status===0||t.type==null?(console.log(t.user.name),l(st({employee_id:t.employee_id,fromDate:I(t.from_date).format("YYYY-MM-DD"),toDate:I(t.to_date).format("YYYY-MM-DD")})),x(parseFloat(t.basic_salary)+parseFloat(t.revenue_salary)+parseFloat(t.bonus)-parseFloat(t.fines))):t.type===1&&(l(Me({employee_id:t.employee_id,from_date:I(t.from_date).format("YYYY-MM-DD"),to_date:I(t.to_date).format("YYYY-MM-DD")})),x(parseFloat(t.revenue_salary)+parseFloat(t.bonus)-parseFloat(t.fines))))},[t,l,s]);function A(){jn({title:"X\xE1c nh\u1EADn s\u1EEDa b\u1EA3ng l\u01B0\u01A1ng?",icon:e(Re,{}),onOk(){l(Gs({sID:t.id,data:p})).finally(()=>{y==="success"&&(m(!1),l(ot({})))})}})}return e(Q,{children:t&&d(te,{visible:s,onCancel:()=>{a(!1),m(!1)},width:1e3,footer:[e(k,{type:r.exports.get(t,"status",0)===1?"primary":"default",children:"In b\u1EA3ng l\u01B0\u01A1ng"},"print"),S===!1&&r.exports.get(t,"status",0)===0?e(k,{type:"primary",onClick:()=>m(!0),children:"S\u1EEDa b\u1EA3ng l\u01B0\u01A1ng"},"edit"):"",S===!0?e(k,{type:"primary",onClick:()=>A(),children:"L\u01B0u l\u1EA1i"},"submit"):""],children:[d(j,{title:"Chi ti\u1EBFt b\u1EA3ng l\u01B0\u01A1ng",bordered:!0,column:{xxl:3,xl:2,lg:2,md:2,sm:2,xs:1},style:{marginBottom:20},children:[e(j.Item,{span:3,label:"Nh\xE2n vi\xEAn",children:e("strong",{children:r.exports.get(t,"user.profile.name","")})}),e(j.Item,{span:2,label:"Ng\xE0y t\u1EA1o",children:I(r.exports.get(t,"created_at","")).format("YYYY-MM-DD")}),d(j.Item,{span:2,label:"Chu k\u1EF3",children:[I(r.exports.get(t,"from_date","")).format("YYYY-MM-DD")," - ",I(t.to_date).format("YYYY-MM-DD")," "]}),e(j.Item,{label:"C\u01A1 b\u1EA3n",children:e("strong",{children:W(r.exports.get(t,"basic_salary","")).format("0,0")})}),e(j.Item,{label:"Doanh thu",children:e("strong",{children:W(r.exports.get(t,"revenue_salary","")).format("0,0")})}),e(j.Item,{label:"Th\u01B0\u1EDFng",children:S===!0?e(he,{value:p.bonus,style:{width:"90%",color:"#16a085"},formatter:h=>W(h).format("0,0"),onChange:h=>{p.bonus=h,i(re({},p))}}):e("strong",{children:W(t.bonus).format("0,0")})}),e(j.Item,{label:"Ph\u1EA1t",children:S===!0?e(he,{value:p.fines,style:{width:"90%",color:"#e74c3c"},formatter:h=>W(h).format("0,0"),onChange:h=>{p.fines=h,i(re({},p))}}):e("strong",{children:W(t.fines).format("0,0")})}),e(j.Item,{span:3,label:"T\u1ED5ng",children:e("strong",{style:{color:"#2980b9"},children:W(c).format("0,0")})}),e(j.Item,{span:3,label:"Tr\u1EA1ng th\xE1i",children:e("strong",{children:t.status===0?e(ae,{color:"volcano",children:"Ch\u01B0a thanh to\xE1n"}):e(ae,{color:"green",children:"\u0110\xE3 thanh to\xE1n"})})}),e(j.Item,{label:"Ghi ch\xFA",children:S===!0?e(M.TextArea,{value:p.note,style:{width:"75%"},onChange:h=>{p.note=h.target.value,i(re({},p))}}):t.note})]}),e(cn,{accordion:!0,children:e(zd,{header:"Chi ti\u1EBFt doanh thu",children:t.type==0&&u?e(ue,{rowKey:"id",itemLayout:"horizontal",loading:E==="loading",dataSource:u&&r.exports.get(u,"data",[]),renderItem:h=>d(ue.Item,{children:[e(ue.Item.Meta,{title:e("a",{href:"#",children:h.created_at}),description:h.note}),e("div",{style:{color:"#2980b9"},children:W(h.amount).format("0,0")})]})}):t.type===1&&_?e(ue,{rowKey:"id",itemLayout:"horizontal",loading:g==="loading",dataSource:r.exports.get(_,"data",[]),renderItem:h=>d(ue.Item,{children:[e(ue.Item.Meta,{title:e("a",{href:"#",children:h.tuition_period.class.name})}),e("div",{style:{color:"#2980b9"},children:h.date})]})}):""},"1")})]})})}const{Option:at}=O,{Title:xa}=qn,{RangePicker:Vd}=ye,{TabPane:ya}=ze,{confirm:$d}=te;function Jd(){const n=q(),t=Se(),[s]=D.useForm(),[a,l]=o.exports.useState([I(new Date).startOf("month").format("YYYY-MM-DD"),I(new Date).endOf("month").format("YYYY-MM-DD")]),[c,x]=o.exports.useState(!0),[S,m]=o.exports.useState(0),[p,i]=o.exports.useState(0),[u,E]=o.exports.useState("none"),[_,g]=o.exports.useState([]),[y,A]=o.exports.useState(!1),h=R(B=>B.employeeReducer.employees),f=R(B=>B.employeeReducer.employeeInfo),F=R(B=>B.revenuesReducer.revenues),C=R(B=>B.salariesReducer.addSalaryStatus),b=R(B=>B.lessonReducer.lessons),v=R(B=>B.tuitionFeeReducer.tuitionFees);o.exports.useEffect(()=>{s.setFieldsValue({role:"none",employee_id:0,basic_salary:"0",revenue_salary:"0",revenue_salary_percent:"10",fines:"0",bonus:"0",note:""}),n(bn()),n(to()),n(wn()),n(_n()),i(0),m(0)},[s,n]),o.exports.useEffect(()=>{f&&s.setFieldsValue({basic_salary:r.exports.get(f.employee_contract,"basic_salary","0")})},[f,s]),o.exports.useEffect(()=>{if(F&&u===ee.SALE){let B=0;r.exports.get(F,"data",[]).forEach(U=>{B+=Number(U.amount)}),m(B);const G=parseFloat(s.getFieldValue("revenue_salary_percent"));s.setFieldsValue({revenue_salary:G/100*B}),i(parseFloat(s.getFieldValue("basic_salary"))+G/100*B+parseFloat(s.getFieldValue("bonus"))-parseFloat(s.getFieldValue("fines")))}},[F,s,u]),o.exports.useEffect(()=>{if(r.exports.get(b,"data",[]).length>0){if(u===ee.TEACHER2){const B=r.exports.get(b,"data",[]).length;m(B),s.setFieldsValue({revenue_salary:parseFloat(s.getFieldValue("basic_salary"))*B}),i(parseFloat(s.getFieldValue("basic_salary"))*B+parseFloat(s.getFieldValue("bonus"))-parseFloat(s.getFieldValue("fines")))}else if(u===ee.TEACHER){const B=[];r.exports.get(b,"data",[]).forEach(U=>{const z=r.exports.findIndex(B,se=>se.id===U.tuition_period_id);z==-1?B.push({id:U.tuition_period_id,count:1}):B[z].count++});let G="";B.forEach(U=>{G===""?G=`${U.id}`:G+=`,${U.id}`}),G!=""&&(A(!0),n(vs({period_tuition_ids:G,per_page:1e3})).then(()=>A(!1))),g(B)}}},[b,u,s,n]),o.exports.useEffect(()=>{C==="success"&&$d({title:"L\u01B0u b\u1EA3ng l\u01B0\u01A1ng th\xE0nh c\xF4ng!",icon:e($e,{}),content:"B\u1EA1n mu\u1ED1n chuy\u1EC3n \u0111\u1EBFn danh s\xE1ch b\u1EA3ng l\u01B0\u01A1ng",onOk(){t.push("/salaries")},onCancel(){console.log("Cancel")}})},[C]);function T(B,G){l([G[0],G[1]])}function P(){if(s.getFieldValue("employee_id")>0&&u!="none")switch(A(!0),u){case ee.SALE:n(st({employee_id:s.getFieldValue("employee_id"),fromDate:a[0],toDate:a[1]})).then(()=>A(!1));break;case ee.TEACHER:n(Me({employee_id:s.getFieldValue("employee_id"),from_date:a[0],to_date:a[1]})).then(()=>A(!1));break;case ee.TEACHER2:n(Me({employee_id:s.getFieldValue("employee_id"),from_date:a[0],to_date:a[1]})).then(()=>A(!1));break;case ee.EMPLOYEE:break}}function N(B){m(B);const G=s.getFieldValue("revenue_salary_percent"),U=s.getFieldValue("basic_salary"),z=s.getFieldValue("bonus"),se=s.getFieldValue("fines"),X=+G*B/100;s.setFieldsValue({revenue_salary:X}),i(+U+ +z+X-+se)}function H(B,G){if(G.employee_id>0){const U=parseFloat(G.revenue_salary),z=parseFloat(G.basic_salary),se=parseFloat(G.bonus),X=parseFloat(G.fines);u===ee.SALE||u===ee.TEACHER?i(z+U+se-X):u===ee.TEACHER2&&i(z*S+se-X)}if(B.role){if(E(B.role),n(bn()),n(wn()),n(_n()),m(0),i(0),s.setFieldsValue({employee_id:null}),B.role==="none")x(!0),s.setFieldsValue({role:"none",employee_id:0,basic_salary:"0",revenue_salary:"0",revenue_salary_percent:"0",bonus:"0",fines:"0",note:""});else{switch(B.role){case"teacher":s.setFieldsValue({revenue_salary_percent:"50"});break;case"teacher2":s.setFieldsValue({revenue_salary_percent:"100"});break;case"sale":s.setFieldsValue({revenue_salary_percent:"20"});break}n(ve({role_name:B.role})),x(!1)}return}if(B.employee_id){n(bn()),n(wn()),n(_n()),m(0),i(0),B.employee_id>0&&n(ns(B.employee_id));return}if(B.basic_salary){u===ee.TEACHER2&&s.setFieldsValue({revenue_salary:parseFloat(B.basic_salary)*r.exports.get(b,"data",[]).length});return}if(B.revenue_salary_percent){s.setFieldsValue({revenue_salary:parseFloat(B.revenue_salary_percent)/100*S});return}B.debt||!B.note}function Z(B){if(console.log(B),B.employee_id<=0)return;const G={employee_id:B.employee_id,basic_salary:B.basic_salary,revenue_salary:B.revenue_salary,debt:"",bonus:B.bonus,fines:B.fines,period_id:0,note:B.note,from_date:a[0],to_date:a[1],status:0,type:u===ee.SALE?0:u===ee.TEACHER2?1:2};n(Us(G))}const V={pattern:/^-{0,1}\d*\.{0,1}\d+$/,message:"Value must be numeric"};return d(ie.Content,{style:{padding:20},children:[e("div",{style:{marginBottom:20},children:e(xa,{level:3,children:" L\u1EADp b\u1EA3ng l\u01B0\u01A1ng "})}),e(Ve,{}),d(D,{form:s,name:"salary",style:{padding:20,marginBottom:20},layout:"vertical",onValuesChange:H,onFinish:Z,children:[e(D.Item,{label:"Nh\xE2n vi\xEAn",children:d(M.Group,{compact:!0,children:[e(D.Item,{name:"role",noStyle:!0,children:d(O,{placeholder:"V\u1ECB tr\xED",style:{width:240},children:[e(at,{value:"none",children:"Ch\u1ECDn v\u1ECB tr\xED"}),e(at,{value:ee.TEACHER,children:"Gi\xE1o vi\xEAn ch\xEDnh th\u1EE9c"}),e(at,{value:ee.TEACHER2,children:"Gi\xE1o vi\xEAn h\u1EE3p \u0111\u1ED3ng"}),e(at,{value:ee.SALE,children:"Nh\xE2n vi\xEAn sale"}),e(at,{value:ee.EMPLOYEE,children:"Kh\xE1c"})]})}),e(D.Item,{name:"employee_id",noStyle:!0,rules:[{required:!0,message:"Street is required"}],children:d(O,{allowClear:!0,showSearch:!0,disabled:c,style:{width:500},placeholder:"Ch\u1ECDn nh\xE2n vi\xEAn",optionFilterProp:"children",children:[u==="none"?e(at,{value:0,children:"--"},0):"",r.exports.get(h,"data",[]).map(B=>d(at,{value:B.id,children:[e("a",{children:r.exports.get(B,"profile.name")})," (",B.phone,")"]},B.id))]})})]})}),e(D.Item,{label:"L\u01B0\u01A1ng doanh thu",children:d(M.Group,{compact:!0,children:[e(D.Item,{name:"revenue_salary_percent",style:{width:"8%"},children:e(M,{prefix:"%"})}),e(D.Item,{name:"revenue_salary",children:e(he,{style:{width:"90%",color:"#16a085"},formatter:B=>W(B).format("0,0"),disabled:!0})})]})}),d(Ce,{children:[e(pe,{span:6,children:e(D.Item,{label:"L\u01B0\u01A1ng c\u01A1 b\u1EA3n",name:"basic_salary",rules:[V],tooltip:"N\u1EBFu nh\xE2n vi\xEAn l\xE0 gi\xE1o vi\xEAn (2) th\xEC l\u01B0\u01A1ng c\u01A1 b\u1EA3n ch\xEDnh l\xE0 l\u01B0\u01A1ng/bu\u1ED5i d\u1EA1y",children:e(he,{style:{width:"90%"},formatter:B=>W(B).format("0,0")})})}),e(pe,{span:6,children:e(D.Item,{label:"L\u01B0\u01A1ng th\u01B0\u1EDFng",name:"bonus",rules:[V],children:e(he,{style:{width:"90%",color:"#16a085"},formatter:B=>W(B).format("0,0")})})}),e(pe,{span:6,children:e(D.Item,{label:"L\u01B0\u01A1ng tr\u1EEB",name:"fines",rules:[V],children:e(he,{style:{width:"90%",color:"#c0392b"},formatter:B=>W(B).format("0,0")})})})]}),e(D.Item,{name:"note",label:"Ghi ch\xFA",children:e(M.TextArea,{style:{width:"75%"}})}),e(Ce,{children:e(pe,{span:24,style:{textAlign:"left"},children:e(D.Item,{children:d(K,{children:[d("strong",{style:{marginRight:20},children:["T\u1ED5ng l\u01B0\u01A1ng: ",e("span",{style:{color:"#d35400"},children:W(p).format("0,0")})]}),e(k,{type:"primary",htmlType:"submit",loading:C=="loading",children:"L\u01B0u l\u1EA1i"})]})})})})]}),e(Ve,{}),d(Ce,{justify:"space-between",style:{marginBottom:20},children:[e(pe,{children:d(xa,{level:4,children:[" B\u1EA3ng doanh thu (",e("span",{style:{color:"#27ae60"},children:W(S).format("0,0")}),") "]})}),d(pe,{children:[e(Vd,{style:{marginRight:10},defaultValue:[I(new Date).startOf("month"),I(new Date).endOf("month")],onChange:T}),e(k,{type:"primary",onClick:P,children:"L\u1EA5y b\u1EA3ng doanh thu"})]})]}),u===ee.SALE?e(Ke,{closable:!0,style:{marginBottom:20},message:"V\u1EDBi nh\xE2n vi\xEAn sale, b\u1EA3ng doanh thu l\xE0 b\u1EA3ng doanh thu b\xE1n kho\xE1 h\u1ECDc trong kho\u1EA3ng th\u1EDDi gian t\xEDnh l\u01B0\u01A1ng",type:"warning"}):"",u===ee.TEACHER2?e(Ke,{closable:!0,style:{marginBottom:20},message:"V\u1EDBi nh\xE2n vi\xEAn l\xE0 gi\xE1o vi\xEAn l\u01B0\u01A1ng theo bu\u1ED5i, b\u1EA3ng doanh thu l\xE0 danh s\xE1ch c\xE1c bu\u1ED5i d\u1EA1y trong kho\u1EA3ng th\u1EDDi gian t\xEDnh l\u01B0\u01A1ng",type:"warning"}):"",u===ee.TEACHER?e(Ke,{closable:!0,style:{marginBottom:20},message:"V\u1EDBi nh\xE2n vi\xEAn l\xE0 gi\xE1o vi\xEAn l\u01B0\u01A1ng theo doanh thu h\u1ECDc ph\xED, b\u1EA3ng doanh thu l\xE0 danh s\u1ED1 bu\u1ED5i d\u1EA1y c\u1EE7a t\u1EEBng h\u1ECDc sinh trong kho\u1EA3ng th\u1EDDi gian t\xEDnh l\u01B0\u01A1ng",type:"warning"}):"",u===ee.SALE?e(ue,{rowKey:"id",itemLayout:"horizontal",loading:y,dataSource:r.exports.get(F,"data",[]),renderItem:B=>d(ue.Item,{children:[e(ue.Item.Meta,{title:e("a",{href:"#",children:B.created_at}),description:B.note}),e("div",{style:{color:"#2980b9"},children:W(B.amount).format("0,0")})]})}):u===ee.TEACHER2?e(ue,{rowKey:"id",itemLayout:"horizontal",loading:y,dataSource:r.exports.get(b,"data",[]),renderItem:B=>d(ue.Item,{children:[e(ue.Item.Meta,{title:e("a",{href:"#",children:B.tuition_period_id}),description:B.tuition_period_id}),e("div",{style:{color:"#2980b9"},children:B.date})]})}):e(Xd,{tuitionFeeList:r.exports.get(v,"data",[]),periodTuitionFeeList:_,lessons:r.exports.get(b,"data",[]),revenueLoading:y,handleChangeTeacherRevenue:N})]})}function Xd(n){const{tuitionFeeList:t,periodTuitionFeeList:s,lessons:a,revenueLoading:l,handleChangeTeacherRevenue:c}=n,[x,S]=o.exports.useState([]),[m,p]=o.exports.useState([]);o.exports.useEffect(()=>{if(t){const u=[],E=[];let _=0;t.forEach(g=>{if(g.from_date==null){const f=s.find(F=>F.id===g.period_tuition_id);f?u[g.id]=f.count:u[g.id]=0}else{let f=0;a.forEach(F=>{I(F.date).isSameOrAfter(g.from_date)&&F.tuition_period_id===g.period_tuition_id&&f++}),u[g.id]=f}const y=r.exports.get(g,"period_tuition.fee_per_session",0),A=r.exports.get(g,"flexible_deduction","0");let h=0;g.est_session_num===0?h=y*+r.exports.get(g,"period_tuition.est_session_num",0):h=y*+r.exports.get(g,"est_session_num",0),E[g.id]=+A/h*(y*u[g.id]),_+=y*u[g.id]-E[g.id]}),S(u),p(E),c(_)}},[t,s,a,c]);const i=[{title:"H\u1ECDc sinh",dataIndex:"student",key:"student",render:function(E){return e("a",{children:E.name})}},{title:"S\u1ED1 bu\u1ED5i h\u1ECDc",key:"lesson_num",render:function(E,_){return e(Q,{children:x[_.id]})}},{title:"H\u1ECDc ph\xED/bu\u1ED5i",dataIndex:"period_tuition",key:"fee_per_session",render:function(E){return e(Q,{children:W(r.exports.get(E,"fee_per_session",0)).format("0,0")})}},{title:"Gi\u1EA3m tr\u1EEB",key:"reduction",render:function(E,_){return e("span",{style:{color:"#d35400"},children:W(m[_.id]).format("0,0")})}},{title:"Thu \u01B0\u1EDBc t\xEDnh",key:"amount",render:function(E,_){return e("strong",{style:{color:"#2980b9"},children:W(r.exports.get(_,"period_tuition.fee_per_session",0)*x[_.id]-m[_.id]).format("0,0")})}},{title:"Tr\u1EA1ng th\xE1i",dataIndex:"status",key:"status",render:function(E){return e("span",{children:E===0?e(ae,{color:"red",children:"Ch\u01B0a n\u1ED9p"}):E===1?e(ae,{color:"green",children:"\u0110\xE3 n\u1ED9p"}):e(ae,{color:"orange",children:"Chuy\u1EC3n n\u1EE3"})})}}];return e(Ga.StrictMode,{children:d(ze,{defaultActiveKey:"1",children:[e(ya,{tab:"B\u1EA3ng h\u1ECDc ph\xED",children:e(le,{rowKey:"id",loading:l,columns:i,dataSource:t,pagination:{defaultPageSize:100}})},"1"),e(ya,{tab:"DS bu\u1ED5i d\u1EA1y",children:e(ue,{rowKey:"id",itemLayout:"horizontal",loading:l,dataSource:a,renderItem:u=>d(ue.Item,{children:[e(ue.Item.Meta,{title:d("a",{href:"#",children:["L\u1EDBp: ",r.exports.get(u,"tuition_period.class.name","")]}),description:u.date}),d("div",{style:{color:"#2980b9"},children:["Chu k\u1EF3:",I(u.tuition_period.from_date).format("DD/MM/YYYY")," - ",I(u.tuition_period.to_date).format("DD/MM/YYYY")]})]})})},"2")]})})}const{Option:Et}=O,{RangePicker:Wd}=ye,{confirm:Zd}=te;function eu(){const n=Se(),t=q(),[s,a]=o.exports.useState(""),[l,c]=o.exports.useState(""),[x,S]=o.exports.useState(0),[m,p]=o.exports.useState(0),[i,u]=o.exports.useState([]),[E,_]=o.exports.useState(!1),[g,y]=o.exports.useState(!1),[A,h]=o.exports.useState(""),[f,F]=o.exports.useState(0),[C,b]=o.exports.useState([]),[v,T]=o.exports.useState(!1),[P,N]=o.exports.useState([]),[H,Z]=o.exports.useState(!0),V=R($=>$.classReducer.classes),B=R($=>$.classReducer.classInfo),G=R($=>$.classReducer.getClassStatus),U=R($=>$.dayoffReducer.dayoffs),z=R($=>$.periodTuitionReducer.addPeriodTuitionStatus),se=o.exports.useRef([]),X=o.exports.useRef([]),_e=o.exports.useRef([]);o.exports.useEffect(()=>{t(ke({})),t(la()),t(_o())},[t]),o.exports.useEffect(()=>{if(B&&U){const $=[];let oe=[],ge=[];if(r.exports.get(U,"data",[]).forEach(ne=>{$.push(ne.from_date)}),B.schedule.length>0){let ne=0;for(let fe=0;fe<B.schedule.length;fe++){const be=B.schedule[fe];oe=cr(s,l,be),ne+=oe.length,ge=ge.concat(hr(oe,$))}ne-=ge.length,N(ge),S(ne)}if(B.active_period_tuition){const ne=r.exports.get(B,"active_period_tuition.est_session_num")-r.exports.get(B,"active_period_tuition.lessons",[]).length;p(ne),I(B.active_period_tuition.to_date).isSameOrAfter(I(s))?Z(!1):Z(!0)}else p(0)}},[B,U,s,l]),o.exports.useEffect(()=>{if(B&&B.students){se.current=[],X.current=[],_e.current=[];const $=[];B.students.forEach(oe=>{const ge=r.exports.get(B,"active_period_tuition.fee_per_session",0);let ne=0,fe=0;if(B.active_period_tuition){const we=r.exports.get(B.active_period_tuition,"tuition_fees",[]).find(Ot=>Ot.student_id===oe.id);if(we)if(we.from_date){let Ot=0;r.exports.get(B.active_period_tuition,"lessons",[]).forEach(Sr=>{I(Sr.date).isSameOrBefore(we.from_date)&&Ot++}),ne=r.exports.get(we,"est_session_num",0)-Ot,fe=100*+r.exports.get(we,"flexible_deduction",0)/(r.exports.get(we,"est_session_num",0)*ge)}else fe=100*+r.exports.get(we,"flexible_deduction",0)/(r.exports.get(B,"active_period_tuition.est_session_num",0)*ge);else ne=-1}const be=ne===-1?0:ne===0?m*ge-m*ge*fe/100:ne*ge-ne*ge*fe/100;$.push({student_id:oe.id,fixed_deduction:"0",flexible_deduction:"0",residual:`${be}`,note:"",from_date:"",to_date:"",status:0,dayoffs:[]})}),u($),b(Array(B.students.length).fill(0))}},[B,m,x]),o.exports.useEffect(()=>{z==="success"&&(T(!1),Zd({title:"Chuy\u1EC3n t\u1EDBi b\u1EA3ng danh s\xE1ch chu k\u1EF3 h\u1ECDc ph\xED!",icon:e($e,{}),onOk(){n.push("/payments/tuition")}}))},[z]);function _t($){return x*r.exports.get(B,"fee_per_session",0)-parseFloat(r.exports.get(i[$],"residual","0"))-parseFloat(r.exports.get(i[$],"flexible_deduction","0"))-parseFloat(r.exports.get(i[$],"fixed_deduction","0"))+parseFloat(r.exports.get(i[$],"debt","0"))}function wt($,oe){a(oe[0]),c(oe[1]),r.exports.get(B,"active_period_tuition.to_date","")!=""&&I(r.exports.get(B,"active_period_tuition.to_date","")).isSameOrAfter(I(oe[0]))?Z(!1):Z(!0),t(nt({from_date:oe[0],to_date:oe[1]}))}function ht($){S(0),p(0),y(!1),$>0?t(gt({class_id:$,params:{active_periodinfo:!0,students:!0}})):t(la())}function pt($){y($),_($)}function kt(){X.current.forEach(($,oe)=>{$.state.value=A;let ge=0;$.state.value===""?ge=0:ge=parseInt($.state.value);const ne=f==0?x*r.exports.get(B,"fee_per_session",0)*ge/100:ge;i[oe].flexible_deduction=String(ne)}),u([...i]),C.forEach(($,oe)=>C[oe]=f),pt(!1),y(!0),h(""),b([...C])}function xr($,oe){const ge=r.exports.get(B,"fee_per_session",0);let ne=0;$.target.value===""?ne=0:ne=parseInt($.target.value);const fe=C[oe]===0?x*ge*ne/100:ne;i[oe].flexible_deduction=String(fe),u([...i])}function yr($,oe){i[oe].fixed_deduction=String($),u([...i])}function Jn($){if(B){const oe={class_id:B.id,est_session_num:x,fee_per_session:B.fee_per_session,from_date:s,to_date:l,tuition_fees:i,draft:$,dayoffs:P};t(Rs(oe))}}const Cr=[{title:"H\u1ECD t\xEAn",dataIndex:"name",key:"name",width:180,fixed:!0,render:function(oe){return e("a",{children:oe})}},{title:d(Q,{children:["H\u1ECDc ph\xED"," ",e(J,{title:"H\u1ECDc ph\xED \u01B0\u1EDBc t\xEDnh c\u1EE7a k\u1EF3 n\xE0y",children:e(Oe,{style:{color:"#f39c12"}})})]}),dataIndex:"tuition",key:"tuition",width:160,render:function(){return e("span",{children:W(x*r.exports.get(B,"fee_per_session",0)).format("0,0")})}},{title:d(Q,{children:["D\u01B0 k\u1EF3 tr\u01B0\u1EDBc"," ",e(J,{title:"S\u1ED1 bu\u1ED5i d\u01B0 k\u1EF3 tr\u01B0\u1EDBc b\u1EB1ng s\u1ED1 bu\u1ED5i \u01B0\u1EDBc t\xEDnh k\u1EF3 tr\u01B0\u1EDBc tr\u1EEB \u0111i s\u1ED1 bu\u1ED5i h\u1ECDc th\u1EF1c t\u1EBF",children:e(Oe,{style:{color:"#f39c12"}})})]}),key:"residual",width:160,render:function(oe,ge,ne){var fe;return e(Q,{children:e("span",{style:{color:"#e74c3c"},children:W((fe=i[ne])==null?void 0:fe.residual).format("0,0")})})}},{title:"Gi\u1EA3m tr\u1EEB \u0111\u1EB7c bi\u1EC7t",key:"fixed_deduction",width:200,render:function(oe,ge,ne){var fe;return e(Q,{children:e(he,{defaultValue:(fe=i[ne])==null?void 0:fe.fixed_deduction,formatter:be=>W(be).format("0,0"),ref:be=>se.current[ne]=be,style:{width:"90%",color:"#c0392b"},onChange:be=>yr(be,ne)})})}},{title:d(Q,{children:["Gi\u1EA3m tr\u1EEB"," ",e(J,{title:"Gi\u1EA3m tr\u1EEB h\u1ECDc ph\xED tu\u1EF3 ch\u1EC9nh theo \u0111\u1EE3t",children:e(Oe,{style:{color:"#f39c12"}})}),e(ce,{checked:g,onChange:$=>pt($.target.checked),children:e("span",{style:{fontSize:12,color:"#7f8c8d"},children:"\xC1p d\u1EE5ng t\u1EA5t c\u1EA3"})}),e(te,{title:"\u0110i\u1EC3n gi\u1EA3m tr\u1EEB theo \u0111\u1EE3t cho t\u1EA5t c\u1EA3 h\u1ECDc sinh",visible:E,onOk:kt,onCancel:()=>{_(!1),pt(!1)},children:e(M,{placeholder:"S\u1ED1 ti\u1EC1n gi\u1EA3m tr\u1EEB",value:A,onChange:$=>h($.target.value),addonBefore:d(O,{value:f,style:{width:60},onChange:$=>F($),children:[e(Et,{value:0,children:"%"},0),e(Et,{value:1,children:"0.0"},1)]})})})]}),dataIndex:"tuition",key:"deduction",width:180,render:function(oe,ge,ne){var fe,be;return e(Q,{children:e(M,{defaultValue:(fe=i[ne])==null?void 0:fe.flexible_deduction,ref:we=>X.current[ne]=we,onChange:we=>xr(we,ne),addonBefore:d(O,{value:(be=C[ne])!=null?be:0,style:{width:65},onChange:we=>{C[ne]=we,b([...C])},children:[e(Et,{value:0,children:"%"},0),e(Et,{value:1,children:"0.0"},1)]})})})}},{title:"Th\xE0nh ti\u1EC1n",key:"residual",width:160,fixed:!0,render:function(oe,ge,ne){return e(Q,{children:e("strong",{style:{color:"#2980b9"},children:W(_t(ne)).format("0,0")})})}},{title:"Ghi ch\xFA",key:"note",width:180,fixed:!0,render:function(oe,ge,ne){var fe;return e(Q,{children:e(M.TextArea,{defaultValue:(fe=i[ne])==null?void 0:fe.note,ref:be=>_e.current[ne]=be})})}}];return d(ie.Content,{children:[d(Xe,{className:"site-page-header",onBack:()=>n.push("/payments/tuition"),title:"L\u1EADp b\u1EA3ng h\u1ECDc ph\xED",subTitle:r.exports.get(B,"name"),style:{backgroundColor:"white"},extra:[e(k,{icon:e(ka,{}),onClick:()=>Jn(!0),disabled:!H,children:"L\u01B0u nh\xE1p"},"2"),d(Q,{children:[e(k,{type:"primary",icon:e($e,{}),onClick:()=>T(!0),disabled:!H,children:"Ho\xE0n t\u1EA5t"},"1"),e(te,{visible:v,title:"L\u01B0u b\u1EA3ng h\u1ECDc ph\xED",footer:[e(k,{onClick:()=>T(!1),children:"Hu\u1EF7 b\u1ECF"},"back"),e(k,{type:"primary",loading:z==="loading",onClick:()=>Jn(!1),children:"Ok"},"submit")],children:"Th\xF4ng tin chu k\u1EF3 h\u1ECDc ph\xED v\xE0 danh s\xE1ch h\u1ECDc ph\xED c\u1EE7a t\u1EA5t c\u1EA3 h\u1ECDc sinh s\u1EBD \u0111\u01B0\u1EE3c l\u01B0u v\xE0o h\u1EC7 th\u1ED1ng!"})]})],children:[d(j,{size:"default",column:2,layout:"horizontal",bordered:!0,children:[e(j.Item,{label:"L\u1EDBp h\u1ECDc",children:d(O,{defaultValue:0,style:{width:280},onChange:ht,children:[e(Et,{value:0,children:"Ch\u1ECDn l\u1EDBp h\u1ECDc..."},0),r.exports.get(V,"data",[]).map($=>e(Et,{value:$.id,children:$.name},$.id))]})}),e(j.Item,{label:"H\u1ECDc ph\xED/bu\u1ED5i",children:e("strong",{children:W(r.exports.get(B,"fee_per_session",0)).format("0,0")})}),e(j.Item,{label:"Chu k\u1EF3",children:e(Wd,{ranges:{"1 Th\xE1ng":[I().startOf("month"),I().endOf("month")],"2 Th\xE1ng":[I().startOf("month"),I().add(1,"month").endOf("month")],"3 Th\xE1ng":[I().startOf("month"),I().add(2,"months").endOf("month")]},onChange:wt})}),e(j.Item,{label:d(Q,{children:["S\u1ED1 bu\u1ED5i \u01B0\u1EDBc t\xEDnh"," ",e(J,{title:"S\u1ED1 bu\u1ED5i h\u1ECDc ph\xED \u01B0\u1EDBc t\xEDnh d\u1EF1a theo l\u1ECBch h\u1ECDc c\u1EE7a l\u1EDBp v\xE0 kho\u1EA3ng th\u1EDDi gian c\u1EE7a chu k\u1EF3 h\u1ECDc ph\xED, kh\xF4ng bao g\u1ED3m ng\xE0y ngh\u1EC9 l\u1EC5",children:e(Oe,{style:{color:"#f39c12"}})})]}),children:e("strong",{children:x})}),d(j.Item,{label:"H\u1ECDc ph\xED \u01B0\u1EDBc t\xEDnh",children:[e("strong",{children:W(r.exports.get(B,"fee_per_session",0)*(x-m)).format("0,0")}),x>0||m>0?d("span",{children:[" (",x-m," bu\u1ED5i)"]}):""]}),e(j.Item,{label:d(Q,{children:["S\u1ED1 bu\u1ED5i d\u01B0 k\u1EF3 tr\u01B0\u1EDBc"," ",e(J,{title:"D\u1EF1a tr\xEAn s\u1ED1 bu\u1ED5i h\u1ECDc \u01B0\u1EDBc t\xEDnh v\xE0 s\u1ED1 bu\u1ED5i h\u1ECDc th\u1EF1c t\u1EBF c\u1EE7a k\u1EF3 tr\u01B0\u1EDBc",children:e(Oe,{style:{color:"#f39c12"}})})]}),children:e("strong",{style:{color:"#e74c3c"},children:m})})]}),H===!1?e(Ke,{style:{marginTop:20},message:"Sai kho\u1EA3ng th\u1EDDi gian t\xEDnh h\u1ECDc ph\xED",description:`Ng\xE0y b\u1EAFt \u0111\u1EA7u t\xEDnh h\u1ECDc ph\xED ph\u1EA3i sau ng\xE0y ${r.exports.get(B,"active_period_tuition.to_date","")}`,type:"error"}):""]}),e("strong",{style:{marginTop:40,padding:20},children:"H\u1ECDc ph\xED m\u1ED7i h\u1ECDc sinh"}),e(le,{rowKey:"id",bordered:!0,style:{padding:20},dataSource:r.exports.get(B,"students",[]),columns:Cr,loading:G==="loading",pagination:{defaultPageSize:100}})]})}const{Option:Ca}=O,{RangePicker:tu}=ye;function gr(n){const{classList:t,class_id:s}=n,a=q(),[l,c]=o.exports.useState(!1),[x,S]=o.exports.useState(!1);function m(p){if(p.dateRange==null)return;const i={class_id:s===0?p.class_id:s,from_date:I(p.dateRange[0]).format("YYYY-MM-DD"),to_date:I(p.dateRange[1]).format("YYYY-MM-DD")};console.log(i),S(!0),a(Ks(i)).finally(()=>{c(!1),S(!1),a(je({}))})}return d(Q,{children:[e(k,{type:"primary",icon:e(De,{}),onClick:()=>c(!0),children:"L\u1EADp b\u1EA3ng t\u1ED5ng k\u1EBFt"}),e(te,{title:"L\u1EADp b\u1EA3ng t\u1ED5ng k\u1EBFt",visible:l,onCancel:()=>c(!1),width:800,footer:[e(k,{type:"default",onClick:()=>c(!1),children:"Hu\u1EF7 b\u1ECF"},"btnCancel"),e(k,{type:"primary",htmlType:"submit",form:"stcreateFrom",loading:x,children:"L\u01B0 l\u1EA1i"},"btnSubmit")],children:d(D,{id:"stcreateFrom",labelCol:{span:5},wrapperCol:{span:13},layout:"horizontal",onFinish:m,children:[s===0&&e(D.Item,{label:"Ch\u1ECDn l\u1EDBp",name:"class_id",required:!0,children:d(O,{defaultValue:0,style:{width:260},children:[e(Ca,{value:0,children:"T\u1EA5t c\u1EA3"}),t&&t.map(p=>d(Ca,{value:p.id,children:[" ",p.name]},p.id))]})}),e(D.Item,{label:"Kho\u1EA3ng th\u1EDDi gian",name:"dateRange",required:!0,children:e(tu,{})})]})})]})}const{confirm:su}=te,{Option:Sa}=O;function fr(n){const{class_id:t}=n,s=Se(),a=q(),l=R(i=>i.classReducer.classes),c=R(i=>i.studySummaryReducer.studySummaryList),x=R(i=>i.studySummaryReducer.getStudySummaryListState);o.exports.useEffect(()=>{t?a(je({class_id:t})):(a(je({})),a(ke({})))},[a,t]);function S(i){i>0?a(je({class_id:i})):a(je({}))}function m(i){console.log(i)}function p(i){su({title:"B\u1EA1n mu\u1ED1n xo\xE1 b\u1EA3ng t\u1ED5ng k\u1EBFt n\xE0y!",icon:e($e,{}),onOk(){a(qs(i)).finally(()=>{a(je({}))})},onCancel(){console.log("Cancel")}})}return d(ie.Content,{children:[!t&&d(K,{style:{marginBottom:20,marginTop:20},children:[e(ye,{style:{width:200},placeholder:"L\u1ECDc theo qu\xFD",onChange:m,picker:"quarter"}),d(O,{defaultValue:0,style:{width:280},onChange:S,children:[e(Sa,{value:0,children:"T\u1EA5t c\u1EA3"}),r.exports.get(l,"data",[]).map(i=>d(Sa,{value:i.id,children:[" ",i.name]},i.id))]}),e(gr,{classList:r.exports.get(l,"data",[]),class_id:0})]}),e(ue,{itemLayout:"horizontal",dataSource:r.exports.get(c,"data",[]),loading:x==="loading",renderItem:i=>e(ue.Item,{actions:[e(k,{type:"link",onClick:()=>s.push({pathname:`/study-summary-detail/${i.id}`,state:{summaryInfo:i}}),children:"Chi ti\u1EBFt"},"list-loadmore-edit"),e(k,{danger:!0,type:"link",onClick:()=>p(i.id),children:"Xo\xE1"},"list-loadmore-edit")],children:e(ue.Item.Meta,{title:e("a",{onClick:()=>s.push({pathname:`/study-summary-detail/${i.id}`,state:{summaryInfo:i}}),children:`${I(i.from_date).format("DD/MM/YYYY")} - ${I(i.to_date).format("DD/MM/YYYY")}`}),description:r.exports.get(i,"class.name","")})})})]})}const{Title:nu}=qn;function au(){const n=Hn(),t=q(),s=Se(),a=r.exports.get(n,"state.summaryInfo",null),[l,c]=o.exports.useState([]),x=R(_=>_.testReducer.testes),S=R(_=>_.lessonReducer.lessons),m=R(_=>_.studentReducer.students),p=R(_=>_.lessonReducer.getLessonsState),i=R(_=>_.testReducer.getTestesStatus),u=R(_=>_.studentReducer.getStudentsStatus);o.exports.useEffect(()=>{a&&(t(Fe({class_id:a.class_id})),t(rt({class_id:a.class_id,from_date:a.from_date,to_date:a.to_date,lesson_id:null})),t(Me({class_id:a.class_id,from_date:a.from_date,to_date:a.to_date})))},[t,a]),o.exports.useEffect(()=>{if(m&&S&&x){const _=[];r.exports.get(m,"data",[]).forEach(g=>{var F,C;let y=10,A=0,h=0;const f=[];(F=S.data)==null||F.forEach(b=>{const v=[];b.tests.forEach(P=>{const N=P.test_results.find(H=>H.student_id===g.id);N&&+N.point>0&&(v.push(+N.point),A+=+N.point,h++)});const T=b.attendances.find(P=>P.student_id===g.id);T&&(y+=+T.conduct_point),f.push({date:b.date,conduct_point:+r.exports.get(T,"conduct_point","0"),test_points:v})}),(C=x.data)==null||C.forEach(b=>{if(b.lesson_id===null){const v=b.test_results.find(T=>T.student_id===g.id);v&&+v.point>0&&(A+=+v.point,h++),f.push({date:b.date,conduct_point:0,test_points:[+r.exports.get(v,"point","0")]})}}),f.sort((b,v)=>I(b.date).diff(I(v.date))),_.push({student:g.name,summaries:f,total_conduct_point:y,test_point_avg:A>0?Math.floor(A/h*100)/100:0})}),c(_)}},[m,S,x]);let E=[{title:"H\u1ECDc sinh",dataIndex:"student",key:"student",width:200,fixed:"left",render:function(g){return e("strong",{children:g})}}];return l.length>0&&l[0].summaries.forEach((_,g)=>{E.push({title:`${I(_.date).format("DD/MM/YY")}`,dataIndex:"",key:`${g}`,with:80,render:function(A,h){return d("div",{style:{textAlign:"center"},children:[e("span",{style:{color:"#e67e22",height:28},children:h.summaries[g].conduct_point>0?h.summaries[g].conduct_point:"-"})," "," | "," ",e("span",{style:{color:"#3498db"},children:h.summaries[g].test_points.length>0?h.summaries[g].test_points.map((f,F)=>e("span",{children:`${f} ${F<_.test_points.length-1?", ":""}`})):"-"})]})}})}),E=E.concat([{title:"T\u1ED5ng HK",dataIndex:"total_conduct_point",key:"total_conduct_point",width:80,fixed:"right",render:function(g){return e("strong",{style:{color:"#e67e22"},children:g})}},{title:"\u0110i\u1EC3m BT",dataIndex:"test_point_avg",key:"test_point_avg",width:80,fixed:"right",render:function(g){return e("strong",{style:{color:"#3498db"},children:g})}},{title:"\u0110i\u1EC3m TK",dataIndex:"tk",key:"tl",width:80,fixed:"right",render:function(g,y){return e("strong",{style:{color:"#27ae60"},children:y.test_point_avg>0?Math.floor((y.total_conduct_point+y.test_point_avg*3)/4*100)/100:y.total_conduct_point})}}]),d(ie.Content,{children:[e(Xe,{className:"site-page-header-responsive",onBack:()=>s.goBack(),title:"Chi ti\u1EBFt b\u1EA3ng t\u1ED5ng k\u1EBFt",extra:e(ru,{summaryInfo:a})}),d("div",{style:{paddingLeft:20},children:[d(j,{bordered:!0,children:[e(j.Item,{label:"L\u1EDBp",children:e("a",{children:r.exports.get(a,"class.name","")})}),e(j.Item,{label:"S\u1ED1 h\u1ECDc sinh",children:r.exports.get(a,"class.students_num",0)}),e(j.Item,{span:3,label:"Kho\u1EA3ng th\u1EDDi gian",children:d("strong",{children:[I(r.exports.get(a,"from_date","")).format("DD/MM/YYYY")," - ",I(r.exports.get(a,"to_date","")).format("DD/MM/YYYY")]})}),e(j.Item,{span:3,label:"Ghi ch\xFA",children:"\u0110i\u1EC3m t\u1ED5ng k\u1EBFt = (\u0111i\u1EC3m trung b\xECnh b\xE0i t\u1EADp * 3 + \u0111i\u1EC3m h\u1EA1nh ki\u1EC3m) / 4"})]}),e(nu,{level:4,style:{marginTop:20,marginBottom:20},children:"B\u1EA3ng t\u1ED5ng k\u1EBFt"}),e(le,{rowKey:"id",loading:i==="loading"||p==="loading"||u==="loading",bordered:!0,columns:E,dataSource:l,pagination:{defaultPageSize:100},scroll:{x:"calc(700px + 50%)"}})]})]})}function ru(n){const{summaryInfo:t}=n,s=q(),[a,l]=o.exports.useState(!1),c=R(m=>m.studySummaryReducer.studentGifts),x=R(m=>m.studySummaryReducer.getStudyGiftsState);return o.exports.useEffect(()=>{t&&s(zs({study_summary_board_id:t.id}))},[s,t]),d(Q,{children:[e(k,{icon:e(mt,{}),type:"primary",onClick:()=>l(!0),children:"DS ch\u1ECDn qu\xE0 t\u1EB7ng"}),e(Te,{visible:a,width:1e3,title:"Danh s\xE1ch ch\u1ECDn qu\xE0 t\u1EB7ng",onCancel:()=>l(!1),onOk:()=>l(!1),children:e(le,{columns:[{title:"H\u1ECDc sinh",key:"student",dataIndex:"",render:function(p,i){return e("strong",{children:r.exports.get(i,"student.name","")})}},{title:"Qu\xE0 ch\u1ECDn",key:"gift",dataIndex:"",render:function(p,i){return d(K,{children:[e(Ue,{width:60,src:r.exports.get(i,"gift.photo.url","error"),style:{marginRight:10}}),e("span",{children:r.exports.get(i,"gift.name","")})]})}},{title:"\u0110i\u1EC3m \u0111i\u1EC1u ki\u1EC7n",key:"condition_point",dataIndex:"",render:function(p,i){return e("strong",{style:{color:"#109444"},children:r.exports.get(i,"gift.condition_point","")})}},{title:"Tr\u1EA1ng th\xE1i",key:"status",dataIndex:"status",render:function(p){return e(ae,{color:p===1?"green":"red",children:p===1?"\u0110\xE3 nh\u1EADn":"Ch\u01B0a nh\u1EADn"})}}],dataSource:r.exports.get(c,"data",[]),loading:x==="loading"})})]})}function iu(){const n=Se(),t=q(),s=ct(),[a,l]=o.exports.useState([]),[c,x]=o.exports.useState([]),[S,m]=o.exports.useState(!1),p=R(y=>y.permissionReducer.permissions),i=R(y=>y.roleReducer.roleInfo),u=R(y=>y.roleReducer.statusGetRoleInfo);o.exports.useEffect(()=>{t(Dt({})),t(Tt(+s.role_id))},[t,s]),o.exports.useEffect(()=>{if(r.exports.get(i,"id",0)===+s.role_id){let y="";const A=[],h=[];p&&p.forEach(f=>{const F=r.exports.get(i,"permissions",[]).findIndex(v=>v.name===f.name)>=0,C=f.name.split("."),b=C[1]!="store"&&C[1]!="update"&&C[1]!="show"&&C[1]!="index"&&C[1]!="destroy";if(y===""||y!=C[0])y=C[0],A.push({object:y,granted:{store:C[1]==="store"?F:!1,update:C[1]==="update"?F:!1,show:C[1]==="show"?F:!1,index:C[1]==="index"?F:!1,destroy:C[1]==="destroy"?F:!1,other:b?[{code:C[1],granted:F}]:[]}});else{const v=A.findIndex(T=>T.object===y);b?A[v].granted.other.push({code:C[1],granted:F}):A[v]=me(re({},A[v]),{granted:{store:C[1]==="store"?F:A[v].granted.store,update:C[1]==="update"?F:A[v].granted.update,show:C[1]==="show"?F:A[v].granted.show,destroy:C[1]==="destroy"?F:A[v].granted.destroy,index:C[1]==="index"?F:A[v].granted.index,other:A[v].granted.other}})}h.push({id:f.id,granted:F})}),l(A),x(h)}},[p,i]);function E(y,A,h,f){let F=A.object+".";f===-1?F+=h:F+=A.granted.other[f].code;const C=p==null?void 0:p.find(b=>b.name===F);if(C===void 0)w.error({message:`Kh\xF4ng th\u1EC3 t\xECm th\u1EA5y permission t\u01B0\u01A1ng \u1EE9ng v\u1EDBi per_name: ${F}!`});else{const b=c.findIndex(v=>v.id===C.id);b>=0&&(c[b].granted=y),x([...c])}}function _(){const y=[],A=[];c.forEach(h=>{const f=r.exports.get(i,"permissions",[]).findIndex(F=>F.id===h.id);f===-1&&h.granted===!0?y.push(h.id):f>=0&&h.granted===!1&&A.push(h.id)}),i&&(m(!0),t(hs({role_id:i.id,permission_add_ids:y,permission_delete_ids:A})).finally(()=>{m(!1),t(Tt(i.id))}))}const g=[{title:"\u0110\u1ED1i t\u01B0\u1EE3ng",dataIndex:"object",key:"name",width:100,render:function(A){return e("a",{children:dn(A)})}},{title:"Quy\u1EC1n",children:[{title:"Xem",dataIndex:"age",key:"age",width:50,render:function(A,h){return e(Q,{children:e(ce,{defaultChecked:h.granted.show,onChange:f=>E(f.target.checked,h,"show",-1)})})}},{title:"Xem DS",dataIndex:"index",key:"index",width:50,render:function(A,h){return e(Q,{children:e(ce,{defaultChecked:h.granted.index,onChange:f=>E(f.target.checked,h,"index",-1)})})}},{title:"Th\xEAm",key:"add",width:50,render:function(A,h){return e(Q,{children:e(ce,{defaultChecked:h.granted.store,onChange:f=>E(f.target.checked,h,"store",-1)})})}},{title:"S\u1EEDa",key:"edit",width:50,render:function(A,h){return e(Q,{children:e(ce,{defaultChecked:h.granted.update,onChange:f=>E(f.target.checked,h,"update",-1)})})}},{title:"Xo\xE1",key:"del",width:50,render:function(A,h){return e(Q,{children:e(ce,{defaultChecked:h.granted.destroy,onChange:f=>E(f.target.checked,h,"destroy",-1)})})}},{title:"Kh\xE1c",key:"other",width:150,render:function(A,h){return e(Q,{children:h.granted.other.map((f,F)=>e("div",{children:e(ce,{defaultChecked:f.granted,onChange:C=>E(C.target.checked,h,"update",F),children:dn(f.code)},f.code)},f.code))})}}]}];return d(ie.Content,{children:[e(Xe,{className:"site-page-header",onBack:()=>n.push("/roles"),title:d(Q,{children:["Ph\xE2n quy\u1EC1n cho ",d("span",{style:{color:"#d35400"},children:[" ",r.exports.get(i,"name","")]})]}),subTitle:"",extra:[e(k,{type:"primary",onClick:()=>_(),loading:S,children:"L\u01B0u thay \u0111\u1ED5i"},"1")]}),e(le,{loading:u==="loading",columns:g,dataSource:a,bordered:!0,pagination:{defaultPageSize:1e3},size:"middle"})]})}function ou(){const n=Se(),t=q(),s=ct(),[a,l]=o.exports.useState([]),[c,x]=o.exports.useState([]),[S,m]=o.exports.useState(!1),p=R(y=>y.permissionReducer.permissions),i=R(y=>y.permissionReducer.userPermissions),u=R(y=>y.permissionReducer.getUserPermissionsState);o.exports.useEffect(()=>{t(Dt({})),t(vt(+s.user_id))},[t,s]),o.exports.useEffect(()=>{if(r.exports.get(i,"id",0)===+s.user_id){let y="",A=0;const h=[],f=[];p&&p.forEach(F=>{let C=!1;for(let P=0;P<r.exports.get(i,"roles",[]).length;P++)if(r.exports.get(i,"roles",[])[P].permissions.findIndex(H=>H.name===F.name)>=0){C=!0;break}const b=r.exports.get(i,"permissions",[]).findIndex(P=>P.name===F.name)>=0;A=C===!0?2:b===!0?1:0;const v=F.name.split("."),T=v[1]!="store"&&v[1]!="update"&&v[1]!="show"&&v[1]!="index"&&v[1]!="destroy";if(y===""||y!=v[0])y=v[0],h.push({object:y,granted:{store:v[1]==="store"?A:0,update:v[1]==="update"?A:0,show:v[1]==="show"?A:0,index:v[1]==="index"?A:0,destroy:v[1]==="destroy"?A:0,other:T?[{code:v[1],granted:A}]:[]}});else{const P=h.findIndex(N=>N.object===y);T?h[P].granted.other.push({code:v[1],granted:A}):h[P]=me(re({},h[P]),{granted:{store:v[1]==="store"?A:h[P].granted.store,update:v[1]==="update"?A:h[P].granted.update,show:v[1]==="show"?A:h[P].granted.show,destroy:v[1]==="destroy"?A:h[P].granted.destroy,index:v[1]==="index"?A:h[P].granted.index,other:h[P].granted.other}})}f.push({id:F.id,granted:b})}),l(h),x(f)}},[p,i]);function E(y,A,h,f){let F=A.object+".";f===-1?F+=h:F+=A.granted.other[f].code;const C=p==null?void 0:p.find(b=>b.name===F);if(C===void 0)w.error({message:`Kh\xF4ng th\u1EC3 t\xECm th\u1EA5y permission t\u01B0\u01A1ng \u1EE9ng v\u1EDBi per_name: ${F}!`});else{const b=c.findIndex(v=>v.id===C.id);b>=0&&(c[b].granted=y),x([...c])}}function _(){const y=[],A=[];c.forEach(h=>{const f=r.exports.get(i,"permissions",[]).findIndex(F=>F.id===h.id);f===-1&&h.granted===!0?y.push(h.id):f>=0&&h.granted===!1&&A.push(h.id)}),i&&(m(!0),t(ps({user_id:i.id,permission_add_ids:y,permission_delete_ids:A})).finally(()=>{m(!1),t(vt(i.id))}))}const g=[{title:"\u0110\u1ED1i t\u01B0\u1EE3ng",dataIndex:"object",key:"name",width:100,render:function(A){return e("a",{children:dn(A)})}},{title:"Quy\u1EC1n",children:[{title:"Xem",dataIndex:"show",key:"show",width:50,render:function(A,h){return e(Q,{children:e(ce,{defaultChecked:h.granted.show>0,disabled:h.granted.show===2,onChange:f=>E(f.target.checked,h,"show",-1)})})}},{title:"Xem DS",dataIndex:"index",key:"index",width:50,render:function(A,h){return e(Q,{children:e(ce,{defaultChecked:h.granted.index>0,disabled:h.granted.index===2,onChange:f=>E(f.target.checked,h,"index",-1)})})}},{title:"Th\xEAm",key:"add",width:50,render:function(A,h){return e(Q,{children:e(ce,{defaultChecked:h.granted.store>0,disabled:h.granted.store===2,onChange:f=>E(f.target.checked,h,"store",-1)})})}},{title:"S\u1EEDa",key:"edit",width:50,render:function(A,h){return e(Q,{children:e(ce,{defaultChecked:h.granted.update>0,disabled:h.granted.update===2,onChange:f=>E(f.target.checked,h,"update",-1)})})}},{title:"Xo\xE1",key:"del",width:50,render:function(A,h){return e(Q,{children:e(ce,{defaultChecked:h.granted.destroy>0,disabled:h.granted.destroy===2,onChange:f=>E(f.target.checked,h,"destroy",-1)})})}},{title:"Kh\xE1c",key:"other",width:150,render:function(A,h){return e(Q,{children:h.granted.other.map((f,F)=>e("div",{children:e(ce,{defaultChecked:f.granted>0,disabled:f.granted===2,onChange:C=>E(C.target.checked,h,"other",F),children:dn(f.code)},f.code)},f.code))})}}]}];return d(ie.Content,{children:[e(Xe,{className:"site-page-header",onBack:()=>n.push("/users"),title:d(Q,{children:["Ph\xE2n quy\u1EC1n cho ",d("span",{style:{color:"#d35400",marginRight:10},children:[" ",r.exports.get(i,"profile.name","")]}),r.exports.get(i,"roles",[]).map(y=>e(ae,{color:"orange",children:y.name},y.id))]}),subTitle:"",extra:[e(k,{type:"primary",onClick:()=>_(),loading:S,children:"L\u01B0u thay \u0111\u1ED5i"},"1")]}),e(Ke,{style:{marginBottom:20,marginTop:20},message:"L\u01B0u \xFD ch\u1EC9 ph\xE2n quy\u1EC1n cho ng\u01B0\u1EDDi d\xF9ng khi mu\u1ED1n m\u1EDF r\u1ED9ng quy\u1EC1n t\u1EEB vai tr\xF2 ng\u01B0\u1EDDi d\xF9ng. V\xEC v\u1EADy n\xEAn ph\xE2n quy\u1EC1n cho vai tr\xF2 tr\u01B0\u1EDBc khi ph\xE2n th\xEAm quy\u1EC1n m\u1EDF r\u1ED9ng cho ng\u01B0\u1EDDi d\xF9ng",type:"warning",closable:!0}),e(le,{scroll:{y:600},loading:u==="loading",columns:g,dataSource:a,bordered:!0,pagination:{defaultPageSize:1e3},size:"middle"}),","]})}function lu(){const n=ct(),t=Se(),s=q(),a=R(l=>l.studentReducer.studentProfile);return o.exports.useEffect(()=>{s(xs(+n.student_id))},[n,s]),e(ie.Content,{children:e(Xe,{className:"site-page-header",onBack:()=>t.push("/students"),title:"H\u1ED3 s\u01A1 h\u1ECDc sinh",children:d(j,{bordered:!0,children:[e(j.Item,{label:"H\u1ECD v\xE0 t\xEAn",children:e("strong",{children:r.exports.get(a,"name","")})}),e(j.Item,{label:"Ng\xE0y sinh",children:I(r.exports.get(a,"birthday","")).format("DD/MM/YYYY")}),e(j.Item,{label:"Gi\u1EDBi t\xEDnh",children:r.exports.get(a,"gender",0)===0?"N\u1EEF":"Nam"}),e(j.Item,{label:"L\u1EDBp h\u1ECDc",children:e("a",{onClick:()=>t.push(`/classes-detail/${r.exports.get(a,"class.id",0)}`),children:r.exports.get(a,"class.name","")})}),e(j.Item,{label:"Ng\xE0y nh\u1EADp h\u1ECDc",children:I(r.exports.get(a,"admission_date","")).format("DD/MM/YYYY")}),e(j.Item,{label:"\u0110i\u1EC3m \u0111\u1EA7u v\xE0o",children:r.exports.get(a,"knowledge_status","")}),e(j.Item,{label:"Tr\u01B0\u1EDDng \u0111ang h\u1ECDc",span:3,children:r.exports.get(a,"school","")}),e(j.Item,{label:"\u0110\u1ECBa ch\u1EC9",span:3,children:r.exports.get(a,"address","")}),e(j.Item,{label:"S\u1EDF th\xEDch",span:3,children:r.exports.get(a,"interests","")}),e(j.Item,{label:"S\u1EDF gh\xE9t",span:3,children:r.exports.get(a,"dislikes","")}),e(j.Item,{label:"\u01AF\u1EDBc m\u01A1",span:3,children:r.exports.get(a,"personality","")}),d(j.Item,{label:"Ph\u1EE5 huynh",span:3,children:[e("a",{children:r.exports.get(a,"parent.profile.name","")})," - ",r.exports.get(a,"parent.phone","")," "]})]})})})}function du(n){const{editting:t,setEditting:s,newInfo:a,show:l,setShow:c}=n,x=q(),[S,m]=o.exports.useState(""),[p,i]=o.exports.useState("");o.exports.useRef(null);const u=R(g=>g.newsReducer.addNewsStatus),E=R(g=>g.newsReducer.updateNewsStatus);o.exports.useEffect(()=>{t===!0&&a?(m(a.title),i(a.content)):(m(""),i(""))},[t,a]),o.exports.useEffect(()=>{(u==="success"||E==="success")&&(x(Ct({per_page:20})),c(!1))},[E,u]);function _(){if(S.length===0){w.error({message:"Ti\xEAu \u0111\u1EC1 kh\xF4ng  \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"});return}const g={title:S,content:p};t?a&&(console.log(g),x(Xs({newId:a.id,data:g}))):x(Js(g))}return e(Q,{children:d(te,{visible:l,onCancel:()=>{c(!1),s(!1)},width:1e3,title:t?"S\u1EEDa tin b\xE0i":"T\u1EA1o tin b\xE0i m\u1EDBi",footer:[e(k,{onClick:()=>{c(!1),s(!1)},children:"Hu\u1EF7 b\u1ECF"},"btn-cancel"),e(k,{type:"primary",onClick:()=>_(),loading:u==="loading",children:t?"C\u1EADp nh\u1EADt":"L\u01B0u l\u1EA1i"},"btn-submit")],children:[e(sa,{style:{marginBottom:10},children:"Ti\xEAu \u0111\u1EC1"}),e(M,{style:{marginBottom:20},placeholder:"Ti\xEAu \u0111\u1EC1",value:S,onChange:g=>m(g.target.value),required:!0}),e(sa,{style:{marginBottom:10},children:"N\u1ED9i dung"}),e(gi,{initialValue:p,onChange:g=>i(g.target.getContent()),init:{height:500,menubar:!1,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help",content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }"}})]})})}const{confirm:uu}=te;function cu(){const n=q(),[t,s]=o.exports.useState(!1),[a,l]=o.exports.useState(!1),[c,x]=o.exports.useState(null),S=R(E=>E.newsReducer.newsList),m=R(E=>E.newsReducer.getNewsListStatus);o.exports.useEffect(()=>{n(Ct({per_page:20}))},[n]);function p(){l(!0),s(!1),x(null)}function i(E){l(!0),s(!0),x(E)}function u(E){uu({title:"X\xE1c nh\u1EADn xo\xE1 tin b\xE0i?",icon:e(Re,{}),onOk(){n(Ws(E)).finally(()=>{n(Ct({per_page:20}))})}})}return d(ie.Content,{children:[e(du,{editting:t,setEditting:s,newInfo:c,show:a,setShow:l}),d(K,{style:{padding:20},children:[e(M,{suffix:e(Ya,{}),style:{width:500},placeholder:"T\xECm theo ti\xEAu \u0111\u1EC1"}),e(k,{type:"primary",onClick:()=>p(),icon:e(De,{}),children:"Th\xEAm tin b\xE0i"})]}),e(ue,{style:{padding:20},className:"demo-loadmore-list",itemLayout:"horizontal",dataSource:r.exports.get(S,"data",[]),renderItem:E=>e(ue.Item,{actions:[e(k,{type:"link",danger:!0,onClick:()=>u(E.id),children:"Xo\xE1"},"list-loadmore-more"),e(k,{type:"link",onClick:()=>i(E),children:"Chi ti\u1EBFt"},"list-loadmore-edit")],children:e(fi,{avatar:!0,title:!1,loading:m==="loading",active:!0,children:e(ue.Item.Meta,{title:e("a",{href:"#",children:E.title}),description:E.created_at})})})})]})}function hu(n){const{editMode:t,setEditMode:s,show:a,setShow:l,giftInfo:c}=n,x=q(),[S,m]=o.exports.useState([]),[p,i]=o.exports.useState(!1),[u]=D.useForm(),E=R(A=>A.giftReducer.addGiftStatus),_=R(A=>A.giftReducer.updateGiftStatus);o.exports.useEffect(()=>{t&&c?(u.setFieldsValue({name:r.exports.get(c,"name",""),type:r.exports.get(c,"type",""),description:r.exports.get(c,"description",""),quantity:r.exports.get(c,"quantity",0),condition_point:r.exports.get(c,"condition_point",0)}),m([c.photo])):(u.setFieldsValue({name:"",type:null,description:"",quantity:0,condition_point:0}),m([]))},[t,c]),o.exports.useEffect(()=>{(_==="success"||E==="success")&&(l(!1),s(!1),x(St({})))},[_,E]);function g(A){m(A)}function y(A){const h=me(re({},A),{photo:S.length>0&&S[0].id});x(t&&c?en({giftId:c.id,data:h}):Zs(h))}return e(te,{title:t?"C\u1EADp nh\u1EADt th\xF4ng tin qu\xE0 t\u1EB7ng":"Th\xEAm qu\xE0 t\u1EB7ng",visible:a,width:1e3,onCancel:()=>{l(!1),s(!1)},footer:[e(k,{htmlType:"reset",form:"gift_form",children:"Hu\u1EF7 b\u1ECF"},"btn-cacel"),e(k,{type:"primary",htmlType:"submit",loading:t?_==="loading":E==="loading",form:"gift_form",children:t?"C\u1EADp nh\u1EADt":"L\u01B0u l\u1EA1i"},"btn-submit")],children:d(D,{labelCol:{span:4},wrapperCol:{span:14},layout:"horizontal",id:"gift_form",form:u,onFinish:y,children:[e(D.Item,{label:"T\xEAn qu\xE0 t\u1EB7ng",name:"name",children:e(M,{})}),e(D.Item,{label:"X\u1EBFp lo\u1EA1i",name:"type",children:d(O,{children:[e(O.Option,{value:1,children:"Lo\u1EA1i 1"}),e(O.Option,{value:2,children:"Lo\u1EA1i 2"}),e(O.Option,{value:3,children:"Lo\u1EA1i 3"})]})}),e(D.Item,{label:"\u0110i\u1EC3m \u0111i\u1EC1u ki\u1EC7n",name:"condition_point",children:e(he,{})}),e(D.Item,{label:"S\u1ED1 l\u01B0\u1EE3ng trong kho",name:"quantity",children:e(he,{})}),e(D.Item,{label:"M\xF4 t\u1EA3",name:"description",children:e(M.TextArea,{})}),e(D.Item,{name:"photo",label:"H\xECnh \u1EA3nh",children:e(dt,{defaultSelected:S,isShow:p,okFunction:g,closeFunction:()=>i(!1),showSelectedList:!0,review:!0,children:e(k,{onClick:()=>i(!0),type:"default",size:"middle",icon:e(Ie,{}),children:"Ch\u1ECDn files"})})})]})})}const{confirm:pu}=te;function Eu(){const n=q(),[t,s]=o.exports.useState(!1),[a,l]=o.exports.useState(!1),[c,x]=o.exports.useState(null),S=R(E=>E.giftReducer.giftList),m=R(E=>E.giftReducer.getGiftListStatus);o.exports.useEffect(()=>{n(St({per_page:20}))},[n]);function p(E){x(E),s(!0),l(!0)}function i(E){pu({title:"X\xE1c nh\u1EADn xo\xE1 qu\xE0 t\u1EB7ng?",icon:e(Re,{}),onOk(){n(tn(E)).finally(()=>{n(St({per_page:20}))})}})}const u=[{title:"\u1EA2nh",key:"image",dataIndex:"",render:function(_,g){return e(Ue,{width:80,height:80,src:r.exports.get(g,"photo.url","error"),fallback:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg=="})}},{title:"T\xEAn q\xF9a t\u1EB7ng",key:"name",dataIndex:"name",render:function(_){return e("span",{style:{color:"#2980b9"},children:_})}},{title:"\u0110i\u1EC3m \u0111i\u1EC1u ki\u1EC7n",key:"condition_point",dataIndex:"condition_point",render:function(_){return e("strong",{style:{color:"#e67e22"},children:_})}},{title:"S\u1ED1 l\u01B0\u1EE3ng",key:"quantity",dataIndex:"quantity"},{title:"Actions",key:"action",dataIndex:"",render:function(_,g){return d(K,{children:[e(J,{title:"Xo\xE1",children:e(k,{type:"link",danger:!0,icon:e(Ut,{}),onClick:()=>i(r.exports.get(g,"id",0))})}),e(J,{title:"S\u1EEDa",children:e(k,{type:"link",icon:e(ut,{}),onClick:()=>p(g)})})]})}}];return d(ie.Content,{children:[e(hu,{show:t,setShow:s,giftInfo:c,editMode:a,setEditMode:l}),d(K,{style:{marginBottom:20},children:[e(M,{style:{width:300},placeholder:"T\xECm theo t\xEAn"}),e(k,{type:"primary",icon:e(De,{}),onClick:()=>{l(!1),s(!0)},children:"Th\xEAm qu\xE0 t\u1EB7ng"})]}),e(le,{columns:u,dataSource:r.exports.get(S,"data",[]),loading:m==="loading"})]})}function mu(n){const{class_id:t}=n,s=q(),[a,l]=o.exports.useState(!1),c=R(E=>E.studentReducer.students),x=R(E=>E.classReducer.addStudentsStatus),[S,m]=o.exports.useState([]);o.exports.useEffect(()=>{x==="success"&&(l(!1),s(Ji()))},[s,x]),o.exports.useEffect(()=>{a&&s(Fe({class_id:0}))},[s,a]);const p=()=>{t&&s(ss({data:{students:S},cID:parseInt(t)}))},i=E=>{m(E)},u=[];return r.exports.get(c,"data",[]).map(E=>{const _=d(Q,{children:[e("strong",{children:E.name})," (",I(E.birthday).format("DD/MM/YYYY"),")"]});u.push({label:_,value:E.id})}),d(Q,{children:[e(k,{type:"primary",icon:e(De,{}),onClick:()=>l(!0),children:"Th\xEAm h\u1ECDc sinh"}),e(Te,{visible:a,title:"Th\xEAm h\u1ECDc sinh v\xE0o l\u1EDBp",closable:!0,onCancel:()=>l(!1),footer:[e(k,{type:"primary",onClick:p,children:"L\u01B0u l\u1EA1i"},"btnSubmit")],children:e(O,{mode:"multiple",style:{width:"100%"},placeholder:"Ch\u1ECDn h\u1ECDc sinh",onChange:i,options:u})})]})}function gu(n){const{class_id:t}=n,s=q(),[a,l]=o.exports.useState(!1),[c,x]=o.exports.useState([]),[S]=D.useForm(),[m,p]=o.exports.useState(!1),i=R(y=>y.classReducer.photos),u=R(y=>y.classReducer.deleteClassPhotosStatus),E=R(y=>y.classReducer.classDetailTabKey);o.exports.useEffect(()=>{(t&&E===He.ALBUM||u==="success")&&s(Bt({class_id:+t}))},[t,E,u,s]),o.exports.useEffect(()=>{a&&x([])},[a]);function _(){if(c.length>0){p(!0);const y=c.map(h=>h.originFileObj),A=[];s(It(y)).then(h=>(r.exports.get(h,"payload",[]).forEach(f=>{A.push(f.id)}),A)).then(h=>{s(es({class_id:+t,file_ids:h})).then(()=>{s(Bt({class_id:+t}))}).finally(()=>{p(!1),l(!1)})})}}function g(y){y&&s(ts(y))}return d(Q,{children:[e(k,{type:"primary",icon:e(Ie,{}),onClick:()=>{l(!0)},children:"T\u1EA3i \u1EA3nh m\u1EDBi"}),e(te,{title:"Ch\u1ECDn \u1EA3nh \u0111\u1EC3 upload",centered:!0,visible:a,onCancel:()=>{l(!1)},footer:null,width:950,maskClosable:!1,children:e(Ae,{spinning:m,children:d(D,{onFinish:_,form:S,children:[e(D.Item,{children:d(Pa,{accept:Ka.map(y=>`.${y}`).join(","),name:"file",multiple:!0,customRequest:pr,onDrop:y=>{},listType:"picture-card",fileList:c,onChange:({fileList:y})=>{x(y)},children:[e("p",{className:"ant-upload-drag-icon",children:e(xi,{})}),e("p",{className:"ant-upload-text",children:"Nh\u1EA5n ho\u1EB7c k\xE9o th\u1EA3 file v\xE0o khu v\u1EF1c \u0111\u1EC3 upload!"})]})}),d(D.Item,{style:{textAlign:"center"},children:[e(k,{type:"primary",htmlType:"submit",children:"Upload"}),e(k,{style:{marginLeft:30},onClick:()=>{l(!1)},children:"Cancel"})]})]})})}),e(K,{style:{backgroundColor:"white",padding:10},size:[10,10],wrap:!0,children:e(Ue.PreviewGroup,{children:r.exports.get(i,"data",[]).map((y,A)=>d("div",{style:{display:"inline-block",position:"relative",padding:10},children:[e(Ue,{width:200,height:200,style:{objectFit:"cover"},alt:"logo",src:r.exports.get(y,"file.url","error"),fallback:on},A),e(k,{style:{position:"absolute",top:10,right:10,backgroundColor:"rgb(189, 195, 199,0.6)"},type:"link",danger:!0,icon:e(Gt,{}),onClick:()=>g(y.id)})]},A))})})]})}const Un="DD-MM-YYYY";function fu(n){const{classID:t,students:s,setCreateMode:a}=n,l=q(),[c,x]=o.exports.useState([]),[S,m]=o.exports.useState(I(new Date).format(Un)),[p,i]=o.exports.useState([]),[u,E]=o.exports.useState(!1),[_,g]=o.exports.useState(!1),[y,A]=o.exports.useState(-1),h=R(V=>V.auth.user),f=R(V=>V.attendanceReducer.addAttendanceStatus);function F(V){i([0]);const B=[];V.target.checked&&s.map(G=>{B.push(G.id)}),E(V.target.checked),i(B)}function C(V){return p.find(G=>G===V)!==void 0}function b(V){const B=p.indexOf(V);B===-1?p.push(V):p.splice(B,1),E(s.length===p.length),i([...p])}function v(V,B){const G=c.findIndex(U=>U.id===`${B}`);G>=0?c[G].comment=V:c.push({id:`${B}`,comment:V,conduct_point:"",reminder:""})}function T(V,B){const G=c.find(U=>U.id===`${B}`);G?G.conduct_point=V.target.value:c.push({id:`${B}`,comment:"",conduct_point:parseFloat(V.target.value).toString(),reminder:""})}function P(V,B){const G=c.find(U=>U.id===`${B}`);G?G.reminder=V:c.push({id:`${B}`,comment:"",conduct_point:"",reminder:V})}function N(V){A(V),g(!0)}function H(){if(!t)return;const V=r.exports.get(h,"id",null);if(!V)w.warn({message:"Ch\u01B0a c\xF3 th\xF4ng tin gi\xE1o vi\xEAn!"});else if(p.length>0){const B=[];p.forEach(U=>{const z=c.find(se=>+se.id===U);z?B.push(z):B.push({id:`${U}`,comment:"",conduct_point:"",reminder:""})});const G={class_id:t,teacher_id:V,students:B,date:I(S,"DD-MM-YYYY").format("YYYY-MM-DD")};l(Jt(G))}else w.warn({message:"Danh s\xE1ch \u0111i\u1EC3m danh tr\u1ED1ng"})}const Z=[{title:"H\u1ECD t\xEAn",dataIndex:"name",key:"name",with:100,fixed:"left",render:function(B,G){return e(J,{title:`Ng\xE0y sinh: ${I(G.birthday).format("DD-MM-YYYY")}`,children:e("strong",{children:B})})}},{title:e("div",{style:{textAlign:"center"},children:d(J,{title:"\u0110i\u1EC3m danh",children:[" ",e(ce,{onChange:F,checked:u})]})}),key:"operation",dataIndex:"",width:10,render:function(B){return e("div",{style:{textAlign:"center"},children:e(ce,{onChange:()=>b(B.id),checked:C(B.id)})})}},{title:"H\u1EA1nh ki\u1EC3m",key:"point",dataIndex:"",width:100,render:function(B){return e(M,{className:"_input_",style:{width:"100%"},type:"number",step:.1,placeholder:"0.0",onChange:G=>T(G,B.id)})}},{title:"Nh\u1EADn x\xE9t",key:"comment",dataIndex:"",render:function(B){return e(rn,{className:"_input_",style:{width:"100%"},autoSize:{minRows:1,maxRows:3},placeholder:"Nh\u1EADn x\xE9t",onChange:({target:{value:G}})=>v(G,B.id)})}},{title:"Nh\u1EAFc nh\u1EDF",key:"reminder",dataIndex:"",render:function(B){return e(rn,{className:"_input_",style:{width:"100%"},autoSize:{minRows:1,maxRows:3},placeholder:"L\u1EDDi nh\u1EAFc nh\u1EDF",onChange:({target:{value:G}})=>P(G,B.id)})}},{title:"",key:"action",dataIndex:"",width:80,render:function(B,G,U){return e(K,{children:e(J,{title:"Nh\u1EAFc nh\u1EDF v\xE0o h\u1ECDc",children:e(k,{icon:e(Mt,{}),type:"link",onClick:()=>N(U)})})})}}];return d("div",{children:[d(K,{style:{paddingTop:20,marginBottom:20},children:["Ng\xE0y h\u1ECDc:",e(ye,{disabledDate:V=>V&&V>I().endOf("day"),defaultValue:I(new Date,Un),format:Un,onChange:V=>m(I(V).format("DD/MM/YYYY"))}),e(k,{type:"primary",icon:e(Qa,{}),onClick:()=>H(),loading:f==="loading",children:"L\u01B0u l\u1EA1i"}),e(k,{type:"primary",danger:!0,icon:e(Gt,{}),onClick:()=>a(!1),children:"Hu\u1EF7 b\u1ECF"})]}),e(Ce,{children:e(pe,{span:24,children:e(le,{dataSource:s,columns:Z,bordered:!0,rowKey:"id",size:"small",pagination:!1})})}),e(mr,{title:"Nh\u1EAFc nh\u1EDF v\xE0o h\u1ECDc",show:_,setShow:g,students:y!==-1?new Array(s[y]):[],uri:hn.ATTENDANCE_REMIND})]},1)}const{RangePicker:xu}=ye;function yu(n){const{classInfo:t,students:s}=n,a=Se(),l=q(),[c,x]=o.exports.useState(!1),S=R(_=>_.lessonReducer.lessons),m=R(_=>_.lessonReducer.getLessonsState),p=R(_=>_.classReducer.classDetailTabKey),i=R(_=>_.attendanceReducer.addAttendanceStatus);o.exports.useEffect(()=>{t&&p===He.LESSON&&l(Me({class_id:t.id}))},[t,p,l]),o.exports.useEffect(()=>{i==="success"&&(x(!1),t&&l(Me({class_id:t.id})))},[i]);function u(_,g){const y=g[0]||void 0,A=g[1]||void 0;t&&l(Me({class_id:t.id,from_date:y,to_date:A}))}const E=[{title:"Ng\xE0y h\u1ECDc",dataIndex:"date",key:"name",render:function(g){return e("strong",{children:I(g).format("DD-MM-YYYY")})}},{title:"Tham gia",dataIndex:"",key:"attendanceNum",render:function(g,y){return d(Q,{children:[e("span",{style:{color:"#d35400"},children:y.attendances.length}),d("span",{children:["/ ",r.exports.get(t,"students_num",0)]})]})}},le.EXPAND_COLUMN,{title:"Ph\u1EA3n h\u1ED3i",dataIndex:"",key:"lesson_feedbacks",render:function(g,y){return d(Q,{children:[e("strong",{style:{color:"#e67e22"},children:r.exports.get(y,"lesson_feedback",[]).length})," ph\u1EA3n h\u1ED3i"]})}},{title:"Actions",dataIndex:"",key:"action",render:function(g,y){return e(K,{children:e(J,{title:"Chi ti\u1EBFt",children:e(k,{type:"link",icon:e(Kn,{onClick:()=>a.push(`/study/${r.exports.get(t,"id",0)}/lesson-detail/${y.id}`)})})})})}}];return e("div",{children:c?e(fu,{classID:r.exports.get(t,"id",0),setCreateMode:x,students:s||[]}):d(Q,{children:[d(K,{children:[e(xu,{style:{marginTop:20,marginBottom:20},onChange:u}),e(k,{type:"primary",icon:e(De,{}),onClick:()=>x(!0),children:"Bu\u1ED5i h\u1ECDc m\u1EDBi"})]}),e(le,{rowKey:"id",loading:m==="loading",columns:E,expandable:{expandedRowRender:_=>e(ue,{className:"comment-list",itemLayout:"horizontal",dataSource:_.lesson_feedback,renderItem:g=>e("li",{children:e(yi,{author:r.exports.get(g,"parent.phone","No name"),avatar:"https://joeschmoe.io/api/v1/random",content:g.feedback})})})},dataSource:r.exports.get(S,"data",[]),pagination:{defaultPageSize:10}})]})})}function Cu(n){const{classInfo:t}=n,s=q(),[a,l]=o.exports.useState(!1),[c,x]=o.exports.useState(!1),[S,m]=o.exports.useState(!1),[p,i]=o.exports.useState(!1),[u,E]=o.exports.useState([]),[_,g]=o.exports.useState([]),y=R(F=>F.lessonReducer.lessons);function A(F){E(F)}function h(F){g(F)}function f(F){x(!0);const C=u.map(T=>T.id),b=_.map(T=>T.id),v={class_id:r.exports.get(t,"id",0),title:F.title,date:I(F.date).format("YYYY-MM-DD"),content_files:C,content_link:F.content_link,result_files:b,result_link:F.result_link,lesson_id:F.lesson_id};s(bs(v)).then(()=>{l(!1),s(ao()),s(rt({class_id:r.exports.get(t,"id",0)}))}).finally(()=>x(!1))}return d(Q,{children:[e(k,{icon:e(De,{}),type:"primary",onClick:()=>l(!0),children:"T\u1EA1o b\xE0i test"}),e(te,{visible:a,closable:!0,onCancel:()=>l(!1),title:"T\u1EA1o b\xE0i test m\u1EDBi",width:800,footer:[e(k,{onClick:()=>l(!1),children:"Hu\u1EF7 b\u1ECF"},"btncancle"),e(k,{loading:c,type:"primary",htmlType:"submit",form:"aForm",children:"L\u01B0u l\u1EA1i"},"btnok")],children:d(D,{id:"aForm",initialValues:{date:I()},labelCol:{span:5},wrapperCol:{span:14},layout:"horizontal",onFinish:f,children:[e(D.Item,{label:"Ti\xEAu \u0111\u1EC1",name:"title",rules:[{required:!0,message:"Ti\xEAu \u0111\u1EC1 b\xE0i test kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng"}],children:e(M,{})}),e(D.Item,{label:"B\xE0i h\u1ECDc ng\xE0y",name:"lesson_id",children:e(O,{showSearch:!0,allowClear:!0,filterOption:(F,C)=>{var b;return((b=C==null?void 0:C.label)==null?void 0:b.toLowerCase().indexOf(F.toLowerCase()))>=0},children:r.exports.get(y,"data",[]).map(F=>e(O.Option,{value:F.id,label:I(F.date,"YYYY-MM-DD").format("DD-MM-YYYY"),children:d("a",{children:[I(F.date,"YYYY-MM-DD").format("DD-MM-YYYY")," "]})},F.id))})}),e(D.Item,{label:"Ng\xE0y",name:"date",children:e(ye,{format:"DD-MM-YYYY"})}),e(D.Item,{label:"Link \u0111\u1EC1 b\xE0i",name:"content_link",children:e(M,{})}),e(D.Item,{label:"Ch\u1ECDn files \u0111\u1EC1 thi",children:e(dt,{defaultSelected:u,isShow:S,okFunction:A,closeFunction:()=>m(!1),review:!0,showSelectedList:!0,children:e(k,{onClick:()=>m(!0),type:"default",size:"middle",icon:e(Ie,{}),children:"Ch\u1ECDn files"})})}),e(D.Item,{label:"Link \u0111\xE1p \xE1n",name:"result_link",children:e(M,{})}),e(D.Item,{label:"Ch\u1ECDn files \u0111\xE1p \xE1n",children:e(dt,{defaultSelected:_,isShow:p,okFunction:h,closeFunction:()=>i(!1),review:!0,showSelectedList:!0,children:e(k,{onClick:()=>i(!0),type:"default",size:"middle",icon:e(Ie,{}),children:"Ch\u1ECDn files"})})})]})})]})}function Su(n){const{classInfo:t,students:s}=n,a=q(),l=Se(),c=R(p=>p.testReducer.testes),x=R(p=>p.testReducer.getTestesStatus),S=R(p=>p.classReducer.classDetailTabKey);o.exports.useEffect(()=>{t&&S===He.TEST&&a(rt({class_id:t.id}))},[t,S]);function m(p){a(rt({class_id:r.exports.get(t,"id",0),page:p}))}return d(Q,{children:[e(K,{style:{paddingTop:20,marginBottom:20},children:e(Cu,{classInfo:t})}),e(ue,{itemLayout:"vertical",size:"large",loading:x==="loading",pagination:{onChange:m,pageSize:20,total:r.exports.get(c,"total",0)},dataSource:r.exports.get(c,"data",[]),renderItem:p=>e(ue.Item,{onClick:()=>l.push({pathname:`/study-tests/${p.id}/${r.exports.get(t,"id",0)}`}),style:{backgroundColor:"white",cursor:"pointer"},actions:[d(K,{onClick:i=>{i.stopPropagation()},children:[e(k,{type:"link",icon:e(un,{})}),s.length]},"act1"),d(K,{onClick:i=>{i.stopPropagation()},children:[e(k,{type:"link",icon:e(Ci,{})})," 0"]},"act2"),d(K,{onClick:i=>{i.stopPropagation()},children:[e(Si,{})," 0"]},"act3")],extra:e(Ue,{width:100,height:100,alt:"logo",src:p.content_files.length>0?p.content_files[0].url:"error",fallback:on,onClick:i=>{i.stopPropagation()}}),children:e(ue.Item.Meta,{title:p.title,description:e(Q,{children:p.date})})},p.id)})]})}function Au(){var S,m;const n=ct(),t=q(),{TabPane:s}=ze,a=R(p=>p.classReducer.classDetailTabKey),l=R(p=>p.classReducer.classInfo),c=R(p=>p.classReducer.getClassStatus),x=R(p=>p.studentReducer.students);return o.exports.useEffect(()=>{n.class_id&&(t(gt({class_id:parseInt(n.class_id)})),t(Fe({class_id:parseInt(n.class_id)})))},[t,n]),e(ie.Content,{children:d(Ae,{spinning:c==="loading",children:[e(Xe,{className:"site-page-header-responsive",onBack:()=>window.history.back(),title:l==null?void 0:l.name,subTitle:"Qu\u1EA3n l\xFD h\u1ECDc t\u1EADp",extra:[e(mu,{class_id:n.class_id},"addStudents")]}),d(j,{size:"small",column:2,style:{backgroundColor:"white",marginTop:20},bordered:!0,children:[e(j.Item,{label:"Gi\xE1o vi\xEAn",children:e("a",{children:r.exports.get(l,"user.profile.name","")})}),e(j.Item,{label:"Ng\xE0y b\u1EAFt \u0111\u1EA7u",children:e("strong",{children:I((S=r.exports.get(l,"start_date",""))!=null?S:void 0).format("DD-MM-YYYY")})}),e(j.Item,{label:"S\u1ED1 h\u1ECDc sinh",children:e("strong",{style:{color:"#e67e22"},children:r.exports.get(l,"students_num",0)})}),e(j.Item,{label:"L\u1ECBch h\u1ECDc",children:d("strong",{children:[(()=>((l==null?void 0:l.schedule)?[...l.schedule]:[]).sort().map(i=>Ft[i]).join(", "))()," ","(",(m=l==null?void 0:l.schedule_time)!=null?m:"Ch\u01B0a c\xF3 th\u1EDDi gian h\u1ECDc",")"]})})]}),d(ze,{activeKey:a,onChange:p=>t(Xi(p)),children:[e(s,{tab:"DS bu\u1ED5i h\u1ECDc",children:e(yu,{classInfo:l,students:r.exports.get(x,"data",[])})},He.LESSON),e(s,{tab:"B\xE0i t\u1EADp",children:e(Su,{classInfo:l,students:r.exports.get(x,"data",[])})},He.TEST),e(s,{tab:"Album \u1EA3nh",children:e(gu,{class_id:n.class_id})},He.ALBUM),d(s,{tab:"B\u1EA3ng t\u1ED5ng k\u1EBFt",children:[e("div",{style:{marginTop:10,marginBottom:20},children:e(gr,{class_id:+n.class_id,classList:null})}),e(fr,{class_id:+n.class_id})]},He.SUMMARY)]})]})})}const{Panel:Aa}=cn,Da={labelCol:{span:3},wrapperCol:{span:12}};function Du(){const n=q(),[t,s]=o.exports.useState(I(new Date)),[a,l]=o.exports.useState(I("2021-12-01"));o.exports.useState(!1);const[c,x]=o.exports.useState([]);o.exports.useState([]);const[S,m]=o.exports.useState(!1),[p]=D.useForm(),i=R(T=>T.dayoffReducer.dayoffs),u=R(T=>T.dayoffReducer.addDayoffState),E=R(T=>T.dayoffReducer.deleteDayoffState),_=R(T=>T.systemSettingReducer.systemSettingInfo),g=R(T=>T.systemSettingReducer.updateSystemSettingState);o.exports.useEffect(()=>{n(nt({})),n(Vs({}))},[n]),o.exports.useEffect(()=>{(u==="success"||E==="success")&&(n(nt({})),n($o()),n(Jo()))},[n,u,E]),o.exports.useEffect(()=>{_&&(p.setFieldsValue(_),x(r.exports.get(_,"app_slide_files",[])))},[_]);function y(T){let P=!1;const N=I(T).format("YYYY-MM-DD");if(r.exports.get(i,"data",[]).forEach(H=>{I(N).isSame(I(H.from_date))&&(P=!0)}),P)return e(Q,{children:e(ae,{color:"#f50",children:"Ng\xE0y ngh\u1EC9"})})}function A(){let T=-1;return r.exports.get(i,"data",[]).forEach(P=>{(t.isSame(I(P.from_date))||t.isSame(I(P.to_date))||t.isBetween(I(P.from_date),I(P.to_date)))&&(T=P.id)}),T}function h(T){l(T)}function f(T){s(T)}function F(){t&&n(Ns({from_date:I(t).format("YYYY-MM-DD"),to_date:I(t).format("YYYY-MM-DD")}))}function C(T){x(T)}function b(){let T=-1;r.exports.get(i,"data",[]).forEach(P=>{(t.isSame(I(P.from_date))||t.isSame(I(P.to_date))||t.isBetween(I(P.from_date),I(P.to_date)))&&(T=P.id)}),T>-1&&n(Ms(T))}function v(T){const P=[];c.forEach(N=>P.push(N.id)),n($s(me(re({},T),{app_slide_files:P})))}return e(ie.Content,{children:d(cn,{defaultActiveKey:["1"],children:[e(Aa,{header:e(K,{style:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},children:e("span",{children:"Th\xF4ng tin trung t\xE2m"})}),children:d(D,me(re({},Da),{id:"setting-form",onFinish:v,form:p,children:[e(D.Item,{name:"name",label:"T\xEAn trung t\xE2m",children:e(M,{})}),e(D.Item,{name:"email",label:"Email",rules:[{type:"email"}],children:e(M,{})}),e(D.Item,{name:"phone",label:"\u0110i\u1EC7n tho\u1EA1i",children:e(M,{})}),e(D.Item,{name:"address",label:"\u0110\u1ECBa ch\u1EC9",children:e(M,{})}),e(D.Item,{name:"logo",label:"Logo file",children:e(an,{children:e(k,{icon:e(Ie,{}),children:"Click to Upload"})})}),e(D.Item,{name:"config",label:"Config file",children:e(an,{children:e(k,{icon:e(Ie,{}),children:"Click to Upload"})})}),e(D.Item,{name:"slide_files",label:"App slide images",children:e(dt,{defaultSelected:c,isShow:S,okFunction:C,closeFunction:()=>m(!1),showSelectedList:!0,review:!0,children:e(k,{onClick:()=>m(!0),type:"default",size:"middle",icon:e(Ie,{}),children:"Ch\u1ECDn files"})})}),e(D.Item,{wrapperCol:me(re({},Da.wrapperCol),{offset:3}),children:e(k,{type:"primary",htmlType:"submit",loading:g==="loading",children:"C\u1EADp nh\u1EADt"})})]}))},"1"),d(Aa,{header:"L\u1ECBch trung t\xE2m",children:[d(K,{children:[e(Ke,{message:`Ng\xE0y \u0111\xE3 ch\u1ECDn: ${t&&t.format("YYYY-MM-DD")}`}),A()>-1?e(k,{loading:E==="loading",type:"primary",danger:!0,icon:e(Ai,{}),onClick:b,children:"Xo\xE1 ng\xE0y ngh\u1EC9"}):e(k,{type:"primary",icon:e(Di,{}),onClick:F,loading:u==="loading",children:"\u0110\u1EB7t ng\xE0y ngh\u1EC9"})]}),e(Ta,{dateCellRender:y,onSelect:f,onPanelChange:h})]},"2")]})})}function bu(){var P;const{class_id:n,lesson_id:t}=ct(),{pathname:s}=Hn(),[a,l]=o.exports.useState(!1),c=Se(),x=q(),[S,m]=o.exports.useState(!1),[p,i]=o.exports.useState([]),u=R(N=>N.attendanceReducer.updateAttendanceStatus),E=R(N=>N.lessonReducer.getLessonInfoSate),_=R(N=>N.lessonReducer.lessonInfo),g=R(N=>N.classReducer.classInfo);o.exports.useEffect(()=>{x(Yt(+t)),x(gt({class_id:parseInt(n),params:{students:!0,active_periodinfo:!1}}))},[x,n]),o.exports.useEffect(()=>{s.includes("edit-attendace")&&l(!0)},[s]),o.exports.useEffect(()=>{if(_&&g){const{students:N=[]}=g,{attendances:H=[],review_lessons:Z=[]}=_,V=N.reduce((B,G)=>{const{id:U,name:z,birthday:se}=G,X=H.find(kt=>kt.student_id===U),_e=Z.find(kt=>kt.student_id===U),_t=(X==null?void 0:X.conduct_point)?X.conduct_point.toString():"",wt=(X==null?void 0:X.reminder)?X.reminder:"",ht=(X==null?void 0:X.comment)?X.comment:"";let pt=0;return X===void 0&&_e&&(pt=_e.reviewed+1),B.push({id:U,name:z,birthday:se,isAttendance:!!X,conduct_point:_t,reminder:wt,comment:ht,reviewd:pt}),B},[]);i(V),m(H.length===N.length)}},[_,g]),o.exports.useEffect(()=>{u==="success"&&(l(!1),x(Yt(+n)))},[n,x,u]);function y(N){const H=N.target.checked;i(p.map(Z=>me(re({},Z),{isAttendance:H}))),m(H)}function A(N){p[N].isAttendance=!p[N].isAttendance;const H=p.reduce((Z,V)=>(V.isAttendance&&Z++,Z),0);i([...p]),m(H===p.length)}function h(N,H){const Z=N.target.value;p[H].conduct_point=Z}function f(N,H){p[H].reminder=N}function F(N,H){p[H].comment=N}function C(){x($t({class_id:parseInt(n)})),l(!1)}function b(){if(!g){w.warn({message:"Th\xF4ng tin l\u1EDBp h\u1ECDc b\u1ECB l\u1ED7i, xin h\xE3y th\u1EED l\u1EA1i"});return}const N=p.reduce((H,Z)=>(Z.isAttendance&&H.push({id:`${Z.id}`,comment:Z.comment,conduct_point:Z.conduct_point,reminder:Z.reminder}),H),[]);if(N.length>0&&_){const H={lesson_id:_.id,students:N};x(Xt(H))}else w.warn({message:"Danh s\xE1ch \u0111i\u1EC3m danh tr\u1ED1ng"})}function v(){}const T=[{title:"H\u1ECD t\xEAn",dataIndex:"name",key:"name",with:100,fixed:"left",render:function(H,Z){return e(J,{title:`Ng\xE0y sinh: ${I(Z.birthday).format("DD-MM-YYYY")}`,children:e("strong",{children:H})})}},{title:e(J,{title:"\u0110i\u1EC3m danh",children:e(ce,{onChange:y,disabled:!a,checked:S})}),key:"operation",dataIndex:"isAttendance",render:function(H,Z,V){return d(K,{style:{textAlign:"center"},children:[e(ce,{onChange:()=>A(V),checked:H,disabled:!a||Z.reviewd===2}),H?null:Z.reviewd===2?e(J,{title:"\u0110\xE3 xem l\u1EA1i b\xE0i ",children:e($e,{style:{color:"#27ae60",marginLeft:5}})}):e(J,{title:"Ch\u01B0a xem l\u1EA1i b\xE0i ",children:e($e,{style:{color:"#e74c3c",marginLeft:5}})})]})}},{title:"H\u1EA1nh ki\u1EC3m",key:"point",dataIndex:"conduct_point",width:100,render:function(H,Z,V){return e(M,{className:"_input_",style:{width:"100%",color:"#34495e"},type:"number",step:.1,placeholder:a?"0.0":"",onChange:B=>h(B,V),defaultValue:H,disabled:!a})}},{title:"Reminder",key:"reminder",dataIndex:"reminder",render:function(H,Z,V){return e(rn,{className:"_input_",style:{width:"100%",color:"#34495e"},autoSize:{minRows:1,maxRows:3},placeholder:a?"L\u1EDDi nh\u1EAFc nh\u1EDF":"",onChange:({target:{value:B}})=>{f(B,V)},defaultValue:H,disabled:!a})}},{title:"Nh\u1EADn x\xE9t",key:"comment",dataIndex:"comment",render:function(H,Z,V){return e(rn,{className:"_input_",style:{width:"100%",color:"#34495e"},autoSize:{minRows:1,maxRows:3},placeholder:a?"Nh\u1EADn x\xE9t":"",onChange:({target:{value:B}})=>{F(B,V)},defaultValue:H,disabled:!a})}},{title:"",key:"action",dataIndex:"",width:80,render:function(H){return d(K,{children:[" ",e(k,{icon:e(Mt,{}),type:"link",onClick:()=>void 0})]})}}];return e(ie.Content,{children:e(Xe,{className:"site-page-header-responsive",onBack:()=>c.goBack(),title:I((_==null?void 0:_.date)||"").format("DD-MM-YYYY"),subTitle:"Chi ti\u1EBFt bu\u1ED5i h\u1ECDc",extra:d(K,{style:{paddingTop:20,marginBottom:20},children:[a&&e(k,{type:"primary",icon:e(Qa,{}),onClick:b,children:"L\u01B0u l\u1EA1i"}),a?e(k,{type:"primary",icon:e(Gt,{}),danger:!0,onClick:()=>C(),children:"Hu\u1EF7 b\u1ECF c\u1EADp nh\u1EADt"}):e(k,{type:"primary",icon:e(La,{}),onClick:()=>l(!0),children:"C\u1EADp nh\u1EADt"})]}),footer:e(Ae,{spinning:E==="loading"||u==="loading",children:e(le,{dataSource:p,columns:T,bordered:!0,rowKey:"id",size:"small",pagination:!1})}),children:d(j,{size:"small",column:2,style:{backgroundColor:"white",marginTop:20},bordered:!0,children:[e(j.Item,{label:"Gi\xE1o vi\xEAn",children:e("a",{children:r.exports.get(g,"user.profile.name","")})}),e(j.Item,{label:"L\u1EDBp h\u1ECDc",children:e("strong",{children:r.exports.get(g,"name","")})}),e(j.Item,{label:"S\u1ED1 h\u1ECDc sinh",children:e("strong",{style:{color:"#e67e22"},children:r.exports.get(g,"students_num",0)})}),e(j.Item,{label:"L\u1ECBch h\u1ECDc",children:d("strong",{children:[(()=>((g==null?void 0:g.schedule)?[...g.schedule]:[]).sort().map(H=>Ft[H]).join(", "))()," ","(",(P=g==null?void 0:g.schedule_time)!=null?P:"Ch\u01B0a c\xF3 th\u1EDDi gian h\u1ECDc",")"]})})]})})})}function Fu(){return d(Q,{children:[e(de,{exact:!0,path:"/",component:ud}),e(de,{path:"/users",component:gd}),e(de,{path:"/employees",component:dd}),e(de,{path:"/salaries",component:Kd}),e(de,{path:"/salaries-create",component:Jd}),e(de,{path:"/classes",component:rd}),e(de,{exact:!0,path:"/study/:class_id",component:Au}),e(de,{exact:!0,path:"/study/:class_id/lesson-detail/:lesson_id",component:bu}),e(de,{path:"/study-tests/:test_id/:class_id",component:Pd}),e(de,{path:"/study-summary",component:fr}),e(de,{path:"/study-summary-detail/:sumamry_id",component:au}),e(de,{path:"/students",component:sd}),e(de,{path:"/students-study-profile/:student_id",component:lu}),e(de,{path:"/payments/tuition",component:Nd}),e(de,{path:"/payments/tuition-detail/:tuition_id",component:jd}),e(de,{path:"/payments/tuition-create",component:eu}),e(de,{path:"/payments/revenue",component:wd}),e(de,{path:"/parents",component:Hl}),e(de,{path:"/permissions",component:pd}),e(de,{path:"/roles",component:Xl}),e(de,{path:"/roles-set-permissions/:role_id",component:iu}),e(de,{path:"/user-set-permissions/:user_id",component:ou}),e(de,{path:"/payments/payment-slips",component:Ql}),e(de,{path:"/news",component:cu}),e(de,{path:"/gifts",component:Eu}),e(de,{path:"/files",component:Cd}),e(de,{path:"/settings",component:Du})]})}const{Content:_u,Footer:wu,Sider:ku}=ie;function Ru(){const[n,t]=o.exports.useState(!1);return d(ie,{children:[d(ku,{collapsed:n,style:{overflow:"auto",height:"100vh",position:"sticky",background:"#fff",borderRight:"solid 1px",borderRightColor:"#ecf0f1",top:0,left:0},children:[e(K,{style:{paddingLeft:20,marginBottom:10,marginTop:10,fontWeight:"bold",color:"#109444",fontSize:22},children:n?"":"Bigtreeland"}),e(Tl,{})]}),d(ie,{className:"site-layout",children:[e(vl,{onClickMenu:()=>t(!n)}),e(_u,{style:{padding:"0 16px",backgroundColor:"#fff"},children:e(Fu,{})}),d(wu,{style:{textAlign:"center",backgroundColor:"#fff"},children:["Bigtreeland 1.0.0 \xA9",new Date().getFullYear()," Developed by FreeTeam"]})]})]})}function Bu(){return R(t=>t.auth.user)?e(Ru,{}):e(Oa,{to:"/login"})}var Iu="/assets/mainlogo.abcd6ca9.png";function vu(){const n=o.exports.useRef(!1);return o.exports.useEffect(()=>(n.current=!0,()=>n.current=!1),[]),n}const{Content:Tu}=ie;function Yu(){const[n]=bi.useForm(),t=q(),[s,a]=o.exports.useState(!1),l=R(p=>p.auth.user),c=R(p=>p.auth.statusUserVerified),x=vu(),S=p=>{a(!0),t(Gn(p)).then(i=>{var u;if(x.current&&a(!1),r.exports.get(i,"payload",null))if(i.meta.requestStatus==="fulfilled")w.success({message:"\u0110\u0103ng nh\u1EADp th\xE0nh c\xF4ng!"});else{const E=i.payload;if(((u=E==null?void 0:E.response)==null?void 0:u.status)===400){const g=n.getFieldValue("phone").split("");g[0]="+84",Fi(Pi(),g.join(""),window.recaptchaVerifier).then(y=>{window.confirmationResult=y}).catch(()=>{})}else w.error({message:r.exports.get(i,"payload.response.data.error","Login fail")})}})};o.exports.useEffect(()=>{t(na())},[t]),o.exports.useEffect(()=>{c==="waiting"?console.log():c==="idle"&&n.resetFields()},[n,c]);function m(){const p=n.getFieldValue("code");console.log("into verify"),window.confirmationResult.confirm(p).then(i=>{const u=i.user;t(Mi({access_token:u.accessToken})),t(na())}).catch(()=>{w.error({message:"X\xE1c nh\u1EADn th\u1EA5t b\u1EA1i"})})}return l?e(Oa,{to:"/"}):e(ie,{children:e(Tu,{children:d("section",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"rgba(240, 242, 245, 0.1)"},children:[d("div",{children:[d("div",{children:[e("h1",{style:{color:"#141414",fontSize:48,fontWeight:700,letterSpacing:-.3,margin:"0px 0px 15px",textAlign:"left",paddingLeft:20,lineHeight:"72px",fontFamily:"sans-serif"},children:"Sign In"}),e("h5",{style:{color:"#8c8c8c",fontSize:20,letterSpacing:-.3,margin:"0px 0px 15px",textAlign:"left",paddingLeft:20,lineHeight:"30px",fontFamily:"sans-serif"},children:"Enter your phone and password to sign in"})]}),d(D,{form:n,style:{display:"block",margin:"auto auto",width:500,paddingTop:20,paddingLeft:20,paddingRight:30,paddingBottom:20},name:"basic",labelCol:{span:6},wrapperCol:{span:18},initialValues:{remember:!0},onFinish:S,layout:"vertical",children:[c!=="waiting"&&d(Q,{children:[e(D.Item,{label:"Phone",name:"phone",rules:[{required:!0,message:Be.REQUIRE}],children:e(M,{})}),e(D.Item,{label:"Password",name:"password",rules:[{required:!0,message:Be.REQUIRE}],children:e(M.Password,{})}),e(D.Item,{name:"remember",valuePropName:"checked",wrapperCol:{offset:0,span:16},children:e(ce,{children:"Remember me"})}),e(D.Item,{children:e(k,{style:{display:"block",width:"100%"},type:"primary",htmlType:"submit",loading:s,children:"Login"})})]}),c==="waiting"&&d(Q,{children:[e(D.Item,{label:"M\xE3 x\xE1c minh",name:"code",rules:[{required:!0,message:Be.REQUIRE}],children:e(M,{})}),e(D.Item,{children:e(k,{style:{display:"block",width:"100%"},type:"primary",loading:s,onClick:m,children:"X\xE1c minh"})})]})]})]}),e("img",{style:{maxWidth:"50%",margin:"auto 0",paddingRight:200},src:Iu,alt:""})]})})})}const Pu="modulepreload",ba={},Lu="/",Nu=function(t,s){return!s||s.length===0?t():Promise.all(s.map(a=>{if(a=`${Lu}${a}`,a in ba)return;ba[a]=!0;const l=a.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const x=document.createElement("link");if(x.rel=l?"stylesheet":Pu,l||(x.as="script",x.crossOrigin=""),x.href=a,document.head.appendChild(x),l)return new Promise((S,m)=>{x.addEventListener("load",S),x.addEventListener("error",m)})})).then(()=>t())},Mu=n=>{n&&n instanceof Function&&Nu(()=>import("./web-vitals.7f423f21.js"),[]).then(({getCLS:t,getFID:s,getFCP:a,getLCP:l,getTTFB:c})=>{t(n),s(n),a(n),l(n),c(n)})};Qi();_i.config({theme:{primaryColor:"#f98115",infoColor:"#109444"}});function Uu(){const n=R(t=>{var s,a;return(a=(s=t.auth.user)==null?void 0:s.access_token)!=null?a:""});return n&&(lt.defaults.headers.common.Authorization="Bearer ".concat(n)),lt.interceptors.response.use(t=>t,t=>{throw r.exports.get(t,"response.status",1)===401&&$n.dispatch(za()),t}),o.exports.useEffect(()=>{Li()||(console.log("init firebase"),Yi())},[]),e(Bi,{children:d(Ii,{children:[e(de,{path:"/login",component:Yu}),e(Bu,{})]})})}wi.render(e(Ga.StrictMode,{children:e(ki,{store:$n,children:e(Ri,{loading:null,persistor:kl,children:e(Uu,{})})})}),document.getElementById("root"));Mu();
