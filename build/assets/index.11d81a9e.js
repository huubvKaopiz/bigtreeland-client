var Ar=Object.defineProperty,Dr=Object.defineProperties;var br=Object.getOwnPropertyDescriptors;var Ot=Object.getOwnPropertySymbols;var Zn=Object.prototype.hasOwnProperty,ea=Object.prototype.propertyIsEnumerable;var Wn=(n,t,s)=>t in n?Ar(n,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[t]=s,ie=(n,t)=>{for(var s in t||(t={}))Zn.call(t,s)&&Wn(n,s,t[s]);if(Ot)for(var s of Ot(t))ea.call(t,s)&&Wn(n,s,t[s]);return n},ge=(n,t)=>Dr(n,br(t));var mn=(n,t)=>{var s={};for(var a in n)Zn.call(n,a)&&t.indexOf(a)<0&&(s[a]=n[a]);if(n!=null&&Ot)for(var a of Ot(n))t.indexOf(a)<0&&ea.call(n,a)&&(s[a]=n[a]);return s};import{g as _a,i as Fr,R as _r,a as ka,b as kr,c as L,d as Ee,n as k,l as r,e as W,f as wr,h as Rr,r as o,u as w,j as d,F as Q,k as e,B as R,M as Te,D as j,T as te,m as jt,o as Br,p as Ir,q as Tr,s as vr,t as Yr,v as Pr,w as Ue,x as D,I as U,y as $e,z as Lr,A as Nr,C as xe,E as Mr,L as re,G as Se,H as zn,J as Ur,K as ln,N as Gr,O as Qr,P as Or,S as wa,Q as pt,U as jr,V as Ra,W as Hr,X as I,Y as Ae,Z as se,_ as De,$ as Ke,a0 as O,a1 as pe,a2 as ye,a3 as le,a4 as V,a5 as X,a6 as Ba,a7 as Ut,a8 as Ce,a9 as he,aa as tn,ab as Ve,ac as Re,ad as ce,ae as bt,af as ue,ag as Gt,ah as zr,ai as Kr,aj as Vr,ak as qr,al as Ia,am as $r,an as Jr,ao as Kn,ap as Ta,aq as Vn,ar as sn,as as Be,at as ve,au as va,av as Xr,aw as ta,ax as sa,ay as Ya,az as gn,aA as Wr,aB as Zr,aC as Pa,aD as ei,aE as ti,aF as si,aG as ni,aH as ai,aI as ri,aJ as Ht,aK as je,aL as ii,aM as oi,aN as Me,aO as La,aP as He,aQ as li,aR as Mt,aS as Na,aT as Ma,aU as Ua,aV as lt,aW as Je,aX as qn,aY as di,aZ as ui,a_ as zt,a$ as ci,b0 as ht,b1 as hi,b2 as pi,b3 as Ei,b4 as mi,b5 as dn,b6 as un,b7 as Ga,b8 as na,b9 as gi,ba as fi,bb as xi,bc as nn,bd as yi,be as Ci,bf as Si,bg as Ai,bh as Di,bi as de,bj as Qa,bk as bi,bl as Fi,bm as _i,bn as ki,bo as wi,bp as Ri,bq as Bi,br as Ii}from"./vendor.6a270048.js";const Ti=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const S of h.addedNodes)S.tagName==="LINK"&&S.rel==="modulepreload"&&a(S)}).observe(document,{childList:!0,subtree:!0});function s(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerpolicy&&(h.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?h.credentials="include":l.crossorigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(l){if(l.ep)return;l.ep=!0;const h=s(l);fetch(l.href,h)}};Ti();const vi={apiKey:"AIzaSyCora6Am-_ZgG5eZujPsxjgBn8SzTf0zzA",authDomain:"bigtreeland-780da.firebaseapp.com",projectId:"bigtreeland-780da",storageBucket:"bigtreeland-780da.appspot.com",messagingSenderId:"113408851209",appId:"1:113408851209:web:666940246bc162986f27d8",measurementId:"G-KG1VB3CFSS"},Yi=()=>{_a().length>0||(Fr(vi),window.recaptchaVerifier=new _r("sign-in-button",{size:"invisible",callback:()=>{}},ka()))},Pi=()=>ka(),Li=()=>_a().length>0,it=kr.create();it.defaults.baseURL="http://45.32.101.219:8000";it.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";it.defaults.headers.common["Content-Type"]="application/json";function Y(n){return it(n)}function Oa(n){const t=new FormData;return n instanceof File?t.append("files[]",n):n instanceof FileList?Array.from(n).forEach(s=>{t.append("files[]",s)}):n.forEach(s=>{t.append("files[]",s)}),it.post("api/files",t,{headers:{"Content-Type":"multipart/form-data"}})}const Ni={user:null,statusUserVerified:"idle",statusChangePassword:"idle"},Qn=L("auth/actionLogin",async(n,{rejectWithValue:t})=>{try{const s=await Y({url:"/api/auth/login",method:"POST",data:n}),a=await Y({url:"/api/auth/me",method:"POST",data:n,headers:{Authorization:`Bearer ${r.exports.get(s,"data.access_token","")}`}});return r.exports.merge(s.data,a.data)}catch(s){return t(s)}}),Mi=L("verifyAccount",async n=>{const t=await Y({url:"/api/auth/verify-account",method:"POST",data:n}),s=await Y({url:"/api/auth/me",method:"POST",headers:{Authorization:`Bearer ${r.exports.get(t,"data.access_token","")}`}});return r.exports.merge(t.data,s.data)}),Vt=L("changePassword",async(n,{rejectWithValue:t})=>{try{return await Y({url:"/api/auth/change-password",method:"POST",data:n})}catch(s){return t(s)}}),ja=Ee({name:"auth",initialState:Ni,reducers:{actionLogout:n=>{n.user=null},actionResetStatusUserVerified:n=>{n.statusUserVerified="idle"}},extraReducers:n=>{n.addCase(Qn.fulfilled,(t,s)=>{t.user=s.payload}).addCase(Qn.rejected,(t,s)=>{var l;((l=s.payload.response)==null?void 0:l.status)===400&&(t.statusUserVerified="waiting")}).addCase(Vt.pending,t=>{t.statusChangePassword="loading"}).addCase(Vt.fulfilled,t=>{t.statusChangePassword="success",k.success({message:"Thay \u0111\u1ED5i m\u1EADt kh\u1EA9u th\xE0nh c\xF4ng!"})}).addCase(Vt.rejected,(t,s)=>{t.statusChangePassword="error";const a=s.payload;console.log(a.response),k.error({message:r.exports.get(a,"response.data.message","C\xF3 l\u1ED7i x\u1EA3y ra!")})})}}),{actionLogout:Ha,actionResetStatusUserVerified:aa}=ja.actions;var Ui=ja.reducer;function Gi(){W.register("locale","vi",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(n){return""},currency:{symbol:"VND"}}),W.locale("vi")}function Qi(){Gi()}const Oi={en:{translation:{"Welcome to React":"Welcome to React and react-i18next"}},fr:{translation:{"Welcome to React":"Bienvenue \xE0 React et react-i18next"}}};wr.use(Rr).init({resources:Oi,lng:"en",interpolation:{escapeValue:!1}});function ji(){const[n,t]=o.exports.useState(!1),s=w(a=>a.auth.user);return d(Q,{children:[e(R,{type:"link",onClick:()=>t(!0),children:"Th\xF4ng tin c\xE1 nh\xE2n"}),e(Te,{title:"Th\xF4ng tin c\xE1 nh\xE2n",width:1e3,visible:n,onCancel:()=>t(!1),cancelText:"",footer:[e(R,{type:"primary",onClick:()=>t(!1),children:"OK"},"btnOK")],children:d(j,{bordered:!0,children:[e(j.Item,{label:"H\u1ECD t\xEAn",children:e("strong",{children:r.exports.get(s,"profile.name","")})}),e(j.Item,{label:"\u0110T",children:r.exports.get(s,"phone","")}),e(j.Item,{label:"Email",children:r.exports.get(s,"profile.email","")}),e(j.Item,{label:"Vai tr\xF2",children:r.exports.get(s,"roles",[]).map(a=>{te,a.name})}),e(j.Item,{label:"Ng\xE0y v\xE0o l\xE0m",children:"---"}),e(j.Item,{span:3,label:"\u0110\u1ECBa ch\u1EC9",children:r.exports.get(s,"profile.address","")})]})})]})}const Hi={attendances:null,getAttendancesStatus:"idle",addAttendanceStatus:"idle",updateAttendanceStatus:"idle"},qt=L("actionGetAttandances",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/attendances",method:"get",params:n})).data}catch(s){return t(s)}}),$t=L("actionAddAttendance",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/attendances",method:"post",data:n})).data}catch(s){return t(s)}}),Jt=L("actionUpdateAttendance",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/attendances/many-updates",method:"put",data:n})).data}catch(s){return t(s)}}),zi=Ee({name:"parent",initialState:Hi,reducers:{actionResetGetAttendancesStatus(n){n.getAttendancesStatus="idle"},actionResetAddAttendanceStatus(n){n.addAttendanceStatus="idle"},actionResetUpdateAttendanceStatus(n){n.updateAttendanceStatus="idle"}},extraReducers:n=>{n.addCase(qt.pending,t=>{t.getAttendancesStatus="loading"}).addCase(qt.fulfilled,(t,s)=>{t.attendances=s.payload,t.getAttendancesStatus="success"}).addCase(qt.rejected,(t,s)=>{t.getAttendancesStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase($t.pending,t=>{t.addAttendanceStatus="loading"}).addCase($t.fulfilled,t=>{t.addAttendanceStatus="success",k.success({message:"L\u01B0u \u0111i\u1EC3m danh th\xE0nh c\xF4ng!"})}).addCase($t.rejected,(t,s)=>{t.addAttendanceStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Jt.pending,t=>{t.updateAttendanceStatus="loading"}).addCase(Jt.fulfilled,t=>{t.updateAttendanceStatus="success",k.success({message:"C\u1EADp nh\u1EADt danh s\xE1ch \u0111i\u1EC3m danh th\xE0nh c\xF4ng!"})}).addCase(Jt.rejected,(t,s)=>{t.updateAttendanceStatus="error";const a=s.payload,l=r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!");r.exports.isPlainObject(l)?k.error({message:"C\xF3 l\u1ED7i x\u1EA3y ra!"}):k.error({message:l})})}});var Ki=zi.reducer,ra="/assets/pp.11c785f8.jpg",ia="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAA9lBMVEX///8YWr1Bpe4QP5ErfNMAUbo7ldcrn+0AKImmuN8LLmkNMnQHHkNCp+8whdkibMgWVbQZSHoONG0ncL4WUaqw1fcONXoAMowWV7ylr8wkaLGqxOoGGzwKK2IreckYUZ4YdtETSZgRQIgASrgOOYNjhszo7Pa/y+gJJVSRp9kATbkAR7hYfsl+mdOvv+LZ4PHK1Ot0kdAmX4qlrMGbr9xYre/k8Py72vgxfLMUPnQfYbSzweNEccUtZMAIIkyjp7AAADcAHGGYpMY5V5ylz/bb7PstesM2iMQqaZcbUpUfYrUJZMYAM7NshLYAAC8AGFkAJnQAIIZ1Tjt+AAAFHUlEQVR4nO2cC1fbNhiGbVYvI8vG1rXE3WAMTFJICIEtlA4w20ova3ft//8zsx3rLuPQCEVf9z7ncA5IOoc8+eQ3kqMkigAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACC5eVZxw9nL1fi96rTWfNFp/PKv+Azf36V4zPvhmdeBdfWznwLei7hCop47t3w3LPhY++Gj2EIQxjCEIYwhCEMYQhDGMIQhjCE4X0YfnoHPn5DF4qBGzpQ9G54Tt3wZL2FyfctvH5e8MadolvDWTZKWkjb2fmx4E2QhoNR7II0LxWfB2g4cyNYKF6IKgZlmDkSLBRLw98rwy+WxaHhiasSFrz9uuB1yZfL8uA7Z4briTvDndLw228KHizLDzCEIQxhCMMwDfkKc1EhY3zghunRYM6RrthgnhvjAzccnbCmsSZ4dFqhmSezerhYFQVumByypg1VZTycNw/VFSx/Rg75PA/cMD1iTRPFMN1g7WppmXhEZpbGI9Z0rMQrn43RRGlPWbNYuodumLGiTJXtRjZlQ5VtSDqoW6XJG7rh6ClrU6NGjJUvRF7ap3RqaI8a0RpFA6ndEjTBG9qjRryIqBeoJWiCN7RHzUgaO5SmryVowje0RU16Kg/Oeb1sQRO+oS1qRFuJuOZsQRO+oS1qxspgUVxb0IRvaIka0TSHG9qCJnxDS9Qkx+roU65uOJMwNKOGl6qGXXXWoCFgaERNelX/PdE6rEFDwNCIGi6SsGC5SpuDhoChETVs2g7HE3W4NWgIGOpRk7JV9yxhyVJfd9agoWCoRQ2ftXnK91C3BA0FQy1qRrVWsR7lstU22B40FAy1qEnEmDSvf6+2wfagoWCoRk3K4qUMUJ4tWWPQUDBUo4bN2WrTlKzXPeU22B408e7PBTvvLi4uNpblj/XIFaqhEjVs1V0FKy9v8VdD0MS7Dwt2HxXEy5Lcl6EcNdxjPhWZbxk79qAhYShHTXLJZRX5PG0IGhKGctSwOKkLxXf7h0lD0JAwlKJmxFbd7A4b65pmDUFDw1BEzZj9D5YmfG5mDUFDw1BEzZ/qJJWu0UFD0NAwFFHDJqnY1rN1+CV7FrSgoWEooobNSVEnvpdqCBoahsod4EpUGIp3oQx5SoaZdmdGusPP72nU6EFDxFC9BRxF8kTU7kvpQUPEUH6vKSpf/OS+S6VPDxoihto9YMWCr1TnGIc2aBhqURMrFpnSZ5xMJWKoRM204fxFiRE0VAyVqJlpr5YTqc8IGiqGStTk2qWWSn1G0FAxlKNmqB2Pkg5mWIKGiqEcNbcW2DwCT8VQipor4xBfzvvMoCFjKKLGmKTyssYMGjKGYiYeG33SW6Zm0JAx5AdHB7nlX9/WScaw6chsaycdww8FhncAhjCE4QcCwzvg0NDlZ0j3CsHtyvCrZXFo6PBzwPH1wcHB9eZ+wSfL0n/iztDZZ7njvV5heBCeoavP48ePtq4DNVzoOxUWqOBWL1jDBb4X46/9vdt52NvqVZM0UMNWfvl7q4VerzbcJ2r4a6+dapJ2qdZwAcNKcPsjNpxXsEvV8Kd/tlvolj9dwoa/dRdl04UgDFdtuLxg0IYu/FZh+O/ni+JEMGRDNyUM2HDTjWC4ho4quBLDzQVw5rcCwyd9dw8ehjCEIQxhCEMYhmo4fO/Z8P2w/UG55caz4Y1vQd9F9F/CKJr2/V2K/f60/QHdAy9uPvPDzYuV+AEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOB/z383a4BbF3H6UgAAAABJRU5ErkJggg==",oa="/assets/ex.0242bcc2.png",Vi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAk1BMVEX////LBgbygYHKAADcfHzPMTHUU1PXZWXfiorMFxfHAAD0hobUKyvknZ3gT0/kn5/WXl7jk5PxeXn71tbgj4/UQED54+P719fWTU366en++Pjwy8vzjIz2r6/329v87+/wxMTccHDVV1fuvLzpqKjiYWHbRUXXNjblXV3iVVXRIiLudHTihobrsrLSOTnfe3vNEhKAWPopAAAE6ElEQVR4nO3daXuaQBSGYfC4UoghcSUtuCRdbGL8/7+uKhBBiAxmPDND3+cbF2q9AziDVLUshBBCCCGEEEIIIYQQQggh0wu91bYjoZfvh6aqOYXWrkNyumsdenhULcoXzRyy5UR33zQkPm5k+U7C1oNGO2pI8oAnoUbEwJYIzAj12VHvZQKzQl2ITzL30bxQkx1V7ibMC7XYipHcTXgm1IG4cKQCz4Ua7Ki+3E1YEKontm8tVL6j3l6omsggVLyjcgjVbkUWoVIij1AlkUmo8FjkEqrbimxCZUQ+oaodlVGoaCtyCtUQWYVKiLxCFURmoQIit5CfyC5kJ/ILuYkKhMxEFUJeohIhK1GNkJMoXfhTSMhIVCXkI0oXbgWFbETpwoEgkI0oW2iTsJCJKF/4ohlRvvCX6IHIRJQutOlBXMhBvIGw1kb8YaDQpt/iREOF9CJMNFO4N/5pic5sDBXatPn9t/VNoJapwv2eSoONW93m1VRhjBSobbBQ7M8AIYQQQgghhBBCCCGEl4TnM+RPV1Xcr+QmeghpM/xo1F7tMs+TqJ+s8EbLcUE/Gp7Vv0RUKPTyN4veZukTpfvcmtDbZghnK4+t9BT6hVsuBvQJYu2eNrDJQmseQ0oQwTL9TIPZQmty3B3LENa7Y6owmO8L0hv7OeE8Ck6P0/1sF7asmdbC3uHDs24vjJeOHyFKEW/7FSsvSh5nTrld+G3WTRtrOlokwsPf/zAgTOLFTkbox4PdOnmgfk7YFhsONREeFlfx4ntOeFzjJMR57iAVnSrpI9zEi15BaJOdHI3dpgpt5zleHpotHMeLryXCdN1TXihyFGokTLfTrERoO/HyJPtCOxJ7odFAeHd8kk46ylGpMB4xguxKa5I072n+WurvNgN3mY4I6+yOeBKGRf6poebCXIF7hdAzSdjODeonYTIdMF/YjmfXRWE8IEam76WTdAJdGC0oXg6zu3Dw9Bg37RohDKK37sf3uxSEy3h5kRsPnTTdR4vn5XLZ67qUeaKFOc0iXu6bOafZFkft83lpMqWxxmYKS07uzs4t0hOr0NBzi0vCw8mxM54nD7Q8Oz9sgHDhdrrtRfo4ITVPaAWZt2ksN/8+TTOE2dJRr6nC6GNYb6jweVd4z9sA4UhUOPU3JdctDBDao31+2Vqitj+Ke+1t97MdKq68eL1JD6F94S0IoeuHYkBcA4YQQgghhBBCCCGE8L8Xln7C5Yq0FVJn1ZWStu95U1B9X6Hedb1uQbL+AW2vPUkTanv9EELhmi/U9ziU9Vp6eUqhcjwc96RU8aX2mNPcUsgThBBC+H8Lb/TiqY+QVqP+VQ1qEU2cta0bL6z3sy4QSgjC2jVf+GSMcF5939Lq/byS0v+LMbguY0b8q+c0tYCYl0IIIYTNFpJTmYy/jcIRv1d9Vxk/nahQ+Fx913rzM+2EQwgh1F7Y/OPQq76r4ULyvapco0cLoZOnrwMxa4MQQgghhBBCCOUk40T9K8Kyb4mRW71LRdJLv1TjhkVSppfXRhRVP8Wvdvmbqm4tFHjD68tNFW5EIpbfJVO4EVk2oWUFO1VE2sn6b7oVhYr2U6KQB7gnyng/oj5wM+UCHr65Q8pFiFo+Z8YwUGRad5xrL2tfleOuq5+U5MLh/bbD03blsR2BCCGEEEIIIYQQQgghhBBCN+sfypGbO0fYqnMAAAAASUVORK5CYII=",qi="/assets/ud.b748f361.png";const za=["jpeg","jpg","gif","png","tiff","jfif","raw"],an="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg==",et={ppt:ra,pptx:ra,doc:ia,docx:ia,xls:oa,xlsx:oa,pdf:Vi,undefined:qi},Ft=["Ch\u1EE7 nh\u1EADt","Th\u1EE9 hai","Th\u1EE9 ba","Th\u1EE9 t\u01B0","Th\u1EE9 n\u0103m","Th\u1EE9 s\xE1u","Th\u1EE9 b\u1EA3y"],la="DD/MM/YYYY";var ee=(n=>(n.ADMIM="admin",n.TEACHER="teacher",n.TEACHER2="teacher2",n.SALE="sale",n.PARENT="parent",n.EMPLOYEE="employee",n.ON_MANAGER="on_manager",n))(ee||{}),We=(n=>(n[n.ADMIM=1]="ADMIM",n[n.TEACHER=2]="TEACHER",n[n.TEACHER2=3]="TEACHER2",n[n.SALE=3]="SALE",n[n.PARENT=5]="PARENT",n[n.ON_MANAGER=6]="ON_MANAGER",n[n.EMPLOYEE=7]="EMPLOYEE",n))(We||{}),cn=(n=>(n.TUITION_FEE="main/tuition",n.ATTENDANCE_REMIND="main/study/lesson",n.NOTIFICATIONS="main/notification",n.SUBMIT_TEST_RESULT_REMIND="main/study/test",n.SUMMARY_BOARD="main/study/summary-board",n))(cn||{}),Oe=(n=>(n.TEST="2",n.LESSON="1",n.ALBUM="3",n.SUMMARY="4",n))(Oe||{});const $i={classes:null,classInfo:null,classDetailTabKey:Oe.LESSON,recentTestAdded:null,photos:null,getClassStatus:"idle",getClassesStatus:"idle",addClassStatus:"idle",updateClassStatus:"idle",addStudentsStatus:"idle",getClassPhotosStatus:"idle",addClassPhotosStatus:"idle",deleteClassPhotosStatus:"idle"},Et=L("actionGetClass",async(n,{rejectWithValue:t})=>{const{class_id:s,params:a}=n;try{return(await Y({url:`/api/classes/${s}`,method:"get",params:a})).data}catch(l){return t(l)}}),we=L("actionGetClasses",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/classes",method:"get",params:n})).data}catch(s){return t(s)}}),Xt=L("actionAddClass",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/classes",method:"post",data:n})).data}catch(s){return t(s)}}),Wt=L("actionUdpateClass",async(n,{rejectWithValue:t})=>{try{const{data:s,cID:a}=n;return(await Y({url:`/api/classes/${a}`,method:"put",data:s})).data}catch(s){return t(s)}}),Bt=L("actionGetClassPhotos",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/albums",method:"get",params:n})).data}catch(s){return t(s)}}),Zt=L("actionAddClassPhotos",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/albums",method:"post",data:n})).data}catch(s){return t(s)}}),es=L("actionDeleteClassPhoto",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/albums/${n}`,method:"delete"})).data}catch(s){return t(s)}}),ts=L("actionAddStudents",async(n,{rejectWithValue:t})=>{try{const{data:s,cID:a}=n;return(await Y({url:`/api/classes/add-students/${a}`,method:"post",data:s})).data}catch(s){return t(s)}}),Ka=Ee({name:"parent",initialState:$i,reducers:{actionResetGetParents(n){n.getClassesStatus="idle"},actionResetAddClass(n){n.addClassStatus="idle"},actionResetUpdateClass(n){n.updateClassStatus="idle"},actionSetClassStateNull(n){n.classInfo=null},actionResetAddStudent(n){n.addStudentsStatus="idle"},actionSetClassDetailTabKey(n,t){n.classDetailTabKey=t.payload},actionAddClassPhotos(n){n.addClassPhotosStatus="idle"},actionDeleteClassPhoto(n){n.deleteClassPhotosStatus="idle"},actionGetClassPhotos(n){n.getClassPhotosStatus="idle"}},extraReducers:n=>{n.addCase(we.pending,t=>{t.getClassesStatus="loading"}).addCase(we.fulfilled,(t,s)=>{t.classes=s.payload,t.getClassesStatus="success"}).addCase(we.rejected,(t,s)=>{t.getClassesStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Et.pending,t=>{t.getClassStatus="loading"}).addCase(Et.fulfilled,(t,s)=>{t.classInfo=s.payload,t.getClassStatus="success"}).addCase(Et.rejected,(t,s)=>{t.getClassStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Xt.pending,t=>{t.addClassStatus="loading"}).addCase(Xt.fulfilled,t=>{t.addClassStatus="success",k.success({message:"Th\xEAm l\u1EDBp h\u1ECDc th\xE0nh c\xF4ng!"})}).addCase(Xt.rejected,(t,s)=>{t.addClassStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Wt.pending,t=>{t.updateClassStatus="loading"}).addCase(Wt.fulfilled,t=>{t.updateClassStatus="success",k.success({message:"S\u1EEDa th\xF4ng tin l\u1EDBp h\u1ECDc th\xE0nh c\xF4ng!"})}).addCase(Wt.rejected,(t,s)=>{t.updateClassStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(ts.pending,t=>{t.addStudentsStatus="loading"}).addCase(ts.fulfilled,t=>{t.addStudentsStatus="success",k.success({message:"Th\xEAm h\u1ECDc sinh th\xE0nh c\xF4ng!"})}).addCase(ts.rejected,(t,s)=>{t.addStudentsStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Bt.pending,t=>{t.getClassPhotosStatus="loading"}).addCase(Bt.fulfilled,(t,s)=>{t.getClassPhotosStatus="success",t.photos=s.payload}).addCase(Bt.rejected,(t,s)=>{t.getClassPhotosStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Zt.pending,t=>{t.addClassPhotosStatus="loading"}).addCase(Zt.fulfilled,t=>{t.addClassPhotosStatus="success",k.success({message:"Th\xEAm \u1EA3nh th\xE0nh c\xF4ng!"})}).addCase(Zt.rejected,(t,s)=>{t.addClassPhotosStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(es.pending,t=>{t.deleteClassPhotosStatus="loading"}).addCase(es.fulfilled,t=>{t.deleteClassPhotosStatus="success",k.success({message:"Xo\xE1 \u1EA3nh th\xE0nh c\xF4ng!"})}).addCase(es.rejected,(t,s)=>{t.deleteClassPhotosStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})})}}),{actionSetClassStateNull:da,actionResetAddStudent:Ji,actionSetClassDetailTabKey:Xi}=Ka.actions;var Wi=Ka.reducer;const Zi={employeeInfo:null,employees:null,getEmployeeInfoStatus:"idle",getEmployeesStatus:"idle",addEmployeeStatus:"idle",updateEmployeeStatus:"idle",deleteEmployeeStatus:"idle"},ss=L("actionGetEmployeeInfo",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/users/${n}`,method:"get"})).data}catch(s){return t(s)}}),Ie=L("actionGetEmployees",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/users",method:"get",params:n})).data}catch(s){return t(s)}}),ns=L("actionAddEmployee",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/users",method:"post",data:n})).data}catch(s){return t(s)}}),as=L("actionUpdateEmployee",async(n,{rejectWithValue:t})=>{try{const{data:s,eID:a}=n;return(await Y({url:`/api/users/${a}`,method:"put",data:s})).data}catch(s){return t(s)}}),fn=L("actionDeleteEmployee",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/users/${n}`,method:"delete"})).data}catch(s){return t(s)}}),Va=Ee({name:"employee",initialState:Zi,reducers:{actionGetEmployees(n){n.getEmployeesStatus="idle"},actionAddEmployee(n){n.addEmployeeStatus="idle"},actionUpdateEmployee(n){n.updateEmployeeStatus="idle"},actionResetAddEmployeeStatus(n){n.addEmployeeStatus="idle"},actionResetUpdateEmployeeSatus(n){n.updateEmployeeStatus="idle"},actionResetDeeleteEmployeeSatus(n){n.deleteEmployeeStatus="idle"},actionSetListEmployeesNull(n){n.getEmployeesStatus="idle",n.employees=null}},extraReducers:n=>{n.addCase(ss.pending,t=>{t.getEmployeeInfoStatus="loading"}).addCase(ss.fulfilled,(t,s)=>{t.employeeInfo=s.payload,t.getEmployeeInfoStatus="success"}).addCase(ss.rejected,(t,s)=>{t.getEmployeeInfoStatus="error",t.employeeInfo=null;const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Ie.pending,t=>{t.getEmployeesStatus="loading"}).addCase(Ie.fulfilled,(t,s)=>{t.employees=s.payload,t.getEmployeesStatus="success"}).addCase(Ie.rejected,(t,s)=>{t.getEmployeesStatus="error",t.employees=null;const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(ns.pending,t=>{t.addEmployeeStatus="loading"}).addCase(ns.fulfilled,t=>{t.addEmployeeStatus="success",k.success({message:"Th\xEAm nh\xE2n vi\xEAn th\xE0nh c\xF4ng"})}).addCase(ns.rejected,(t,s)=>{t.addEmployeeStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(as.pending,t=>{t.updateEmployeeStatus="loading"}).addCase(as.fulfilled,t=>{t.updateEmployeeStatus="success",k.success({message:"C\u1EADp nh\u1EADt th\xF4ng tin nh\xE2n vi\xEAn th\xE0nh c\xF4ng"})}).addCase(as.rejected,(t,s)=>{t.updateEmployeeStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(fn.pending,t=>{t.deleteEmployeeStatus="loading"}).addCase(fn.fulfilled,t=>{t.deleteEmployeeStatus="success",k.success({message:"V\xF4 hi\u1EC7u ho\xE1 t\xE0i kho\u1EA3n vi\xEAn th\xE0nh c\xF4ng"})}).addCase(fn.rejected,(t,s)=>{t.deleteEmployeeStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})})}}),{actionResetAddEmployeeStatus:Gu,actionResetDeeleteEmployeeSatus:Qu,actionResetUpdateEmployeeSatus:eo,actionSetListEmployeesNull:to}=Va.actions;var so=Va.reducer;const no={recentUploaded:null,recentFileTestUploaded:null,files:{},statusGetFiles:"idle",statusDeleteFile:"idle",statusUploadFile:"idle"},Le=L("actionGetListFile",async(n,{rejectWithValue:t})=>{try{return(await Y({method:"get",url:"/api/files",params:n})).data}catch(s){return t(s)}}),It=L("actionUploadFile",async(n,{rejectWithValue:t})=>{try{return(await Oa(n)).data}catch(s){return t(s)}}),xn=L("actionUploadFileTest",async(n,{rejectWithValue:t})=>{try{return(await Oa(n)).data}catch(s){return t(s)}}),rs=L("actionDeleteUploadFile",async(n,{rejectWithValue:t})=>{try{return(await Y({method:"delete",url:`/api/files/${n}`})).data}catch(s){return t(s)}}),qa=Ee({name:"files",initialState:no,reducers:{resetGetFileStatus(n){n.statusGetFiles="idle"},resetDeleteFileStatus(n){n.statusDeleteFile="idle"},resetUploadFileStatus(n){n.statusUploadFile="idle"},resetRecentFileTestUploaded(n){n.recentFileTestUploaded=null}},extraReducers:n=>{n.addCase(Le.fulfilled,(t,s)=>{t.files=s.payload,t.statusGetFiles="success"}).addCase(Le.pending,t=>{t.statusGetFiles="loading"}).addCase(Le.rejected,(t,s)=>{t.statusGetFiles="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(It.fulfilled,t=>{k.success({message:"Upload file th\xE0nh c\xF4ng!"}),t.statusUploadFile="success"}).addCase(It.pending,t=>{t.statusUploadFile="loading"}).addCase(It.rejected,(t,s)=>{t.statusUploadFile="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(xn.fulfilled,(t,s)=>{console.log(s.payload),k.success({message:"Upload file th\xE0nh c\xF4ng!"}),t.recentFileTestUploaded=s.payload,t.statusUploadFile="success"}).addCase(xn.pending,t=>{t.statusUploadFile="loading"}).addCase(xn.rejected,(t,s)=>{t.statusUploadFile="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(rs.fulfilled,t=>{t.statusDeleteFile="success"}).addCase(rs.pending,t=>{t.statusDeleteFile="loading"}).addCase(rs.rejected,(t,s)=>{t.statusDeleteFile="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})})}}),{resetDeleteFileStatus:ua,resetGetFileStatus:$a,resetUploadFileStatus:On,resetRecentFileTestUploaded:ao}=qa.actions;var ro=qa.reducer;const io={parents:null,getParentsStatus:"idle",addParentStatus:"idle",updateParentStatus:"idle",deleteParentStatus:"idle"},ze=L("actionGetParents",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/users?role_name=${ee.PARENT}`,method:"get",params:n})).data}catch(s){return t(s)}}),is=L("actionAddParent",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/users",method:"post",data:n})).data}catch(s){return t(s)}}),os=L("actionUpdateParent",async(n,{rejectWithValue:t})=>{try{const{data:s,uID:a}=n;return(await Y({url:`/api/users/${a}`,method:"put",data:s})).data}catch(s){return t(s)}}),yn=L("actionDeleteParent",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/users/${n}`,method:"delete"})).data}catch(s){return t(s)}}),oo=Ee({name:"parent",initialState:io,reducers:{actionResetStatusDeleteParent(n){n.deleteParentStatus="idle"}},extraReducers:n=>{n.addCase(ze.pending,t=>{t.getParentsStatus="loading"}).addCase(ze.fulfilled,(t,s)=>{t.parents=s.payload,t.getParentsStatus="success"}).addCase(ze.rejected,(t,s)=>{t.getParentsStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(is.pending,t=>{t.addParentStatus="loading"}).addCase(is.fulfilled,t=>{t.addParentStatus="success",k.success({message:"Th\xEAm ph\u1EE5 huynh th\xE0nh c\xF4ng!"})}).addCase(is.rejected,(t,s)=>{t.addParentStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(os.pending,t=>{t.updateParentStatus="loading"}).addCase(os.fulfilled,t=>{t.updateParentStatus="success",k.success({message:"S\u1EEDa th\xF4ng tin ph\u1EE5 huynh th\xE0nh c\xF4ng!"})}).addCase(os.rejected,(t,s)=>{t.updateParentStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(yn.pending,t=>{t.deleteParentStatus="loading"}).addCase(yn.fulfilled,t=>{t.deleteParentStatus="success",k.success({message:"Xo\xE1 ph\u1EE5 huynh th\xE0nh c\xF4ng!"})}).addCase(yn.rejected,(t,s)=>{t.deleteParentStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})})}});var lo=oo.reducer,$n=(n=>(n[n["C\u1ED1 \u0111\u1ECBnh"]=0]="C\u1ED1 \u0111\u1ECBnh",n[n["Ph\xE1t sinh"]=1]="Ph\xE1t sinh",n))($n||{});const Ja=["Ch\u01B0a x\u1EED l\xFD","\u0110\xE3 x\u1EED l\xFD"],uo={payments:null,getPaymentStatus:"idle",addPaymentStatus:"idle",updatePaymentStatus:"idle",deletePaymentStatus:"idle"},Ge=L("actionGetPayments",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/payment-slips",method:"get",params:n})).data}catch(s){return t(s)}}),ls=L("actionAddNewPayment",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/payment-slips",method:"post",data:n})).data}catch(s){return t(s)}}),ds=L("actionUpdatePaymentStatus",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/payment-slips/update-status",method:"post",data:n})).data}catch(s){return t(s)}}),us=L("actionDeletePayment",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/payment-slips/${n}`,method:"delete"})).data}catch(s){return t(s)}}),Xa=Ee({name:"payments",initialState:uo,reducers:{resetGetPaymentStatus(n){n.getPaymentStatus="idle"},resetAddPaymentStatus(n){n.addPaymentStatus="idle"},resetUpdatePaymentStatus(n){n.updatePaymentStatus="idle"},actionDeletePayment(n){n.deletePaymentStatus="idle"},actionUpdatePaymentStatus(n){n.updatePaymentStatus="idle"}},extraReducers:n=>{n.addCase(Ge.fulfilled,(t,s)=>{t.payments=s.payload,t.getPaymentStatus="success"}).addCase(Ge.rejected,(t,s)=>{t.getPaymentStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Ge.pending,t=>{t.getPaymentStatus="loading"}).addCase(ls.pending,t=>{t.addPaymentStatus="loading"}).addCase(ls.fulfilled,t=>{t.addPaymentStatus="success",k.success({message:"Th\xEAm chi ti\xEAu th\xE0nh c\xF4ng!"})}).addCase(ls.rejected,(t,s)=>{t.addPaymentStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(ds.fulfilled,t=>{t.updatePaymentStatus="success"}).addCase(ds.pending,t=>{t.updatePaymentStatus="loading"}).addCase(ds.rejected,(t,s)=>{t.updatePaymentStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(us.pending,t=>{t.deletePaymentStatus="loading"}).addCase(us.fulfilled,t=>{t.deletePaymentStatus="success",k.success({message:"Xo\xE1 chi ti\xEAu th\xE0nh c\xF4ng!"})}).addCase(us.rejected,(t,s)=>{t.deletePaymentStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})})}}),{resetGetPaymentStatus:co,resetAddPaymentStatus:ho,resetUpdatePaymentStatus:po}=Xa.actions;var Eo=Xa.reducer;const mo={permissions:[],userPermissions:null,getUserPermissionsState:"idle",setPermissionsState:"idle",getPermissionsState:"idle"},At=L("actionGetPermissions",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/permissions",method:"get"})).data}catch{return t}}),Tt=L("actionGetUserPermissions",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/permissions/list-permission-of-user/${n}`,method:"get"})).data}catch(s){return t(s)}}),cs=L("actionSetRolePermissions",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/permissions/set-permission-for-role",method:"post",data:n})).data}catch(s){return t(s)}}),hs=L("actionSetUserPermissions",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/permissions/set-permission-for-user",method:"post",data:n})).data}catch(s){return t(s)}}),go=Ee({name:"permissions",initialState:mo,reducers:{actionGetPermissions(n){n.getPermissionsState="idle"},actionSetRolePermissions(n){n.setPermissionsState="idle"},actionSetUserPermissions(n){n.setPermissionsState="idle"},actionGetUserPermissions(n){n.getUserPermissionsState="idle"}},extraReducers:n=>{n.addCase(At.fulfilled,(t,s)=>{t.getPermissionsState="success",t.permissions=s.payload}).addCase(At.rejected,(t,s)=>{t.getPermissionsState="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Tt.pending,t=>{t.getUserPermissionsState="loading"}).addCase(Tt.fulfilled,(t,s)=>{t.userPermissions=s.payload,t.getUserPermissionsState="success"}).addCase(Tt.rejected,(t,s)=>{t.getUserPermissionsState="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(cs.pending,t=>{t.setPermissionsState="loading"}).addCase(cs.fulfilled,t=>{t.setPermissionsState="success",k.success({message:"Set quy\u1EC1n th\xE0nh c\xF4ng!"})}).addCase(cs.rejected,(t,s)=>{t.setPermissionsState="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(hs.pending,t=>{t.setPermissionsState="loading"}).addCase(hs.fulfilled,t=>{t.setPermissionsState="success",k.success({message:"Set quy\u1EC1n th\xE0nh c\xF4ng!"})}).addCase(hs.rejected,(t,s)=>{t.setPermissionsState="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})})}});var fo=go.reducer;const xo={roles:[],roleInfo:null,statusGetRoleInfo:"idle",statusCreateRole:"idle",statusGetRole:"idle",statusDeleteRole:"idle",statusUpdateRole:"idle"},vt=L("actionGetRoleInfo",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/roles/${n}`,method:"get"})).data}catch(s){return t(s)}}),Ye=L("actionGetRoles",async(n,{rejectWithValue:t})=>{try{return(await Y({url:n&&`/api/roles/${n}`||"/api/roles",method:"get"})).data}catch(s){return t(s)}}),ps=L("actionDeleteRoles",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/roles/${n}`,method:"delete"})).data}catch(s){return t(s)}}),Es=L("actionCreateRole",async(n,{rejectWithValue:t})=>{try{const s=await Y({url:"/api/roles",method:"post",data:{name:n.name,description:n.description}}),a=s.data;return n.user_ids.length>0&&await Y({url:"/api/roles/set-role-for-list-user",method:"post",data:{role_id:a.id,add_user_ids:n.user_ids,remove_user_ids:[]}}),n.permission_ids.length>0&&await Y({url:"/api/permissions/set-permission-for-role",method:"post",data:{role_id:a.id,permission_add_ids:n.permission_ids,permission_delete_ids:[]}}),s.data}catch(s){return t(s)}}),ms=L("actionSetRoleForUsers",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/roles/set-role-for-list-user",method:"post",data:n})).data}catch(s){return t(s)}}),Cn=L("actionUpdateRole",async(n,{rejectWithValue:t})=>{try{let s;return n.role_name&&(s=await Y({url:`/api/roles/${n.role_id}`,method:"put",data:{name:n.role_name}})),(n.add_user_ids||n.remove_users_ids)&&(s=await Y({url:"/api/roles/set-role-for-list-user",method:"post",data:{role_id:n.role_id,add_user_ids:n.add_user_ids,remove_users_ids:n.remove_users_ids}})),n.permission&&(s=await Y({url:"/api/permissions/set-permission-for-role",method:"post",data:{role_id:n.role_id,permission_add_ids:n.permission.added,permission_delete_ids:n.permission.removed}})),s==null?void 0:s.data}catch(s){return t(s)}}),gs=L("actionUpdateSettingMenuOfRole",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/roles/${n.role_id}`,method:"put",data:{menues:n.menues}})).data}catch(s){return t(s)}}),Wa=Ee({name:"roles",initialState:xo,reducers:{actionResetStatusGetRole(n){n.statusGetRole="idle"},actionResetStatusCreateRole(n){n.statusCreateRole="idle"},actionResetStatusDeleteRole(n){n.statusDeleteRole="idle"},actionResetStatusUpdateRole(n){n.statusUpdateRole="idle"},actionSetRoleForUsers(n){n.statusUpdateRole="idle"}},extraReducers:n=>{n.addCase(Ye.fulfilled,(t,s)=>{t.roles=s.payload,t.statusGetRole="success"}).addCase(Ye.pending,t=>{t.statusGetRole="loading"}).addCase(Ye.rejected,(t,s)=>{t.statusGetRole="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(vt.fulfilled,(t,s)=>{t.roleInfo=s.payload,t.statusGetRoleInfo="success"}).addCase(vt.pending,t=>{t.statusGetRoleInfo="loading"}).addCase(vt.rejected,(t,s)=>{t.statusGetRoleInfo="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Es.pending,t=>{t.statusCreateRole="loading"}).addCase(Es.fulfilled,t=>{t.statusCreateRole="success",k.success({message:"T\u1EA1o vai tr\xF2 m\u1EDBi th\xE0nh c\xF4ng!"})}).addCase(Es.rejected,(t,s)=>{t.statusCreateRole="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(ps.fulfilled,t=>{t.statusDeleteRole="success",k.success({message:"Xo\xE1 vai tr\xF2 th\xE0nh c\xF4ng!"})}).addCase(ps.pending,t=>{t.statusDeleteRole="loading"}).addCase(ps.rejected,(t,s)=>{t.statusDeleteRole="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(ms.fulfilled,t=>{t.statusDeleteRole="success",k.success({message:"C\u1EADp nh\u1EADt danh s\xE1ch ng\u01B0\u1EDDi d\xF9ng th\xE0nh c\xF4ng!"})}).addCase(ms.pending,t=>{t.statusDeleteRole="loading"}).addCase(ms.rejected,(t,s)=>{t.statusDeleteRole="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Cn.fulfilled,t=>{t.statusUpdateRole="success",k.success({message:"C\u1EADp nh\u1EADt danh s\xE1ch quy\u1EC1n th\xE0nh c\xF4ng!"})}).addCase(Cn.pending,t=>{t.statusUpdateRole="loading"}).addCase(Cn.rejected,(t,s)=>{t.statusUpdateRole="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(gs.fulfilled,t=>{t.statusUpdateRole="success",k.success({message:"C\u1EADp nh\u1EADt setting menu th\xE0nh c\xF4ng!"})}).addCase(gs.pending,t=>{t.statusUpdateRole="loading"}).addCase(gs.rejected,(t,s)=>{t.statusUpdateRole="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})})}}),{actionResetStatusCreateRole:yo,actionResetStatusGetRole:Co,actionResetStatusDeleteRole:So,actionResetStatusUpdateRole:Ao}=Wa.actions;var Do=Wa.reducer;const bo={students:null,studentProfile:null,getStudentsStatus:"idle",getStudentStatus:"idle",addStudentStatus:"idle",updateStudentStatus:"idle",updateStudentStatusStatus:"idle"},fs=L("actionGetStudentProfile",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/students/${n}`,method:"get"})).data}catch(s){return t(s)}}),Fe=L("actionGetStudents",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/students",method:"get",params:n})).data}catch(s){return t(s)}}),xs=L("actionAddStudent",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/students",method:"post",data:n})).data}catch(s){return t(s)}}),mt=L("actionUpdateStudent",async(n,{rejectWithValue:t})=>{try{const{data:s,sID:a}=n;return(await Y({url:`/api/students/${a}`,method:"put",data:s})).data}catch(s){t(s)}}),Fo=L("actionLeaveClass",async(n,{rejectWithValue:t})=>{try{const{data:s,sID:a}=n;return(await Y({url:`/api/students/${a}`,method:"put",data:s})).data}catch(s){t(s)}}),Sn=L("actionUpdateStudentStatus",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/students/update-status",method:"put",data:n})).data}catch(s){t(s)}}),Za=Ee({name:"student",initialState:bo,reducers:{actionResetGetStudents(n){n.getStudentsStatus="idle"},actionAddStudent(n){n.addStudentStatus="idle"},actionResetUpdateStudent(n){n.updateStudentStatus="idle"},actionUpdateStudentStatus(n){n.updateStudentStatusStatus="idle"},actionSetStudentsStateNull(n){n.students=null},actionGetStudentProfile(n){n.studentProfile=null,n.getStudentStatus="idle"}},extraReducers:n=>{n.addCase(Fe.pending,t=>{t.getStudentsStatus="loading"}).addCase(Fe.fulfilled,(t,s)=>{t.students=s.payload,t.getStudentsStatus="success"}).addCase(Fe.rejected,(t,s)=>{t.getStudentStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(fs.pending,t=>{t.getStudentStatus="loading"}).addCase(fs.fulfilled,(t,s)=>{t.studentProfile=s.payload,t.getStudentsStatus="success"}).addCase(fs.rejected,(t,s)=>{t.getStudentStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(xs.pending,t=>{t.addStudentStatus="loading"}).addCase(xs.fulfilled,t=>{t.addStudentStatus="success",k.success({message:"Th\xEAm th\xF4ng tin h\u1ECDc sinh th\xE0nh c\xF4ng!"})}).addCase(xs.rejected,(t,s)=>{t.addStudentStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(mt.pending,t=>{t.updateStudentStatus="loading"}).addCase(mt.fulfilled,t=>{t.updateStudentStatus="success",k.success({message:"S\u1EEDa th\xF4ng tin h\u1ECDc sinh th\xE0nh c\xF4ng!"})}).addCase(mt.rejected,(t,s)=>{t.updateStudentStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Sn.pending,t=>{t.updateStudentStatusStatus="loading"}).addCase(Sn.fulfilled,t=>{t.updateStudentStatusStatus="success",k.success({message:"C\u1EADp nh\u1EADt tr\u1EA1ng th\xE1i th\xE0nh c\xF4ng!"})}).addCase(Sn.rejected,(t,s)=>{t.updateStudentStatusStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})})}}),{actionSetStudentsStateNull:_o,actionResetUpdateStudent:ko,actionResetGetStudents:wo}=Za.actions;var Ro=Za.reducer;const Bo={users:null,statusGetUser:"idle",statusChangePassword:"idle",statusUpdateUserState:"idle",statusSetPermissionsForUser:"idle",statusAddUser:"idle"},Pe=L("actionGetUsers",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/users",method:"get",params:n})).data}catch(s){return t(s)}}),An=L("actionChangePassworfOfUser",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/users/change-password-of-user",method:"post",data:n})).data}catch(s){return t(s)}}),ys=L("actionDeactiveUser",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/users/${n}`,method:"delete"})).data}catch(s){return t(s)}}),Cs=L("actionRestoreUser",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/users/${n}/restore`,method:"post"})).data}catch(s){return t(s)}}),Dn=L("actionSetPermissionsForUser",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/permissions/set-permission-for-user",method:"post",data:n})).data}catch(s){return t(s)}}),Ss=L("actionAddUser",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/users",method:"post",data:n})).data}catch(s){return t(s)}}),er=Ee({name:"users",initialState:Bo,reducers:{actionResetStatusAddUser(n){n.statusAddUser="idle"},actionResetStatusDeactiveUser(n){n.statusUpdateUserState="idle"},actionRestoreUser(n){n.statusUpdateUserState="idle"},actionResetStatusChangePassword(n){n.statusChangePassword="idle"}},extraReducers:n=>{n.addCase(Pe.pending,t=>{t.statusGetUser="loading"}).addCase(Pe.fulfilled,(t,s)=>{t.users=s.payload,t.statusGetUser="success"}).addCase(Pe.rejected,(t,s)=>{t.statusGetUser="error",t.users=null;const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(An.pending,t=>{t.statusChangePassword="loading"}).addCase(An.fulfilled,t=>{t.statusChangePassword="success",k.success({message:"\u0110\u1ED5i m\u1EADt kh\u1EA9u th\xE0nh c\xF4ng"})}).addCase(An.rejected,(t,s)=>{t.statusChangePassword="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(ys.pending,t=>{t.statusUpdateUserState="loading"}).addCase(ys.fulfilled,t=>{t.statusUpdateUserState="success",k.success({message:"V\xF4 hi\u1EC7u ho\xE1 t\xE0i kho\u1EA3n th\xE0nh c\xF4ng"})}).addCase(ys.rejected,(t,s)=>{t.statusUpdateUserState="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Cs.pending,t=>{t.statusUpdateUserState="loading"}).addCase(Cs.fulfilled,t=>{t.statusUpdateUserState="success",k.success({message:"Kh\xF4i ph\u1EE5c t\xE0i kho\u1EA3n th\xE0nh c\xF4ng"})}).addCase(Cs.rejected,(t,s)=>{t.statusUpdateUserState="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Dn.pending,t=>{t.statusSetPermissionsForUser="loading"}).addCase(Dn.fulfilled,t=>{t.statusSetPermissionsForUser="success",k.success({message:"C\u1EADp nh\u1EADt quy\u1EC1n cho t\xE0i kho\u1EA3n th\xE0nh c\xF4ng"})}).addCase(Dn.rejected,(t,s)=>{t.statusSetPermissionsForUser="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Ss.pending,t=>{t.statusAddUser="loading"}).addCase(Ss.fulfilled,t=>{t.statusAddUser="success",k.success({message:"Th\xEAm user th\xE0nh c\xF4ng"})}).addCase(Ss.rejected,(t,s)=>{t.statusAddUser="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})})}}),{actionResetStatusAddUser:Io,actionResetStatusDeactiveUser:To,actionResetStatusChangePassword:Ou}=er.actions;var vo=er.reducer;const Yo={testInfo:null,testes:null,getTestStatus:"idle",getTestesStatus:"idle",updateTestStatus:"idle",addTestStatus:"idle"},gt=L("actionGetTest",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/tests/${n}`,method:"get"})).data}catch(s){return t(s)}}),at=L("actionGetTestes",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/tests",method:"get",params:n})).data}catch(s){return t(s)}}),As=L("actionAddTest",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/tests",method:"post",data:n})).data}catch(s){return t(s)}}),Ds=L("actionUpdateTest",async(n,{rejectWithValue:t})=>{try{const s=n,{id:a}=s,l=mn(s,["id"]);return(await Y({url:`/api/tests/${a}`,method:"put",data:l})).data}catch(a){return t(a)}}),tr=Ee({name:"parent",initialState:Yo,reducers:{actionResetGetTest(n){n.getTestStatus="idle"},actionResetGetTestes(n){n.getTestesStatus="idle"},actionResetAddTest(n){n.addTestStatus="idle"},actionResetUpdateTest(n){n.updateTestStatus="idle"},actionResetAddTestStatus(n){n.addTestStatus="idle"}},extraReducers:n=>{n.addCase(gt.pending,t=>{t.getTestStatus="loading"}).addCase(gt.fulfilled,(t,s)=>{t.testInfo=s.payload,t.getTestStatus="success"}).addCase(gt.rejected,(t,s)=>{t.getTestStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(at.pending,t=>{t.getTestesStatus="loading"}).addCase(at.fulfilled,(t,s)=>{t.testes=s.payload,t.getTestesStatus="success"}).addCase(at.rejected,(t,s)=>{t.getTestesStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(As.pending,t=>{t.addTestStatus="loading"}).addCase(As.fulfilled,t=>{t.addTestStatus="success",k.success({message:"T\u1EA1o b\xE0i test th\xE0nh c\xF4ng!"})}).addCase(As.rejected,(t,s)=>{t.addTestStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Ds.pending,t=>{t.updateTestStatus="loading"}).addCase(Ds.rejected,(t,s)=>{t.updateTestStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Ds.fulfilled,t=>{t.updateTestStatus="success",k.success({message:"C\u1EADp nh\u1EADt b\xE0i test th\xE0nh c\xF4ng!"})})}}),{actionResetAddTestStatus:ju,actionResetGetTest:Hu,actionResetGetTestes:zu,actionResetAddTest:Ku,actionResetUpdateTest:Po}=tr.actions;var Lo=tr.reducer;const sr=function(n){return Object.fromEntries(Object.entries(n).filter(([t,s])=>s).map(([t,s])=>[t,s===Object(s)?sr(s):s]))},nr=["Ch\u01B0a x\xE1c nh\u1EADn","\u0110\xE3 x\xE1c nh\u1EADn"],hn=["Doanh thu ngo\xE0i","Sale","H\u1ECDc ph\xED"],No={revenues:null,getRevenuesStatus:"idle",addRevenuesStatus:"idle",updateRevenuesStatus:"idle",deleteRevenuesStatus:"idle"},tt=L("actionGetRevenues",async(n,{rejectWithValue:t})=>{try{const s=sr(n);return(await Y({url:"/api/receipts",method:"get",params:s})).data}catch(s){return t(s)}}),bs=L("actionAddNewRevenues",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/receipts",method:"post",data:n})).data}catch(s){return t(s)}}),bn=L("actionUpdateRevenues",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/receipts/${n.id}`,method:"put",data:n})).data}catch(s){return t(s)}}),Fs=L("actionUpdateRevenueStatus",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/receipts/update-status",method:"post",data:n})).data}catch(s){return t(s)}}),_s=L("actionDeleteRevenue",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/receipts/${n}`,method:"delete"})).data}catch(s){return t(s)}}),ar=Ee({name:"revenues",initialState:No,reducers:{resetGetRevenuesStatus(n){n.getRevenuesStatus="idle"},resetAddRevenuesStatus(n){n.addRevenuesStatus="idle"},actionUpdateRevenues(n){n.updateRevenuesStatus="idle"},actionUpdateRevenueStatus(n){n.updateRevenuesStatus="idle"},actionSetListRevenuesNull(n){n.getRevenuesStatus="idle",n.revenues=null},resetUpdateRevenuesStatus(n){n.updateRevenuesStatus="idle"},actionDeleteRevenue(n){n.deleteRevenuesStatus="idle"}},extraReducers:n=>{n.addCase(tt.fulfilled,(t,s)=>{t.getRevenuesStatus="success",t.revenues=s.payload}).addCase(tt.pending,t=>{t.getRevenuesStatus="loading"}).addCase(tt.rejected,(t,s)=>{t.getRevenuesStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(bs.fulfilled,t=>{t.addRevenuesStatus="success",k.success({message:"Th\xEAm doanh thu m\u1EDBi th\xE0nh c\xF4ng!"})}).addCase(bs.pending,t=>{t.addRevenuesStatus="loading"}).addCase(bs.rejected,(t,s)=>{t.addRevenuesStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(bn.fulfilled,t=>{t.updateRevenuesStatus="success",k.success({message:"C\u1EADp nh\u1EADt doanh thu th\xE0nh c\xF4ng!"})}).addCase(bn.pending,t=>{t.updateRevenuesStatus="loading"}).addCase(bn.rejected,(t,s)=>{t.updateRevenuesStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Fs.fulfilled,t=>{t.updateRevenuesStatus="success",k.success({message:"C\u1EADp nh\u1EADt doanh thu th\xE0nh c\xF4ng!"})}).addCase(Fs.pending,t=>{t.updateRevenuesStatus="loading"}).addCase(Fs.rejected,(t,s)=>{t.updateRevenuesStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(_s.fulfilled,t=>{t.deleteRevenuesStatus="success",k.success({message:"\u0110\xE3 xo\xE1 phi\u1EBFu thu!"})}).addCase(_s.pending,t=>{t.deleteRevenuesStatus="loading"}).addCase(_s.rejected,(t,s)=>{t.deleteRevenuesStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})})}}),{resetGetRevenuesStatus:Mo,resetAddRevenuesStatus:Uo,resetUpdateRevenuesStatus:Go,actionSetListRevenuesNull:Fn}=ar.actions;var Qo=ar.reducer;const Oo={periodTuitions:null,periodTuition:null,getPeriodTuitionStatus:"idle",getPeriodTuitionsStatus:"idle",addPeriodTuitionStatus:"idle",updatePeriodTuitionStatus:"idle",deletePeriodTuitionStatus:"idle",sendNotificationsStatus:"idle"},rt=L("actionGetPeriodTuion",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/period-tuitions/${n}`,method:"get"})).data}catch(s){return t(s)}}),ft=L("actionGetPeriodTuions",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/period-tuitions",method:"get",params:n})).data}catch(s){return t(s)}}),ks=L("actionAddPeriodTuion",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/period-tuitions",method:"post",data:n})).data}catch(s){return t(s)}}),ws=L("actionUpdatePeriodTuion",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/period-tuitions/${n.pID}`,method:"put",data:n.data})).data}catch(s){return t(s)}}),Rs=L("actionDeletePeriodTuion",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/period-tuitions/${n}`,method:"delete"})).data}catch(s){return t(s)}}),jo=Ee({name:"periodTuition",initialState:Oo,reducers:{actionGetPeriodTuions(n){n.getPeriodTuitionsStatus="idle"},actionGetPeriodTuion(n){n.getPeriodTuitionStatus="idle"},actionAddPeriodTuion(n){n.addPeriodTuitionStatus="idle"},actionResetUpdatePeriodTuion(n){n.updatePeriodTuitionStatus="idle"},actionSetAddPeriodtuitionStateIdle(n){n.addPeriodTuitionStatus="idle"},actionDeletePeriodTuion(n){n.deletePeriodTuitionStatus="idle"}},extraReducers:n=>{n.addCase(rt.pending,t=>{t.getPeriodTuitionStatus="loading"}).addCase(rt.fulfilled,(t,s)=>{t.getPeriodTuitionStatus="success",t.periodTuition=s.payload}).addCase(rt.rejected,(t,s)=>{t.getPeriodTuitionStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(ft.pending,t=>{t.getPeriodTuitionsStatus="loading"}).addCase(ft.fulfilled,(t,s)=>{t.getPeriodTuitionsStatus="success",t.periodTuitions=s.payload}).addCase(ft.rejected,(t,s)=>{t.getPeriodTuitionsStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(ks.pending,t=>{t.addPeriodTuitionStatus="loading"}).addCase(ks.fulfilled,t=>{t.addPeriodTuitionStatus="success",k.success({message:"Th\xEAm chu k\u1EF3 h\u1ECDc ph\xED th\xE0nh c\xF4ng!"})}).addCase(ks.rejected,(t,s)=>{t.addPeriodTuitionStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(ws.pending,t=>{t.updatePeriodTuitionStatus="loading"}).addCase(ws.fulfilled,t=>{t.updatePeriodTuitionStatus="success",k.success({message:"C\u1EADp nh\u1EADt chu k\u1EF3 h\u1ECDc ph\xED th\xE0nh c\xF4ng!"})}).addCase(ws.rejected,(t,s)=>{t.updatePeriodTuitionStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Rs.pending,t=>{t.deletePeriodTuitionStatus="loading"}).addCase(Rs.fulfilled,t=>{t.deletePeriodTuitionStatus="success",k.success({message:"\u0110\xE3 xo\xE1 chu k\u1EF3 h\u1ECDc ph\xED"})}).addCase(Rs.rejected,(t,s)=>{t.deletePeriodTuitionStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})})}});var Ho=jo.reducer;const _n=L("actionGetTuitionFee",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/tuition-fees/${n}`,method:"get"})).data}catch(s){return t(s)}}),Bs=L("actionGetTuitionFees",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/tuition-fees/",method:"get",params:n})).data}catch(s){return t(s)}}),Is=L("actionAddTuitionFee",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/tuition-fees/",method:"post",data:n})).data}catch(s){return t(s)}}),Ts=L("actionUpdateTuitionFee",async(n,{rejectWithValue:t})=>{try{const{data:s,tuition_id:a}=n;return(await Y({url:`/api/tuition-fees/${a}`,method:"put",data:s})).data}catch(s){return t(s)}}),vs=L("actionTuitionFeePayment",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/tuition-fees/payment",method:"post",data:n})).data}catch(s){return t(s)}}),Ys=L("actionTuitionFeeTranferDebt",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/tuition-fees/debit-tranfer",method:"post",data:n})).data}catch(s){return t(s)}}),zo={tuitionFee:null,tuitionFees:null,getTuitionFeeState:"idle",getTuitionFeesState:"idle",addTuitionFeeState:"idle",updateTuitionFeeState:"idle",tuitionFeePaymentState:"idle"},rr=Ee({name:"tuitionFeeSlice",initialState:zo,reducers:{actionGetTuitionFee(n){n.getTuitionFeeState="idle"},actionGetTuitionFees(n){n.getTuitionFeesState="idle"},actionAddTuitionFee(n){n.addTuitionFeeState="idle"},actionUpdateTuitionFee(n){n.updateTuitionFeeState="idle"},actionSetTuitionFeesStateNull(n){n.tuitionFees=null},actionTuitionFeeTranferDebt(n){n.updateTuitionFeeState="idle"},actionTuitionFeePayment(n){n.tuitionFeePaymentState="idle"}},extraReducers:n=>{n.addCase(_n.pending,t=>{t.getTuitionFeeState="loading"}).addCase(_n.fulfilled,(t,s)=>{t.getTuitionFeeState="success",t.tuitionFee=s.payload}).addCase(_n.rejected,(t,s)=>{t.getTuitionFeeState="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Bs.pending,t=>{t.getTuitionFeesState="loading"}).addCase(Bs.fulfilled,(t,s)=>{t.getTuitionFeesState="success",t.tuitionFees=s.payload}).addCase(Bs.rejected,(t,s)=>{t.getTuitionFeesState="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Is.pending,t=>{t.addTuitionFeeState="loading"}).addCase(Is.fulfilled,t=>{t.addTuitionFeeState="success",k.success({message:"T\u1EA1o b\u1EA3ng h\u1ECDc ph\xED th\xE0nh c\xF4ng!"})}).addCase(Is.rejected,(t,s)=>{t.addTuitionFeeState="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Ts.pending,t=>{t.updateTuitionFeeState="loading"}).addCase(Ts.fulfilled,t=>{t.updateTuitionFeeState="success",k.success({message:"C\u1EADp nh\u1EADt b\u1EA3ng h\u1ECDc ph\xED th\xE0nh c\xF4ng!"})}).addCase(Ts.rejected,(t,s)=>{t.updateTuitionFeeState="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Ys.pending,t=>{t.updateTuitionFeeState="loading"}).addCase(Ys.fulfilled,t=>{t.updateTuitionFeeState="success",k.success({message:"Chuy\u1EC3n n\u1EE3 h\u1ECDc ph\xED th\xE0nh c\xF4ng!"})}).addCase(Ys.rejected,(t,s)=>{t.updateTuitionFeeState="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(vs.pending,t=>{t.tuitionFeePaymentState="loading"}).addCase(vs.fulfilled,t=>{t.tuitionFeePaymentState="success",k.success({message:"C\u1EADp nh\u1EADt th\xE0nh c\xF4ng!"})}).addCase(vs.rejected,(t,s)=>{t.tuitionFeePaymentState="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})})}}),{actionSetTuitionFeesStateNull:kn}=rr.actions;var Ko=rr.reducer;const st=L("actionGetDayoffs",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/day-offs/",method:"get",params:n})).data}catch(s){return t(s)}}),Ps=L("actionAddDayoff",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/day-offs/",method:"post",data:n})).data}catch(s){return t(s)}}),Ls=L("actionDeleteDayoff",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/day-offs/${n}`,method:"delete"})).data}catch(s){return t(s)}}),Vo={dayoffs:null,getDayoffsState:"idle",addDayoffState:"idle",deleteDayoffState:"idle"},ir=Ee({name:"tuitionFeeSlice",initialState:Vo,reducers:{actionResetDayOffs(n){n.dayoffs=null},actionGetDayoffs(n){n.getDayoffsState="idle"},actionAddDayoff(n){n.addDayoffState="idle"},actionDeleteDayoff(n){n.deleteDayoffState="idle"},actionSetAddDayoffStateIdle(n){n.addDayoffState="idle"},actionSetDeleteDayoffStateIdle(n){n.deleteDayoffState="idle"}},extraReducers:n=>{n.addCase(st.pending,t=>{t.getDayoffsState="loading"}).addCase(st.fulfilled,(t,s)=>{t.getDayoffsState="success",t.dayoffs=s.payload}).addCase(st.rejected,(t,s)=>{t.getDayoffsState="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Ps.pending,t=>{t.addDayoffState="loading"}).addCase(Ps.fulfilled,t=>{t.addDayoffState="success",k.success({message:"Th\xEAm ng\xE0y ngh\u1EC9 th\xE0nh c\xF4ng"})}).addCase(Ps.rejected,(t,s)=>{t.addDayoffState="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Ls.pending,t=>{t.deleteDayoffState="loading"}).addCase(Ls.fulfilled,t=>{t.deleteDayoffState="success",k.success({message:"Xo\xE1 ng\xE0y ngh\u1EC9 th\xE0nh c\xF4ng"})}).addCase(Ls.rejected,(t,s)=>{t.deleteDayoffState="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})})}}),{actionSetAddDayoffStateIdle:qo,actionSetDeleteDayoffStateIdle:$o,actionResetDayOffs:Vu}=ir.actions;var Jo=ir.reducer;const Yt=L("actionGetLessonInfo",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/lessons/${n}`,method:"get"})).data}catch(s){return t(s)}}),Ne=L("actionGetLessions",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/lessons/",method:"get",params:n})).data}catch(s){return t(s)}}),Xo={lessonInfo:null,lessons:null,getLessonsState:"idle",getLessonInfoSate:"idle"},or=Ee({name:"tuitionFeeSlice",initialState:Xo,reducers:{actionGetLessonInfo(n){n.getLessonInfoSate="idle"},actionResetGetLessionsStatus(n){n.getLessonsState="idle"},actionSetLessionsStateNull(n){n.lessons=null}},extraReducers:n=>{n.addCase(Yt.pending,t=>{t.getLessonInfoSate="loading"}).addCase(Yt.fulfilled,(t,s)=>{t.getLessonInfoSate="success",t.lessonInfo=s.payload}).addCase(Yt.rejected,(t,s)=>{t.getLessonInfoSate="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Ne.pending,t=>{t.getLessonsState="loading"}).addCase(Ne.fulfilled,(t,s)=>{t.getLessonsState="success",t.lessons=s.payload}).addCase(Ne.rejected,(t,s)=>{t.getLessonsState="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})})}}),{actionSetLessionsStateNull:wn}=or.actions;var Wo=or.reducer;const Rn=L("actionGetSalary",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/salaries/${n}`,method:"get"})).data}catch(s){return t(s)}}),xt=L("actionGetSalaries",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/salaries/",method:"get",params:n})).data}catch(s){return t(s)}}),Ns=L("actionAddSalary",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/salaries/",method:"post",data:n})).data}catch(s){return t(s)}}),Ms=L("actionUpdateSalary",async(n,{rejectWithValue:t})=>{try{const{sID:s,data:a}=n;return(await Y({url:`/api/salaries/${s}`,method:"put",data:a})).data}catch(s){return t(s)}}),Us=L("actionSalaryPaymentConfirmed",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/salaries/${n}`,method:"put",data:{status:1}})).data}catch(s){return t(s)}}),Gs=L("actionDeleteSalary",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/salaries/${n}`,method:"delete"})).data}catch(s){return t(s)}}),Zo={salary:null,salaries:null,getSalary:"idle",getSalaries:"idle",addSalaryStatus:"idle",updateSalaryStatus:"idle",deleteSalaryStatus:"idle"},lr=Ee({name:"tuitionFeeSlice",initialState:Zo,reducers:{actionGetSalary(n){n.getSalary="idle"},actionGetSalaries(n){n.getSalaries="idle"},actionAddSalary(n){n.addSalaryStatus="idle"},actionupdateSalary(n){n.updateSalaryStatus="idle"},actionDeleteSalary(n){n.deleteSalaryStatus="idle"},actionSetUpdateSalaryStateIdle(n){n.updateSalaryStatus="idle"},actionSetDeleteSalaryStateIdle(n){n.deleteSalaryStatus="idle"},actionSetAddSalaryStateIdle(n){n.addSalaryStatus="idle"}},extraReducers:n=>{n.addCase(Rn.pending,t=>{t.getSalary="loading"}).addCase(Rn.fulfilled,(t,s)=>{t.getSalary="success",t.salary=s.payload}).addCase(Rn.rejected,(t,s)=>{t.getSalary="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(xt.pending,t=>{t.getSalaries="loading"}).addCase(xt.fulfilled,(t,s)=>{t.getSalaries="success",t.salaries=s.payload}).addCase(xt.rejected,(t,s)=>{t.getSalaries="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Ns.pending,t=>{t.addSalaryStatus="loading"}).addCase(Ns.fulfilled,t=>{t.addSalaryStatus="success"}).addCase(Ns.rejected,(t,s)=>{t.addSalaryStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Ms.pending,t=>{t.updateSalaryStatus="loading"}).addCase(Ms.fulfilled,t=>{t.updateSalaryStatus="success",k.success({message:"C\u1EADp nh\u1EADt b\u1EA3ng l\u01B0\u01A1ng th\xE0nh c\xF4ng"})}).addCase(Ms.rejected,(t,s)=>{t.updateSalaryStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Us.pending,t=>{t.updateSalaryStatus="loading"}).addCase(Us.fulfilled,t=>{t.updateSalaryStatus="success",k.success({message:"C\u1EADp nh\u1EADt b\u1EA3ng l\u01B0\u01A1ng th\xE0nh c\xF4ng"})}).addCase(Us.rejected,(t,s)=>{t.updateSalaryStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Gs.pending,t=>{t.deleteSalaryStatus="loading"}).addCase(Gs.fulfilled,t=>{t.deleteSalaryStatus="success",k.success({message:"Xo\xE1 b\u1EA3ng l\u01B0\u01A1ng th\xE0nh c\xF4ng"})}).addCase(Gs.rejected,(t,s)=>{t.deleteSalaryStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})})}}),{actionSetDeleteSalaryStateIdle:qu,actionSetUpdateSalaryStateIdle:$u,actionSetAddSalaryStateIdle:el}=lr.actions;var tl=lr.reducer;const Bn=L("actionGetTestResults",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"api/test-results",method:"get",params:n})).data}catch(s){return t(s)}}),Qs=L("actionAddTestResult",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"api/test-results",method:"post",data:n})).data}catch(s){return t(s)}}),Os=L("actionUpdateTestResults",async(n,{rejectWithValue:t})=>{try{const s=n,{id:a}=s,l=mn(s,["id"]);return(await Y({url:`api/test-results/${a}`,method:"put",data:l})).data}catch(a){return t(a)}}),sl={testResults:null,getTestResultsStatus:"idle",addTestResultStatus:"idle",updateTestResultStatus:"idle"},dr=Ee({name:"testResult",initialState:sl,reducers:{resetGetTestResultsStatus(n){n.getTestResultsStatus="idle"},resetAddTestResultsStatus(n){n.getTestResultsStatus="idle"},resetUpdateTestResultsStatus(n){n.getTestResultsStatus="idle"}},extraReducers:n=>{n.addCase(Bn.fulfilled,(t,s)=>{t.testResults=s.payload,t.getTestResultsStatus="success"}).addCase(Bn.pending,t=>{t.getTestResultsStatus="loading"}).addCase(Bn.rejected,(t,s)=>{t.getTestResultsStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Qs.pending,t=>{t.addTestResultStatus="loading"}).addCase(Qs.rejected,(t,s)=>{t.addTestResultStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Qs.fulfilled,t=>{t.addTestResultStatus="success"}).addCase(Os.pending,t=>{t.updateTestResultStatus="loading"}).addCase(Os.rejected,(t,s)=>{t.updateTestResultStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Os.fulfilled,t=>{t.updateTestResultStatus="success"})}}),{resetGetTestResultsStatus:Ju,resetAddTestResultsStatus:Xu,resetUpdateTestResultsStatus:nl}=dr.actions;var al=dr.reducer;const Qe=L("actionGetStudySummaryList",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/study-summary-boards/",method:"get",params:n})).data}catch(s){return t(s)}}),js=L("actionGetStudyGifts",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/student-gifts/",method:"get",params:n})).data}catch(s){return t(s)}}),Hs=L("actionAddStudySummary",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/study-summary-boards/",method:"post",data:n})).data}catch(s){return t(s)}});L("actionUpdateStudySummary",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/study-summary-boards/",method:"put",data:n})).data}catch(s){return t(s)}});const zs=L("actionDeleteStudySummary",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/study-summary-boards/${n}`,method:"delete"})).data}catch(s){return t(s)}}),rl={studySummaryList:null,studentGifts:null,getStudySummaryListState:"idle",getStudyGiftsState:"idle",addStudySummaryState:"idle",updateStudySummaryState:"idle",deleteStudySummaryState:"idle"},il=Ee({name:"tuitionFeeSlice",initialState:rl,reducers:{actionGetStudySummaryList(n){n.getStudySummaryListState="idle"},actionAddStudySummary(n){n.addStudySummaryState="idle"},actionUpdateStudySummary(n){n.updateStudySummaryState="idle"},actionDeleteStudySummary(n){n.deleteStudySummaryState="idle"}},extraReducers:n=>{n.addCase(Qe.pending,t=>{t.getStudySummaryListState="loading"}).addCase(Qe.fulfilled,(t,s)=>{t.getStudySummaryListState="success",t.studySummaryList=s.payload}).addCase(Qe.rejected,(t,s)=>{t.getStudySummaryListState="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(js.pending,t=>{t.getStudyGiftsState="loading"}).addCase(js.fulfilled,(t,s)=>{t.getStudyGiftsState="success",t.studentGifts=s.payload}).addCase(js.rejected,(t,s)=>{t.getStudyGiftsState="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Hs.pending,t=>{t.addStudySummaryState="loading"}).addCase(Hs.fulfilled,t=>{t.addStudySummaryState="success",k.success({message:"L\u01B0u b\u1EA3ng t\u1ED5ng k\u1EBFt th\xE0nh c\xF4ng"})}).addCase(Hs.rejected,(t,s)=>{t.addStudySummaryState="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(zs.pending,t=>{t.deleteStudySummaryState="loading"}).addCase(zs.fulfilled,t=>{t.deleteStudySummaryState="success",k.success({message:"Xo\xE1 b\u1EA3ng t\u1ED5ng k\u1EBFt th\xE0nh c\xF4ng"})}).addCase(zs.rejected,(t,s)=>{t.deleteStudySummaryState="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})})}});var ol=il.reducer;const Ks=L("actionGetSystemSettingInfo",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/settings/1",method:"get"})).data}catch(s){return t(s)}}),Vs=L("actionUpdateSystemSetting",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/settings/1",method:"put",data:n})).data}catch(s){return t(s)}}),ll={systemSettingInfo:null,getSystemSettingState:"idle",updateSystemSettingState:"idle"},dl=Ee({name:"tuitionFeeSlice",initialState:ll,reducers:{actionGetSystemSettingInfo(n){n.getSystemSettingState="idle"},actionUpdateSystemSettingInfo(n){n.getSystemSettingState="idle"}},extraReducers:n=>{n.addCase(Ks.pending,t=>{t.getSystemSettingState="loading"}).addCase(Ks.fulfilled,(t,s)=>{t.getSystemSettingState="success",t.systemSettingInfo=s.payload}).addCase(Ks.rejected,(t,s)=>{t.getSystemSettingState="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Vs.pending,t=>{t.updateSystemSettingState="loading"}).addCase(Vs.fulfilled,(t,s)=>{t.updateSystemSettingState="success",t.systemSettingInfo=s.payload,k.success({message:"C\u1EADp nh\u1EADt th\xF4ng tin h\u1EC7 th\u1ED1ng th\xE0nh c\xF4ng"})}).addCase(Vs.rejected,t=>{t.updateSystemSettingState="error",k.error({message:"C\u1EADp nh\u1EADt th\xF4ng tin h\u1EC7 th\u1ED1ng b\u1ECB l\u1ED7i!"})})}});var ul=dl.reducer;const cl={newsList:null,newInfo:null,getNewsListStatus:"idle",getNewsInfoStatus:"idle",addNewsStatus:"idle",updateNewsStatus:"idle",deleteNewsStatus:"idle"},In=L("actionGetNewsInfo",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/news/${n}`,method:"get"})).data}catch(s){return t(s)}}),yt=L("actionGetNewsList",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/news",method:"get",params:n})).data}catch(s){return t(s)}}),qs=L("actionAddNews",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/news",method:"post",data:n})).data}catch(s){return t(s)}}),$s=L("actionUpdateNews",async(n,{rejectWithValue:t})=>{try{const{data:s,newId:a}=n;return(await Y({url:`/api/news/${a}`,method:"put",data:s})).data}catch(s){return t(s)}}),Js=L("actionDeleteNews",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/news/${n}`,method:"delete"})).data}catch(s){return t(s)}}),hl=Ee({name:"news",initialState:cl,reducers:{},extraReducers:n=>{n.addCase(In.pending,t=>{t.getNewsInfoStatus="loading"}).addCase(In.fulfilled,(t,s)=>{t.newInfo=s.payload,t.getNewsInfoStatus="success"}).addCase(In.rejected,(t,s)=>{t.getNewsInfoStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}),n.addCase(yt.pending,t=>{t.getNewsListStatus="loading"}).addCase(yt.fulfilled,(t,s)=>{t.newsList=s.payload,t.getNewsListStatus="success"}).addCase(yt.rejected,(t,s)=>{t.getNewsListStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(qs.pending,t=>{t.addNewsStatus="loading"}).addCase(qs.fulfilled,t=>{t.addNewsStatus="success",k.success({message:"Th\xEAm b\xE0i tin th\xE0nh c\xF4ng!"})}).addCase(qs.rejected,(t,s)=>{t.addNewsStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase($s.pending,t=>{t.updateNewsStatus="loading"}).addCase($s.fulfilled,t=>{t.updateNewsStatus="success",k.success({message:"S\u1EEDa b\xE0i tin th\xE0nh c\xF4ng!"})}).addCase($s.rejected,(t,s)=>{t.updateNewsStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Js.pending,t=>{t.deleteNewsStatus="loading"}).addCase(Js.fulfilled,t=>{t.deleteNewsStatus="success",k.success({message:"Xo\xE1 b\xE0i tin th\xE0nh c\xF4ng!"})}).addCase(Js.rejected,(t,s)=>{t.deleteNewsStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})})}});var pl=hl.reducer;const El={notificationList:null,notificationInfo:null,getNotificationListStatus:"idle",getNotificationInfoStatus:"idle",addNotificationStatus:"idle",updateNotificationStatus:"idle",deleteNotificationStatus:"idle"},Tn=L("actionGetNotificationInfo",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/notifications/${n}`,method:"get"})).data}catch(s){return t(s)}}),vn=L("actionGetNotificationList",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/notifications",method:"get",params:n})).data}catch(s){return t(s)}}),Pt=L("actionAddNotification",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/notifications",method:"post",data:n})).data}catch(s){return t(s)}}),Yn=L("actionUpdateNotification",async(n,{rejectWithValue:t})=>{try{const{data:s,notiId:a}=n;return(await Y({url:`/api/notifications/${a}`,method:"put",data:s})).data}catch(s){return t(s)}}),Pn=L("actionDeleteNotification",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/notifications/${n}`,method:"delete"})).data}catch(s){return t(s)}}),ml=Ee({name:"notification",initialState:El,reducers:{},extraReducers:n=>{n.addCase(Tn.pending,t=>{t.getNotificationInfoStatus="loading"}).addCase(Tn.fulfilled,(t,s)=>{t.notificationInfo=s.payload,t.getNotificationInfoStatus="success"}).addCase(Tn.rejected,(t,s)=>{t.getNotificationInfoStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}),n.addCase(vn.pending,t=>{t.getNotificationListStatus="loading"}).addCase(vn.fulfilled,(t,s)=>{t.notificationList=s.payload,t.getNotificationListStatus="success"}).addCase(vn.rejected,(t,s)=>{t.getNotificationListStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Pt.pending,t=>{t.addNotificationStatus="loading"}).addCase(Pt.fulfilled,t=>{t.addNotificationStatus="success",k.success({message:"G\u1EEDi th\xF4ng b\xE1o th\xE0nh c\xF4ng!"})}).addCase(Pt.rejected,(t,s)=>{t.addNotificationStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Yn.pending,t=>{t.updateNotificationStatus="loading"}).addCase(Yn.fulfilled,t=>{t.updateNotificationStatus="success",k.success({message:"S\u1EEDa th\xF4ng b\xE1o th\xE0nh c\xF4ng!"})}).addCase(Yn.rejected,(t,s)=>{t.updateNotificationStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Pn.pending,t=>{t.deleteNotificationStatus="loading"}).addCase(Pn.fulfilled,t=>{t.deleteNotificationStatus="success",k.success({message:"Xo\xE1 th\xF4ng b\xE1o th\xE0nh c\xF4ng!"})}).addCase(Pn.rejected,(t,s)=>{t.deleteNotificationStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})})}});var gl=ml.reducer;const fl={giftList:null,giftInfo:null,getGiftListStatus:"idle",getGiftInfoStatus:"idle",addGiftStatus:"idle",updateGiftStatus:"idle",deleteGiftStatus:"idle"},Ln=L("actionGetGiftInfo",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/gifts/${n}`,method:"get"})).data}catch(s){return t(s)}}),Ct=L("actionGetGiftList",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/gifts",method:"get",params:n})).data}catch(s){return t(s)}}),Xs=L("actionAddGift",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/gifts",method:"post",data:n})).data}catch(s){return t(s)}}),Ws=L("actionUpdateGift",async(n,{rejectWithValue:t})=>{try{const{data:s,giftId:a}=n;return(await Y({url:`/api/gifts/${a}`,method:"put",data:s})).data}catch(s){return t(s)}}),Zs=L("actionDeleteGift",async(n,{rejectWithValue:t})=>{try{return(await Y({url:`/api/gifts/${n}`,method:"delete"})).data}catch(s){return t(s)}}),xl=Ee({name:"gifts",initialState:fl,reducers:{},extraReducers:n=>{n.addCase(Ln.pending,t=>{t.getGiftInfoStatus="loading"}).addCase(Ln.fulfilled,(t,s)=>{t.giftInfo=s.payload,t.getGiftInfoStatus="success"}).addCase(Ln.rejected,(t,s)=>{t.getGiftInfoStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}),n.addCase(Ct.pending,t=>{t.getGiftListStatus="loading"}).addCase(Ct.fulfilled,(t,s)=>{t.giftList=s.payload,t.getGiftListStatus="success"}).addCase(Ct.rejected,(t,s)=>{t.getGiftListStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Xs.pending,t=>{t.addGiftStatus="loading"}).addCase(Xs.fulfilled,t=>{t.addGiftStatus="success",k.success({message:"Th\xEAm th\xE0nh c\xF4ng!"})}).addCase(Xs.rejected,(t,s)=>{t.addGiftStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Ws.pending,t=>{t.updateGiftStatus="loading"}).addCase(Ws.fulfilled,t=>{t.updateGiftStatus="success",k.success({message:"S\u1EEDa th\xF4ng tin qu\xE0 t\u1EB7ng th\xE0nh c\xF4ng!"})}).addCase(Ws.rejected,(t,s)=>{t.updateGiftStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Zs.pending,t=>{t.deleteGiftStatus="loading"}).addCase(Zs.fulfilled,t=>{t.deleteGiftStatus="success",k.success({message:"Xo\xE1 th\xE0nh c\xF4ng!"})}).addCase(Zs.rejected,(t,s)=>{t.deleteGiftStatus="error";const a=s.payload;k.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})})}});var yl=xl.reducer;const Cl={revenueStat:null,studentStat:null,classesToday:[],birthdayList:null,getRevenueStatStatus:"idle",getStudentStatStatus:"idle",getClassesTodayStatus:"idle",getBirthdayListStatus:"idle"},St=L("actionGetRevenueStat",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/statistical/revenue",method:"get",params:n})).data}catch(s){return t(s)}}),Lt=L("actionGetStudentStat",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/statistical/students",method:"get",params:n})).data}catch(s){return t(s)}}),en=L("actionGetClassesToday",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/statistical/class",method:"get",params:n})).data}catch(s){return t(s)}}),Nt=L("actionGetBirthdayList",async(n,{rejectWithValue:t})=>{try{return(await Y({url:"/api/statistical/birthday",method:"get",params:n})).data}catch(s){return t(s)}}),Sl=Ee({name:"revenues",initialState:Cl,reducers:{actionGetRevenueStat(n){n.getRevenueStatStatus="idle"},actionGetStudentStat(n){n.getStudentStatStatus="idle"},actionGetClassesToday(n){n.getClassesTodayStatus="idle"},actionGetBirthdayList(n){n.getBirthdayListStatus="idle"}},extraReducers:n=>{n.addCase(St.fulfilled,(t,s)=>{t.getRevenueStatStatus="success",t.revenueStat=s.payload}).addCase(St.pending,t=>{t.getRevenueStatStatus="loading"}).addCase(St.rejected,(t,s)=>{t.getRevenueStatStatus="error";const a=s.payload;jt.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Lt.fulfilled,(t,s)=>{t.getStudentStatStatus="success",t.studentStat=s.payload}).addCase(Lt.pending,t=>{t.getStudentStatStatus="loading"}).addCase(Lt.rejected,(t,s)=>{t.getStudentStatStatus="error";const a=s.payload;jt.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(en.fulfilled,(t,s)=>{t.getClassesTodayStatus="success",t.classesToday=s.payload}).addCase(en.pending,t=>{t.getClassesTodayStatus="loading"}).addCase(en.rejected,(t,s)=>{t.getClassesTodayStatus="error";const a=s.payload;jt.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})}).addCase(Nt.fulfilled,(t,s)=>{t.getBirthdayListStatus="success",t.birthdayList=s.payload}).addCase(Nt.pending,t=>{t.getBirthdayListStatus="loading"}).addCase(Nt.rejected,(t,s)=>{t.getBirthdayListStatus="error";const a=s.payload;jt.error({message:r.exports.get(a,"response.data","C\xF3 l\u1ED7i x\u1EA3y ra!")})})}});var Al=Sl.reducer;const Dl=Br({auth:Ui,userReducer:vo,employeeReducer:so,roleReducer:Do,permissionReducer:fo,studentReducer:Ro,parentReducer:lo,classReducer:Wi,paymentReducer:Eo,attendanceReducer:Ki,filesReducer:ro,testReducer:Lo,revenuesReducer:Qo,periodTuitionReducer:Ho,dayoffReducer:Jo,tuitionFeeReducer:Ko,lessonReducer:Wo,salariesReducer:tl,testResultsReducer:al,studySummaryReducer:ol,systemSettingReducer:ul,newsReducer:pl,notificationReducer:gl,giftReducer:yl,statisticalReducer:Al}),bl={key:"root",storage:Pr,whitelist:["auth"]},Fl=Ir(bl,Dl),_l=Tr({serializableCheck:!1}),Jn=vr({reducer:Fl,middleware:_l}),kl=Yr(Jn),q=()=>Ue();function wl(){const[n,t]=o.exports.useState(!1),s=q();function a(l){s(Vt(l)).finally(()=>t(!1))}return d(Q,{children:[e(R,{type:"link",onClick:()=>t(!0),children:"Thay \u0111\u1ED5i m\u1EADt kh\u1EA9u"}),e(Te,{title:"Thay \u0111\u1ED5i m\u1EADt kh\u1EA9u",visible:n,width:600,closable:!0,onCancel:()=>t(!1),footer:[e(R,{type:"primary",htmlType:"submit",form:"cForm",children:"G\u1EEDi l\xEAn"},"btnsubmit")],children:d(D,{name:"basic",id:"cForm",labelCol:{span:8},wrapperCol:{span:14},initialValues:{remember:!0},onFinish:a,autoComplete:"off",children:[e(D.Item,{label:"M\u1EADt kh\u1EA9u hi\u1EC7n t\u1EA1i",name:"current_password",rules:[{required:!0,message:"Tr\u01B0\u1EDDng n\xE0y kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:e(U.Password,{})}),e(D.Item,{label:"M\u1EADt kh\u1EA9u m\u1EDBi",name:"new_password",rules:[{required:!0,message:"Tr\u01B0\u1EDDng n\xE0y kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:e(U.Password,{})})]})})]})}const{Header:Rl}=re,Bl=$e.div`
	display: flex;
	justify-content: space-between;
	align-items: center;
	height: 100%;
	padding-right: 0.8rem;
	padding-left: 0.8rem;
`;function Il(n){const{onClickMenu:t}=n,s=Ue(),a=w(h=>h.auth.user);function l(){s(Ha())}return e(Rl,{style:{padding:0,background:"white"},children:d(Bl,{children:[e(Lr,{className:"cursor-pointer",onClick:t}),e("div",{children:e(Nr,{overlay:d(xe,{children:[e(xe.Item,{children:e(ji,{})},"setting"),e(xe.Item,{children:e(wl,{})},"change-password"),e(xe.Item,{onClick:l,children:e(R,{type:"link",children:"\u0110\u0103ng xu\u1EA5t"})},"logout")]}),className:"mr-2",children:d(R,{type:"text",children:[e("strong",{style:{color:"#e67e22"},children:r.exports.get(a,"profile.name","")}),e(Mr,{})]})})})]})})}[...Array(100)].map((n,t)=>t);const Rt=[{value:1,label:"Home"},{value:2,label:"Ng\u01B0\u1EDDi d\xF9ng"},{value:3,label:"Nh\xE2n vi\xEAn"},{value:4,label:"B\u1EA3ng l\u01B0\u01A1ng"},{value:5,label:"L\u1EDBp h\u1ECDc"},{value:6,label:"H\u1ECDc sinh"},{value:7,label:"Ph\u1EE5 huynh"},{value:8,label:"Qu\u1EA3n l\xFD chi ti\xEAu"},{value:9,label:"Qu\u1EA3n l\xFD doanh thu"},{value:10,label:"Qu\u1EA3n l\xFD h\u1ECDc ph\xED"},{value:11,label:"B\u1EA3ng t\u1ED5ng k\u1EBFt"},{value:12,label:"Qu\u1EA3n l\xFD tin b\xE0i"},{value:13,label:"Qu\u1EA3n l\xFD qu\xE0 t\u1EB7ng"},{value:14,label:"Vai tr\xF2"},{value:15,label:"Qu\u1EA3n l\xFD file"},{value:16,label:"Qu\u1EA3n l\xFD h\u1EC7 th\u1ED1ng"}],{SubMenu:Nn}=xe;function Tl(){const n=Se(),t=w(i=>i.auth.user),[s,a]=o.exports.useState([""]),[l,h]=o.exports.useState([""]),A=zn().pathname,[m,p]=o.exports.useState([]);return o.exports.useEffect(()=>{if(A.includes("/users")){h([""]),a(["2"]);return}if(A.includes("/employees")){h(["employees"]),a(["3"]);return}if(A.includes("/salaries")){h(["employees"]),a(["4"]);return}if(A.includes("/classes")){h(["classes"]),a(["5"]);return}if(A.includes("/students")){h(["classes"]),a(["6"]);return}if(A.includes("/parents")){h(["classes"]),a(["7"]);return}if(A.includes("/study-summary")){h(["classes"]),a(["8"]);return}if(A.includes("/payments/payment-slips")){h(["payments"]),a(["9"]);return}if(A.includes("/payments/revenue")){h(["payments"]),a(["10"]);return}if(A.includes("payments/tuition")){h(["payments"]),a(["11"]);return}if(A.includes("/payments")){h(["payments"]);return}if(A.includes("/news")){a(["12"]);return}if(A.includes("/gifts")){a(["13"]);return}if(A.includes("/roles")){h(["permissions"]),a(["14"]);return}if(A.includes("/files")){a(["15"]);return}if(A.includes("/settings")){a(["16"]);return}if(A.includes("/")){h([""]),a(["1"]);return}},[A]),console.log(A,s),o.exports.useEffect(()=>{const i=[];r.exports.get(t,"roles",[]).map(({id:u,menues:y})=>{var F;if(u===1)i.push(...Rt.map(E=>E.value));else if(r.exports.isString(y)&&y.length>2){const E=`${y}`.substring(1,((F=`${y}`)==null?void 0:F.length)-1).split(",").map(f=>+f);i.push(...E)}else r.exports.isArray(y)&&y&&i.push(...y)}),p([...new Set(i)])},[t]),o.exports.useEffect(()=>{}),d(xe,{mode:"inline",selectedKeys:s,openKeys:l,style:{borderRight:"none"},children:[m.includes(1)&&e(xe.Item,{icon:e(Ur,{}),onClick:()=>n.push("/"),children:"Trang ch\u1EE7"},"1"),m.includes(2)&&e(xe.Item,{icon:e(ln,{}),onClick:()=>n.push("/users"),children:"Ng\u01B0\u1EDDi d\xF9ng"},"2"),(m.includes(3)||m.includes(4))&&d(Nn,{onTitleClick:()=>h(["employees"]),icon:e(Gr,{}),title:"Nh\xE2n vi\xEAn",children:[m.includes(3)&&e(xe.Item,{onClick:()=>n.push("/employees"),children:"Nh\xE2n vi\xEAn"},"3"),m.includes(4)&&e(xe.Item,{onClick:()=>n.push("/salaries"),children:"B\u1EA3ng l\u01B0\u01A1ng"},"4")]},"employees"),(m.includes(5)||m.includes(6)||m.includes(7)||m.includes(8))&&d(Nn,{onTitleClick:()=>h(["classes"]),icon:e(Qr,{}),title:"QL h\u1ECDc t\u1EADp",children:[m.includes(5)&&e(xe.Item,{onClick:()=>n.push("/classes"),children:"L\u1EDBp h\u1ECDc"},"5"),m.includes(6)&&e(xe.Item,{onClick:()=>n.push("/students"),children:"H\u1ECDc sinh"},"6"),m.includes(7)&&e(xe.Item,{onClick:()=>n.push("/parents"),children:"Ph\u1EE5 huynh"},"7"),m.includes(11)&&e(xe.Item,{onClick:()=>n.push("/study-summary"),children:"B\u1EA3ng t\u1ED5ng k\u1EBFt"},"8")]},"classes"),(m.includes(9)||m.includes(10)||m.includes(11))&&d(Nn,{onTitleClick:()=>h(["payments"]),icon:e(Or,{}),title:"Thu Chi",children:[m.includes(9)&&e(xe.Item,{onClick:()=>n.push("/payments/payment-slips"),children:"QL Chi ti\xEAu"},"9"),m.includes(10)&&e(xe.Item,{onClick:()=>n.push("/payments/revenue"),children:"QL doanh thu"},"10"),m.includes(11)&&e(xe.Item,{onClick:()=>n.push("/payments/tuition"),children:"QL h\u1ECDc ph\xED"},"11")]},"payments"),m.includes(12)&&e(xe.Item,{icon:e(wa,{}),onClick:()=>n.push("/news"),children:"Tin b\xE0i"},"12"),m.includes(13)&&e(xe.Item,{icon:e(pt,{}),onClick:()=>n.push("/gifts"),children:"Qu\xE0 t\u1EB7ng"},"13"),m.includes(14)&&e(xe.Item,{icon:e(jr,{}),onClick:()=>n.push("/roles"),children:"Vai tr\xF2"},"14"),m.includes(15)&&e(xe.Item,{icon:e(Ra,{}),onClick:()=>n.push("/files"),children:"QL File"},"15"),m.includes(16)&&e(xe.Item,{icon:e(Hr,{}),onClick:()=>n.push("/settings"),children:"H\u1EC7 th\u1ED1ng"},"16")]})}const pn={YYYY_MM_DD:"YYYY/MM/DD",YYYY_MM:"YYYY/MM",YYYY__MM__DD:"YYYY-MM-DD",DD_MM_YYYY_HH_mm_ss:"DD-MM-YYYY HH:mm:ss"};function En(n,t){return n?I(n).format(t):""}function ur(n,t){return I(n).diff(I(t))}function cr(n,t,s){const a=new Date(n),l=new Date(t),h=[],S=new Date(a.getTime()),A=new Date(S.setDate(S.getDate()+(7+s-S.getDay())%7));for(;A.getTime()<=l.getTime();)h.push(A.toLocaleDateString()),A.setDate(A.getDate()+7);return h}function hr(n,t){const s=[];return n.length==0||t.length==0||n.forEach(a=>{t.forEach(l=>{I(a).isSame(I(l))&&s.push(a)})}),s}function Dt(n){return W(n).format("(0,0)")}function vl(n){return W(n).format("0.0 b")}function pr(n){setTimeout(()=>{n.onSuccess&&n.onSuccess("ok")},0)}function rn(n){return za.includes(n.toLowerCase())}function Yl(n){return n===ee.ADMIM||n===ee.TEACHER||n===ee.TEACHER2||n===ee.PARENT||n===ee.SALE||n===ee.ON_MANAGER}function qe(n){let t=n;switch(n){case ee.ADMIM:t="Qu\u1EA3n tr\u1ECB h\u1EC7 th\u1ED1ng";break;case ee.TEACHER:t="Gi\xE1o vi\xEAn ch\xEDnh th\u1EE9c";break;case ee.TEACHER2:t="Gi\xE1o vi\xEAn h\u1EE3p \u0111\u1ED3ng";break;case ee.SALE:t="Nh\xE2n vi\xEAn kinh doanh";break;case ee.EMPLOYEE:t="Nh\xE2n vi\xEAn";break;case ee.PARENT:t="Ph\u1EE5 huynh";break;case ee.ON_MANAGER:t="Qu\u1EA3n l\xFD HS online";break}return t}function on(n){let t=n;switch(n){case"users":t="Ng\u01B0\u1EDDi d\xF9ng";break;case"get-list-teacher":t="Xem danh s\xE1ch ph\u1EE5 huynh";break;case"change-password-of-user":t="Thay \u0111\u1ED5i m\u1EADt kh\u1EA9u";break;case"add-teacher":t="Th\xEAm gi\xE1o vi\xEAn";break;case"restore-user":t="Kh\xF4i ph\u1EE5c t\xE0i kho\u1EA3n";break;case"tuition-fees":t="H\u1ECDc ph\xED";break;case"debit-tranfer":t="Chuy\u1EC3n n\u1EE3";break;case"tests":t="B\xE0i t\u1EADp";break;case"test-results":t="K\u1EBFt qu\u1EA3 b\xE0i t\u1EADp";break;case"study-summary-boards":t="B\u1EA3ng t\u1ED5ng k\u1EBFt";break;case"students":t="H\u1ECDc sinh";break;case"update-status":t="C\u1EADp nh\u1EADt tr\u1EA1ng th\xE1i";break;case"student-gifts":t="Ch\u1ECDn qu\xE0 t\u1EB7ng";break;case"settings":t="C\xE0i \u0111\u1EB7t h\u1EC7 th\u1ED1ng";break;case"salaries":t="B\u1EA3ng l\u01B0\u01A1ng";break;case"roles":t="Vai tr\xF2";break;case"set-role-for-list-user":t="Set vai tr\xF2 cho ng\u01B0\u1EDDi d\xF9ng";break;case"remove-role-of-list-user":t="B\u1ECF vai tr\xF2 c\u1EE7a ng\u01B0\u1EDDi d\xF9ng";break;case"review-lessons":t="Xem l\u1EA1i b\xE0i h\u1ECDc";break;case"receipts":t="Phi\u1EBFu thu";break;case"permissions":t="Ph\xE2n quy\u1EC1n";break;case"set-permission-for-user":t="Ph\xE2n quy\u1EC1n cho ng\u01B0\u1EDDi d\xF9ng";break;case"set-permission-for-role":t="Ph\xE2n quy\u1EC1n cho vai tr\xF2";break;case"list-permission-of-user":t="Xem ds quy\u1EC1n c\u1EE7a ng\u01B0\u1EDDi d\xF9ng";break;case"period-tuitions":t="Chu k\u1EF3 h\u1ECDc ph\xED";break;case"payment-slips":t="Phi\u1EBFu chi";break;case"notifications":t="Th\xF4ng b\xE1o";break;case"news":t="Tin t\u1EE9c";break;case"lessons":t="B\xE0i h\u1ECDc";break;case"lessons-feedback":t="Ph\u1EA3n h\u1ED3i b\xE0i h\u1ECDc";break;case"files":t="Qu\u1EA3n l\xFD files";break;case"day-offs":t="Ng\xE0y ngh\u1EC9";break;case"classes":t="L\u1EDBp h\u1ECDc";break;case"add-student":t="Th\xEAm h\u1ECDc sinh";break;case"attendances":t="\u0110i\u1EC3m danh";break;case"albums":t="Album \u1EA3nh ";break;case"gifts":t="Qu\xE0 t\u1EB7ng";break;case"devices":t="Thi\u1EBFt b\u1ECB nh\u1EADn th\xF4ng b\xE1o";break;case"many-updates":t="C\u1EADp nh\u1EADt theo l\u1EDBp";break;case"payment":t="X\xE1c nh\u1EADn thanh to\xE1n";break;case"statistical":t="Th\u1ED1ng k\xEA";break;case"revenue":t="Doanh thu";break;case"class":t="L\u1EDBp h\u1ECDc";break;case"update_status":t="C\u1EADp nh\u1EADt tr\u1EA1ng th\xE1i";break}return t}const Pl=$e.div``;function Ll(){const n=q(),t=w(i=>i.employeeReducer.employees),s=w(i=>i.auth.user),a=w(i=>i.paymentReducer.addPaymentStatus),[l,h]=o.exports.useState(!1),[S,A]=o.exports.useState(!1),[m]=D.useForm();o.exports.useEffect(()=>{n(Ie({}))},[n]),o.exports.useEffect(()=>{a==="loading"?A(!0):a==="success"?(A(!1),h(!1),m.resetFields()):a==="error"&&A(!1)},[a,m]);function p(i){const u=ie({},i);u.date=I(i.date).format("YYYY-MM-DD"),u.creator_employee_id=s==null?void 0:s.id,n(ls(u))}return d(Pl,{children:[e(R,{type:"primary",icon:e(Ae,{}),onClick:()=>h(!0),children:"Th\xEAm chi ti\xEAu"}),e(se,{width:1e3,visible:l,closable:!0,onCancel:()=>h(!1),footer:[e(R,{onClick:()=>h(!1),children:"Cancel"},""),e(R,{type:"primary",form:"eForm",htmlType:"submit",children:"Submit"},"submit")],children:e(De,{spinning:S,children:d(D,{id:"eForm",labelCol:{span:6},wrapperCol:{span:14},layout:"horizontal",form:m,onFinish:p,children:[e(Ke,{children:"Th\xEAm chi ti\xEAu m\u1EDBi"}),e(D.Item,{name:"pay_employee_id",label:"Ng\u01B0\u1EDDi chi",rules:[{required:!0,message:"Ng\u01B0\u1EDDi chi kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:e(O,{children:t&&r.exports.get(t,"data",[]).map(i=>{var u;return d(O.Option,{value:i.id,children:[`${r.exports.get(i,"profile.name","")}`," ",e("a",{children:(u=i.phone)!=null?u:""})]},i.id)})})}),e(D.Item,{name:"amount",label:"S\u1ED1 ti\u1EC1n",rules:[{required:!0,message:"S\u1ED1 ti\u1EC1n kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:e(pe,{style:{width:"100%"},formatter:i=>`${i}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:i=>i.replace(/(,*)/g,"")})}),e(D.Item,{name:"type",label:"Lo\u1EA1i chi ti\xEAu",rules:[{required:!0,message:"Lo\u1EA1i chi ti\xEAu kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:d(O,{children:[e(O.Option,{value:0,children:"C\u1ED1 \u0111\u1ECBnh"}),e(O.Option,{value:1,children:"Ph\xE1t sinh"})]})}),e(D.Item,{name:"date",label:"Ng\xE0y thu/ chi",rules:[{required:!0,message:"Ng\xE0y thu/ chi kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:e(ye,{})}),e(D.Item,{name:"reason",label:"L\xFD do",rules:[{required:!0,message:"L\xFD do kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:e(U.TextArea,{})}),e(D.Item,{name:"note",label:"Ghi ch\xFA",children:e(U.TextArea,{})})]})})})]})}$e.div`
	position: relative;
	border: 1px solid rgba(64, 64, 64, 0.5);
	border-radius: 10px;
	padding: 10px 30px;
	.text-center {
		text-align: center;
	}
	.mb-20px {
		margin-bottom: 20px;
	}
	.logo {
		position: absolute;
		left: 50%;
		top: 50%;
		transform: translate(-50%, -50%);
		opacity: 70%;
	}
`;function Nl({handleShowDetail:n,show:t,data:s}){return e(Q,{children:e(Te,{width:800,title:"Th\xF4ng tin phi\u1EBFu chi",visible:t,cancelText:"",onCancel:()=>n(!1),children:s&&d(j,{bordered:!0,children:[e(j.Item,{span:2,label:"Ng\u01B0\u1EDDi l\u1EADp",children:e("a",{href:"#",children:r.exports.get(s,"creator.profile.name")})}),e(j.Item,{label:"Ng\xE0y l\u1EADp",children:I(s==null?void 0:s.created_at).format("DD-MM-YYYY HH:mm")}),e(j.Item,{label:"S\u1ED1 ti\u1EC1n",children:d("strong",{style:{color:"#cf1322"},children:[" ",Dt((s==null?void 0:s.amount)||0)]})}),e(j.Item,{label:"Lo\u1EA1i chi",children:e(te,{color:(s==null?void 0:s.type)===1?"#3498db":"#d35400",children:s&&$n[s==null?void 0:s.type]})}),e(j.Item,{label:"Tr\u1EA1ng th\xE1i",children:e(te,{color:s.status===1?"green":"red",children:Ja[s==null?void 0:s.status]})}),e(j.Item,{label:"L\xFD do",span:4,children:s==null?void 0:s.reason}),e(j.Item,{label:"Ghi ch\xFA",children:s==null?void 0:s.note})]})})})}const{RangePicker:Ml}=ye;$e.div`
	.ant-table-tbody > tr.ant-table-row:hover > td {
		background: #61dafb38;
	}
	.ant-table-tbody > tr.ant-table-row.editing-row > td {
		background: #61dafb38;
	}
`;const{confirm:Ul}=se;function Gl(){const n=q(),[t,s]=o.exports.useState(["",""]),[a,l]=o.exports.useState(!1),[h,S]=o.exports.useState([]),[A,m]=o.exports.useState(0),[p,i]=o.exports.useState(!1),[u,y]=o.exports.useState(null),[F,E]=o.exports.useState(1),[f,C]=o.exports.useState(""),[c,x]=o.exports.useState([]),[g,_]=o.exports.useState([]),b=w(M=>M.paymentReducer.payments),T=w(M=>M.paymentReducer.getPaymentStatus),v=w(M=>M.paymentReducer.updatePaymentStatus),P=w(M=>M.paymentReducer.addPaymentStatus),N=w(M=>M.paymentReducer.deletePaymentStatus);o.exports.useRef(r.exports.debounce(M=>n(Ge({search:M})),500)).current,o.exports.useEffect(()=>{const M=I().startOf("month").format("YYYY-MM-DD"),z=I().endOf("month").format("YYYY-MM-DD");n(Ge({fromDate:M,toDate:z}))},[n]),o.exports.useEffect(()=>{const z=r.exports.get(b,"data",[]).reduce((ne,J)=>ne+ +J.amount,0);z&&m(z)},[b]);const H=o.exports.useCallback(M=>{const z={},ne=t[0],J=t[1];ne&&(z.fromDate=ne),J&&(z.toDate=J),f&&(z.search=f),n(Ge(ge(ie({},z),{page:M})))},[n,t,f]);o.exports.useEffect(()=>{H(F)},[n,H,F]),o.exports.useEffect(()=>{if(T==="loading"||v==="loading"||N==="loading")l(!0);else if(T==="success"){const M=r.exports.get(b,"data",[]),z=M.reduce((ne,J)=>ne+ +J.amount,0);(z||z===0)&&m(z),S(M),n(co()),l(!1),_([]),x([])}else v==="success"?(n(po()),n(Ge({}))):P==="success"?(n(ho()),n(Ge({}))):N==="success"?n(Ge({})):(T==="error"||v==="error"||N==="error")&&l(!1)},[n,b,P,T,v,N]);function Z(M,z){s([z[0],z[1]]),console.log(z[0],z[1])}function K(){const M=[];c.forEach(ne=>M.push(ne.id)),n(ds({payment_slip_ids:M,status:1}))}function B(M){Ul({title:"B\u1EA1n mu\u1ED1n xo\xE1 phi\u1EBFu chi n\xE0y!",icon:e(Re,{}),onOk(){n(us(M.id))}})}console.log(c);const G=[{width:200,title:"Ng\xE0y t\u1EA1o",dataIndex:"date",key:"payemnt_date",render:function(z){return e(Q,{children:En(z,pn.DD_MM_YYYY_HH_mm_ss)})}},{width:200,title:"Ng\u01B0\u1EDDi chi",dataIndex:"_",key:"payemnt_payer",render:function(z,ne){return e("a",{children:r.exports.get(ne,"payer.profile.name","")})}},{width:100,title:"Lo\u1EA1i chi",dataIndex:"type",key:"payemnt_type",align:"center",render:function(z){return e(te,{color:z===0?"#e67e22":"#e74c3c",children:$n[z]})}},{width:200,title:"S\u1ED1 ti\u1EC1n",dataIndex:"amount",key:"payemnt_amount",render:function(z){return e("strong",{style:{color:"#cf1322"},children:Dt(z)})}},le.SELECTION_COLUMN,{title:"Tr\u1EA1ng th\xE1i",dataIndex:"status",key:"payemnt_status",editable:!0,render:function(z){return e(te,{color:z===1?"green":"red",children:Ja[z]})}},{width:"10%",title:"Action",key:"payemnt_action",render:function(z,ne){return d(V,{children:[e(X,{placement:"top",title:"Chi ti\u1EBFt",children:e(R,{onClick:J=>{i(!0),y(ne)},type:"link",icon:e(Ba,{})})}),e(X,{placement:"top",title:"Xo\xE1 phi\u1EBFu chi",children:e(R,{onClick:J=>{B(ne)},type:"link",danger:!0,disabled:ne.status===1,icon:e(Ut,{})})})]})}}];return d(re.Content,{children:[d(Ce,{style:{marginBottom:20,marginTop:20},justify:"start",children:[e(he,{children:e(Ce,{justify:"start",children:e(Ml,{allowEmpty:[!0,!0],onChange:Z,defaultValue:[I().startOf("month"),I().endOf("month")]})})}),e(he,{style:{marginLeft:20},children:e(Ll,{})})]}),e(Ce,{style:{justifyContent:"flex-end"},children:e(tn,{title:"T\u1ED5ng chi",value:A,suffix:"VND",valueStyle:{color:"#cf1322"}})}),d(De,{spinning:a,children:[c.length>0&&d(V,{style:{marginBottom:20},children:[e(R,{type:"primary",icon:e(Ve,{}),onClick:()=>K(),loading:!1,children:"X\xE1c nh\u1EADn"}),e("span",{style:{marginLeft:8},children:c.length>0?`${c.length} phi\u1EBFu chi`:""})]}),e(le,{rowKey:"id",size:"small",dataSource:h,columns:G,rowSelection:{selectedRowKeys:g,onChange:(M,z)=>{x(z),_(M)},getCheckboxProps:M=>({disabled:M.status===1})},pagination:{pageSize:20,total:r.exports.get(b,"total",0),onChange:M=>{E(M)}}}),e(Nl,{handleShowDetail:i,show:p,data:u})]})]})}function jn(n,t){const s=o.exports.useRef(),a=o.exports.useRef();function l(){a.current&&clearTimeout(a.current)}return o.exports.useEffect(()=>l,[]),function(...S){s.current=S,l(),a.current=setTimeout(()=>{s.current&&n(...s.current)},t)}}function Ql(){const n=q(),[t]=D.useForm(),[s,a]=o.exports.useState(!1),[l,h]=o.exports.useState(!1),S=w(m=>m.parentReducer.addParentStatus);return d("div",{children:[e(R,{icon:e(Ae,{}),type:"primary",onClick:()=>a(!0),children:"Th\xEAm ph\u1EE5 huynh"}),e(Te,{title:"Th\xF4ng tin ph\u1EE5 huynh",closable:!0,visible:s,onCancel:()=>a(!1),width:800,footer:[e(ce,{onChange:m=>h(m.target.checked),children:"Gi\u1EEF c\u1EEDa s\u1ED5"},"keepShow"),e(R,{onClick:()=>a(!1),children:"Hu\u1EF7 b\u1ECF"},"btncanl"),e(R,{htmlType:"submit",form:"aForm",type:"primary",loading:S==="loading",children:"L\u01B0u l\u1EA1i"},"btnSubmit")],children:d(D,{form:t,id:"aForm",labelCol:{span:6},wrapperCol:{span:14},onFinish:m=>{n(is(ge(ie({},m),{role_id:We.PARENT}))).finally(()=>{l===!1&&a(!1),t.setFieldsValue({name:"",phone:"",email:""}),n(ze({page:1}))})},children:[e(D.Item,{label:"H\u1ECD t\xEAn",name:"name",children:e(U,{})}),e(D.Item,{label:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i",name:"phone",children:e(U,{})}),e(D.Item,{label:"Email",name:"email",children:e(U,{})})]})})]})}function Ol(n){const{parentInfo:t,searchStudent:s,students:a,show:l,setShow:h}=n,S=Ue(),[A,m]=o.exports.useState([]);o.exports.useEffect(()=>{l&&s("")},[l]);const p=()=>{t&&(A.map(u=>{S(mt({data:{parent_id:t.id},sID:u}))}),h(!1))};function i(u){m(u)}return e(Q,{children:e(Te,{title:"Th\xEAm h\u1ECDc sinh",visible:l,onCancel:()=>h(!1),closable:!0,width:800,footer:[e(R,{type:"primary",onClick:p,children:"L\u01B0u l\u1EA1i"},"btnsubmit")],children:e(V,{direction:"vertical",style:{width:"100%"},children:e(O,{mode:"multiple",style:{width:"100%"},placeholder:"Ch\u1ECDn h\u1ECDc sinh...",showSearch:!0,onSearch:u=>s(u),allowClear:!0,filterOption:!1,onChange:i,children:a&&a.filter(u=>!u.parent).map(u=>d(O.Option,{value:u.id,label:`${r.exports.get(u,"name","")}`,children:[e("a",{children:r.exports.get(u,"name","")})," ",r.exports.get(u,"birthday","")]},u.id))})})})})}function jl(){const n=q(),[t,s]=o.exports.useState(1),[a,l]=o.exports.useState(""),[h,S]=o.exports.useState(-1),[A,m]=o.exports.useState(!1),[p,i]=o.exports.useState(-1),[u,y]=o.exports.useState(null),[F]=D.useForm(),E=w(v=>v.parentReducer.getParentsStatus),f=w(v=>v.parentReducer.parents),C=w(v=>v.parentReducer.updateParentStatus),c=w(v=>v.studentReducer.students),x=jn(v=>{l(v),n(ze({page:1,search:v}))},500),g=jn(v=>{l(v),n(Fe({page:1,search:v}))},500);o.exports.useEffect(()=>{n(ze({page:t,search:a}))},[n,t]),o.exports.useEffect(()=>{C==="success"&&(_(-1,null),n(ze({page:1,search:a})))},[C]);function _(v,P){S(v),v===-1?y(null):P&&y({user_id:P.id,name:r.exports.get(P,"profile.name",""),email:r.exports.get(P,"profile.email","")})}function b(v){h===v&&u&&n(os({data:{name:u.name,email:u.email,gender:0},uID:u.user_id}))}const T=[{width:"15%",title:"H\u1ECD t\xEAn",key:"name",editable:!0,render:function(P,N,H){return h===H?e(U,{value:u==null?void 0:u.name,onChange:Z=>{u&&(u.name=Z.target.value,y(ie({},u)))}}):e("a",{children:r.exports.get(N,"profile.name","")})}},{width:"10%",title:"Email",key:"email",editable:!0,render:function(P,N,H){return h===H?e(U,{value:u==null?void 0:u.email,onChange:Z=>{u&&(u.email=Z.target.value,y(ie({},u)))}}):e("span",{children:r.exports.get(N,"profile.email","")})}},{width:"10%",title:"\u0110i\u1EC7n tho\u1EA1i",key:"phone",editable:!0,render:function(P,N){return d(V,{children:[N.phone," ",N.phone_verified_at==null?e(te,{color:"red",children:"Ch\u01B0a x\xE1c th\u1EF1c"}):""]})}},{width:"15%",title:"Action",key:"action",render:function(P,N,H){return h===H?e(V,{children:d("span",{children:[e(R,{size:"small",type:"primary",onClick:()=>b(H),style:{marginRight:8},loading:C==="loading",children:"L\u01B0u l\u1EA1i"}),e(R,{size:"small",type:"primary",danger:!0,onClick:()=>_(-1,N),children:"Hu\u1EF7 b\u1ECF"})]})}):d(V,{children:[N.phone_verified_at==null?e(X,{placement:"top",title:"X\xE1c minh",children:e(R,{type:"link",icon:e(Ve,{})})}):"",e(R,{type:"link",icon:e(bt,{}),disabled:h!==-1,onClick:()=>_(H,N)})]})}}];return d(re.Content,{children:[d(Ce,{style:{marginBottom:20,marginTop:20},justify:"start",children:[e(he,{span:10,children:e(U.Search,{allowClear:!0,onChange:({target:{value:v}})=>x(v),placeholder:"T\xECm theo t\xEAn, email ho\u1EB7c s\u1ED1 \u0111i\u1EC7n tho\u1EA1i..."})}),e(he,{span:6,style:{marginLeft:20},children:e(Ql,{})})]}),e(D,{form:F,component:!1,children:e(le,{bordered:!0,loading:E==="loading",columns:T,rowKey:"id",dataSource:r.exports.get(f,"data",[]),pagination:{pageSize:20,total:r.exports.get(f,"total",0),onChange:v=>{s(v)}}})}),e(Ol,{parentInfo:r.exports.get(f,"data",[])[p],students:r.exports.get(c,"data",[]),searchStudent:g,show:A,setShow:m})]})}const{Option:Hl}=O;function zl({onHandleSubmit:n}){const t=q(),[s]=D.useForm(),[a,l]=o.exports.useState(!1),h=w(y=>y.roleReducer.statusCreateRole),S=w(y=>y.userReducer.users),[A,m]=o.exports.useState([]),[p,i]=o.exports.useState([]);o.exports.useEffect(()=>{h==="success"&&(s.resetFields(),i([]),m([]),l(!1),t(yo()))},[s,h,t]),o.exports.useEffect(()=>{t(At({}))},[t]);function u(y){m(y)}return d("div",{children:[e(R,{type:"primary",icon:e(Ae,{}),onClick:()=>l(!0),children:"Th\xEAm vai tr\xF2 m\u1EDBi"}),e(se,{title:"Th\xEAm vai tr\xF2 m\u1EDBi",width:600,visible:a,closable:!0,onCancel:()=>l(!1),footer:[e(R,{onClick:()=>l(!1),children:"Cancel"},""),e(R,{type:"primary",form:"eForm",htmlType:"submit",children:"Submit"},"submit")],children:e(De,{spinning:h==="loading",children:d(D,{id:"eForm",form:s,layout:"vertical",onFinish:y=>{n(y,p)},children:[e(D.Item,{name:"name",label:d(Q,{children:["T\xEAn vai tr\xF2(",e("span",{style:{color:"#e74c3c"},children:"vi\u1EBFt li\u1EC1n, kh\xF4ng d\u1EA5u, kh\xF4ng tr\xF9ng v\u1EDBi vai tr\xF2 kh\xE1c"}),")"]}),rules:[{required:!0,message:"T\xEAn vai tr\xF2 kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:e(U,{autoComplete:"off"})}),e(D.Item,{name:"description",label:"M\xF4 t\u1EA3",children:e(U,{autoComplete:"off"})}),e(D.Item,{label:"Th\xEAm th\xE0nh vi\xEAn m\u1EDBi",name:"user_ids",children:e(O,{mode:"multiple",showArrow:!0,style:{width:"100%"},listHeight:600,value:A,onChange:y=>u(y),tagRender:y=>e(te,{color:"green",onMouseDown:F=>{F.preventDefault(),F.stopPropagation()},closable:y.closable,onClose:y.onClose,style:{fontSize:15,margin:"5px 5px",padding:5},children:y.label}),children:r.exports.get(S,"data",[]).map(y=>d(Hl,{value:y.id,children:[e("a",{children:r.exports.get(y,"profile.name","")})," ",y.phone]},y.id))})})]})})})]})}const{Option:Kl}=O;function Vl(n){const t=q(),{roleInfo:s,show:a,setShow:l}=n,[h,S]=o.exports.useState([]),[A,m]=o.exports.useState([]),[p,i]=o.exports.useState(),[u,y]=o.exports.useState(!1),F=w(c=>c.userReducer.users);o.exports.useEffect(()=>{t(Pe({per_page:1e3}))},[]),o.exports.useEffect(()=>{const c=[],x=[];r.exports.get(s,"users",[]).forEach(g=>{c.push({id:g.id,name:r.exports.get(g,"profile.name",""),phone:g.phone})}),r.exports.get(F,"data",[]).forEach(g=>{c.findIndex(_=>_.id===g.id)===-1&&x.push({id:g.id,name:r.exports.get(g,"profile.name",""),phone:g.phone})}),S(c),m(x)},[s,F]);function E(c){const x=h.findIndex(g=>g.id===c);if(x>=0){const g=h.splice(x,1);A.push(g[0]),S([...h]),m([...A])}}function f(){if(p===void 0)return;const c=A.findIndex(x=>x.id===p);if(c>=0){const x=A.splice(c,1);h.push(x[0]),m([...A]),S([...h])}i(void 0)}function C(){const c=[],x=[];if(r.exports.get(s,"users",[]).forEach(g=>{h.findIndex(_=>_.id===g.id)===-1&&x.push(g.id)}),h.forEach(g=>{r.exports.get(s,"users",[]).findIndex(_=>_.id===g.id)===-1&&c.push(g.id)}),r.exports.get(s,"id",0)===0){zr.warning({message:"Kh\xF4ng t\xECm th\u1EA5y vai tr\xF2!"});return}y(!0),t(ms({role_id:s.id,add_user_ids:c,remove_user_ids:x})).finally(()=>y(!1))}return e(Q,{children:d(se,{width:600,visible:a,onCancel:()=>l(!1),closable:!0,title:"Danh s\xE1ch ng\u01B0\u1EDDi d\xF9ng",okText:"L\u01B0u l\u1EA1i",cancelText:"Hu\u1EF3 b\u1ECF",footer:[e(R,{onClick:()=>l(!1),children:"Hu\u1EF7 b\u1ECF"},"btncancel"),e(R,{loading:u,type:"primary",onClick:()=>C(),children:"L\u01B0u l\u1EA1i"},"btnsubmit")],children:[h.length>0?e(ue,{size:"small",dataSource:h,renderItem:c=>d(ue.Item,{actions:[e(R,{danger:!0,type:"text",icon:e(Gt,{}),onClick:()=>E(c.id)},"btnDelete")],children:[e("a",{children:c.name})," ",c.phone]})}):"",d(V,{style:{paddingTop:20},children:[e(O,{style:{width:320},placeholder:"Th\xEAm ng\u01B0\u1EDDi d\xF9ng",allowClear:!0,showSearch:!0,filterOption:(c,x)=>{var g;return((g=x==null?void 0:x.label)==null?void 0:g.toLowerCase().indexOf(c.toLowerCase()))>=0},value:p,onChange:c=>i(c),children:A.map((c,x)=>d(Kl,{value:c.id,label:c.name,children:[e("a",{children:c.name})," ",c.phone]},x))}),e(R,{type:"primary",icon:e(Ae,{}),onClick:()=>f()})]})]})})}function ql(n){var f;const t=Ue(),{setShow:s,show:a,roleInfo:l}=n,[h,S]=o.exports.useState([]),[A,m]=o.exports.useState(!1),[p,i]=o.exports.useState(!1),u=w(C=>C.roleReducer.statusUpdateRole);o.exports.useEffect(()=>{var C;a&&S((C=l==null?void 0:l.menues)!=null?C:[])},[a]),o.exports.useEffect(()=>{u==="success"&&s(!1)},[u]),o.exports.useEffect(()=>{m(h.length===Rt.length),i(!!h.length&&h.length<Rt.length)},[h]);function y(){console.log("submiting");const C={role_id:l.id,menues:[...h]};t(gs(C))}function F({target:{checked:C}}){S(C?Rt.map(c=>c.value):[])}function E(C){S(C)}return d(se,{width:600,visible:a,onCancel:()=>s(!1),closable:!0,title:`C\xE0i \u0111\u1EB7t menu hi\u1EC3n th\u1ECB cho ${(f=l==null?void 0:l.name)!=null?f:""}`,okText:"L\u01B0u l\u1EA1i",cancelText:"Hu\u1EF3 b\u1ECF",footer:[e(R,{onClick:()=>s(!1),children:"Hu\u1EF7 b\u1ECF"},"btncancel"),e(R,{loading:u==="loading",type:"primary",onClick:y,children:"L\u01B0u l\u1EA1i"},"btnsubmit")],children:[e("div",{style:{marginBottom:10},children:e(ce,{checked:A,indeterminate:p,onChange:F,children:"Hi\u1EC3n th\u1ECB t\u1EA5t c\u1EA3"})}),e(ce.Group,{onChange:E,value:h,children:e("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr"},children:Rt.map(C=>e("div",{style:{marginBottom:10},children:e(ce,{value:C.value,children:C.label})},C.value))})})]})}const{confirm:$l}=se;function Jl(){const n=q(),t=Se(),[s,a]=o.exports.useState(!1),[l,h]=o.exports.useState(!1),[S,A]=o.exports.useState(-1),m=w(x=>x.roleReducer.statusCreateRole),p=w(x=>x.roleReducer.statusGetRole),i=w(x=>x.roleReducer.statusDeleteRole),u=w(x=>x.roleReducer.statusUpdateRole),y=w(x=>x.roleReducer.roles);o.exports.useEffect(()=>{n(Ye(0))},[n]),o.exports.useEffect(()=>{m==="success"&&n(Ye(0)),p==="success"&&n(Co()),u==="success"&&(n(Ye(0)),n(Ao())),i==="success"&&(n(Ye(0)),n(So()))},[n,m,i,p,u]);function F(x,g){n(Es(ge(ie({},x),{permission_ids:[...g]})))}function E(x){$l({title:"B\u1EA1n mu\u1ED1n xo\xE1 vai tr\xF2 n\xE0y?",icon:e(Re,{}),content:"L\u01B0u \xFD khi xo\xE1 vai tr\xF2, t\u1EA5t c\u1EA3 quy\u1EC1n c\u1EE7a nh\xE2n vi\xEAn c\xF3 vai tr\xF2 n\xE0y s\u1EBD b\u1ECB xo\xE1!",onOk(){n(ps(x)).finally(()=>{n(Ye(0))})}})}function f(x){a(!0),A(x)}function C(x){h(!0),A(x)}const c=[{title:"Id",key:"id",dataIndex:"id",defaultSortOrder:"ascend",showSorterTooltip:!1,sorter:{compare:(x,g)=>x.id-g.id,multiple:3},width:70},{title:"T\xEAn",key:"name",dataIndex:"name",render:function(g,_){return d(V,{children:[e(Kr,{}),e("strong",{children:g}),e("span",{style:{color:"#95a5a6"},children:_.description===null?qe(g):_.description})]})}},{title:"S\u1ED1 th\xE0nh vi\xEAn",key:"users",dataIndex:"users",render:function(g){return e("a",{children:g.length})},showSorterTooltip:!1,sorter:{compare:(x,g)=>x.users.length-g.users.length,multiple:2}},{title:"Ng\xE0y t\u1EA1o",key:"created_at",dataIndex:"created_at",render:function(g){return e(Q,{children:En(g,pn.DD_MM_YYYY_HH_mm_ss)})},showSorterTooltip:!1,sorter:{compare:(x,g)=>ur(x.created_at,g.created_at),multiple:2}},{title:"",key:"action",render:function(g,_,b){return d(V,{children:[e(X,{title:"Xo\xE1 vai tr\xF2",children:e(R,{type:"link",danger:!0,disabled:Yl(_.name),onClick:()=>E(_.id),icon:e(Ut,{})})}),e(X,{title:"DS ng\u01B0\u1EDDi d\xF9ng",children:e(R,{type:"link",icon:e(ln,{}),onClick:()=>f(b)})}),e(X,{title:"Ph\xE2n quy\u1EC1n vai tr\xF2",children:e(R,{type:"link",onClick:()=>t.push(`/roles-set-permissions/${_.id}`),icon:e(Vr,{})})}),e(X,{title:"C\xE0i \u0111\u1EB7t menu hi\u1EC3n th\u1ECB",children:e(R,{type:"link",onClick:()=>C(b),icon:e(qr,{})})})]})}}];return d(re.Content,{children:[e(Ce,{style:{marginBottom:20,marginTop:20},justify:"start",children:e(he,{span:6,style:{marginLeft:20},children:e(zl,{onHandleSubmit:F})})}),e(le,{bordered:!0,columns:c,loading:p==="loading"||i==="loading",pagination:{pageSize:20},dataSource:y,rowKey:"id"}),e(Vl,{roleInfo:y[S],show:s,setShow:a}),e(ql,{roleInfo:y[S],show:l,setShow:h})]})}function Xl(n){const{parents:t,searchParent:s,searchStatus:a}=n,[l]=D.useForm(),[h,S]=o.exports.useState(!1),[A,m]=o.exports.useState(!1),p=q(),i=w(E=>E.studentReducer.addStudentStatus),u=r.exports.get(t,"data",[]);o.exports.useEffect(()=>{h&&s("")},[h]);const y=E=>{console.log("submit form:",E);const f=ge(ie({},E),{birthday:I(E.birthday).format("YYYY-MM-DD"),admission_date:I(E.admission_date).format("YYYY-MM-DD"),is_special:E.is_special===!0?1:0});p(xs(f)).finally(()=>{p(Fe({})),F()})};function F(){A===!1&&S(!1),l.setFieldsValue({name:"",parent_id:null,gender:null,birthday:null,school:"",address:"",admission_date:null,knowledge_status:"",is_special:!1,personality:"",interests:"",dislikes:"",hope:"",type:0})}return d("div",{children:[e(R,{type:"primary",icon:e(Ae,{}),onClick:()=>S(!0),children:"Th\xEAm h\u1ECDc sinh"}),e(se,{visible:h,title:"Th\xF4ng tin h\u1ECDc sinh",onCancel:()=>S(!1),width:1e3,footer:[e(ce,{onChange:E=>m(E.target.checked),children:"Gi\u1EEF c\u1EEDa s\u1ED5"},"keepShow"),e(R,{onClick:()=>F(),children:"Hu\u1EF7 b\u1ECF"},"btnCancel"),e(R,{type:"primary",htmlType:"submit",form:"addStudentForm",loading:i==="loading",children:"L\u01B0u th\xF4ng tin"},"btnSubmit")],children:d(D,{id:"addStudentForm",labelCol:{span:6},wrapperCol:{span:14},layout:"horizontal",form:l,onFinish:y,children:[e(D.Item,{label:"H\u1ECD v\xE0 t\xEAn",name:"name",rules:[{required:!0,message:"H\u1ECD t\xEAn kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:e(U,{})}),e(D.Item,{name:"parent_id",label:"Ph\u1EE5 huynh",children:e(O,{showSearch:!0,allowClear:!0,onSearch:E=>s(E),filterOption:!1,notFoundContent:a==="loading"?e(De,{size:"small"}):null,children:u.map(E=>d(O.Option,{value:E.id,label:`${r.exports.get(E,"profile.name","")} (${E.phone})`,children:[e("a",{children:r.exports.get(E,"profile.name","")})," (",E.phone,")"]},E.id))})}),e(D.Item,{name:"type",label:"Lo\u1EA1i",wrapperCol:{span:2},rules:[{required:!0,message:"Lo\u1EA1i kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:d(O,{style:{width:120},children:[e(O.Option,{value:1,children:"Online"}),e(O.Option,{value:0,children:"Offline"})]})}),e(D.Item,{name:"gender",label:"Gi\u1EDBi t\xEDnh",wrapperCol:{span:2},children:d(O,{children:[e(O.Option,{value:1,children:"Nam"}),e(O.Option,{value:0,children:"N\u1EEF"}),e(O.Option,{value:2,children:"Kh\xE1c"})]})}),e(D.Item,{name:"birthday",label:"Sinh nh\u1EADt",children:e(ye,{})}),e(D.Item,{name:"admission_date",label:"Ng\xE0y nh\u1EADp h\u1ECDc",rules:[{required:!0,message:"Ng\xE0y nh\u1EADp h\u1ECDc kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:e(ye,{})}),e(D.Item,{name:"school",label:"Tr\u01B0\u1EDDng \u0111ang h\u1ECDc",children:e(U,{})}),e(D.Item,{name:"address",label:"\u0110\u1ECBa ch\u1EC9",children:e(U,{})}),e(D.Item,{name:"knowledge_status",label:"T\xECnh tr\u1EA1ng \u0111\u1EA7u v\xE0o",children:e(pe,{})}),e(D.Item,{name:"is_special",label:"Tr\u01B0\u1EDDng h\u1EE3p \u0111\u1EB7c bi\u1EC7t",valuePropName:"checked",children:e(Ia,{})}),e(D.Item,{name:"personality",label:"T\xEDnh c\xE1ch",children:e(U.TextArea,{})}),e(D.Item,{name:"interests",label:"S\u1EDF th\xEDch",children:e(U.TextArea,{})}),e(D.Item,{name:"dislikes",label:"S\u1EDF gh\xE9t",children:e(U.TextArea,{})}),e(D.Item,{name:"hope",label:"\u01AF\u1EDBc m\u01A1",children:e(U.TextArea,{})})]})})]})}const ca="DD/MM/YYYY";function Wl(n){const{student:t,parents:s,show:a,setShow:l,searchParent:h,searchStatus:S}=n,A=q(),[m]=D.useForm(),p=w(u=>u.studentReducer.updateStudentStatus);return o.exports.useEffect(()=>{t&&(m.setFieldsValue({name:t.name,parent_id:r.exports.get(t,"parent.id",null),gender:t.gender,birthday:I(t.birthday),admission_date:I(t.admission_date),school:t.school,address:t.address,interests:t.interests,dislikes:t.dislikes,personality:t.personality,hope:t.hope,knowledge_status:t.knowledge_status,is_special:t.is_special,type:t.type}),h(""))},[t,m]),e("div",{children:e(se,{visible:a,title:"S\u1EEDa th\xF4ng tin h\u1ECDc sinh",onCancel:()=>l(!1),width:1e3,footer:[e(R,{onClick:()=>l(!1),children:"Hu\u1EF7 b\u1ECF"},"btnCancel"),e(R,{type:"primary",loading:p==="loading",htmlType:"submit",form:"uForm",children:"L\u01B0u th\xF4ng tin"},"btnSubmit")],children:d(D,{id:"uForm",form:m,labelCol:{span:6},wrapperCol:{span:14},layout:"horizontal",onFinish:u=>{t&&A(mt({data:ge(ie(ie({},t),u),{birthday:I(u.birthday).format("YYYY-MM-DD"),admission_date:I(u.admission_date).format("YYYY-MM-DD"),is_special:u.is_special===!0?1:0}),sID:t.id})).finally(()=>{l(!1),A(Fe({}))})},children:[e(D.Item,{label:"H\u1ECD v\xE0 t\xEAn",name:"name",rules:[{required:!0,message:"H\u1ECD t\xEAn kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:e(U,{})}),e(D.Item,{name:"parent_id",label:"Ph\u1EE5 huynh",children:e(O,{showSearch:!0,allowClear:!0,onSearch:u=>h(u),notFoundContent:S==="loading"?e(De,{size:"small"}):null,filterOption:!1,children:r.exports.get(s,"data",[]).map(u=>d(O.Option,{value:u.id,label:`${r.exports.get(u,"profile.name","")} (${u.phone})`,children:[e("a",{children:r.exports.get(u,"profile.name")})," (",u.phone,")"]},u.id))})}),e(D.Item,{name:"type",label:"Lo\u1EA1i",wrapperCol:{span:2},rules:[{required:!0}],children:d(O,{style:{width:120},children:[e(O.Option,{value:1,children:"Online"}),e(O.Option,{value:0,children:"Offline"})]})}),e(D.Item,{name:"gender",label:"Gi\u1EDBi t\xEDnh",wrapperCol:{span:2},children:d(O,{children:[e(O.Option,{value:1,children:"Nam"}),e(O.Option,{value:0,children:"N\u1EEF"}),e(O.Option,{value:2,children:"Kh\xE1c"})]})}),e(D.Item,{name:"birthday",label:"Sinh nh\u1EADt",children:e(ye,{format:ca})}),e(D.Item,{name:"admission_date",label:"Ng\xE0y nh\u1EADp h\u1ECDc",rules:[{required:!0,message:"Ng\xE0y nh\u1EADp h\u1ECDc kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:e(ye,{format:ca})}),e(D.Item,{name:"school",label:"Tr\u01B0\u1EDDng \u0111ang h\u1ECDc",children:e(U,{})}),e(D.Item,{name:"address",label:"\u0110\u1ECBa ch\u1EC9",children:e(U,{})}),e(D.Item,{name:"knowledge_status",label:"T\xECnh tr\u1EA1ng \u0111\u1EA7u v\xE0o",children:e(pe,{})}),e(D.Item,{name:"is_special",label:"Tr\u01B0\u1EDDng h\u1EE3p \u0111\u1EB7c bi\u1EC7t",valuePropName:"checked",children:e(Ia,{})}),e(D.Item,{name:"personality",label:"T\xEDnh c\xE1ch",children:e(U.TextArea,{})}),e(D.Item,{name:"interests",label:"S\u1EDF th\xEDch",children:e(U.TextArea,{})}),e(D.Item,{name:"dislikes",label:"S\u1EDF gh\xE9t",children:e(U.TextArea,{})}),e(D.Item,{name:"hope",label:"\u01AF\u1EDBc m\u01A1",children:e(U.TextArea,{})})]})})})}function Zl(n){const{student:t,classesList:s,searchClass:a,searchStatus:l}=n,[h,S]=o.exports.useState(!1),[A,m]=o.exports.useState(null),p=q(),i=w(F=>F.studentReducer.updateStudentStatus);o.exports.useEffect(()=>{i==="success"&&S(!1)},[i]);const u=F=>{m(F)},y=()=>{if(A){const F=ge(ie({},t),{class_id:A});p(mt({data:F,sID:t.id}))}};return d(Q,{children:[t.class===null?e(X,{placement:"top",title:"Nh\u1EADp l\u1EDBp",children:e(R,{onClick:()=>S(!0),type:"link",icon:e($r,{})})}):e(X,{title:"Chuy\u1EC3n l\u1EDBp",children:e(R,{icon:e(Jr,{onClick:()=>S(!0)}),type:"link"})}),e(Te,{title:"Nh\u1EADp l\u1EDBp h\u1ECDc",visible:h,closable:!0,onCancel:()=>S(!1),footer:[e(R,{type:"primary",onClick:y,loading:i==="loading",children:"L\u01B0u l\u1EA1i"},"btnSubmit")],children:e(V,{direction:"vertical",style:{width:"100%"},children:d(O,{style:{width:"100%"},placeholder:"Ch\u1ECDn l\u1EDBp",onChange:u,showSearch:!0,onSearch:F=>a(F),notFoundContent:l==="loading"?e(De,{size:"small"}):null,defaultValue:r.exports.get(t,"class.id",0),children:[e(O.Option,{value:0,children:"Ch\u1ECDn l\u1EDBp h\u1ECDc"}),r.exports.get(s,"data",[]).map(F=>e(O.Option,{value:F.id,children:F.name},F.id))]})})})]})}function ed(n){const{studen_id:t}=n,[s,a]=o.exports.useState(!1),l=q(),[h,S]=o.exports.useState(!1);return d(Q,{children:[e(X,{placement:"top",title:"\u0110\u1ED5i tr\u1EA1ng th\xE1i ngh\u1EC9",children:e(R,{onClick:()=>a(!0),type:"link",danger:!0,icon:e(Kn,{})})}),e(Te,{title:"\u0110\u1ED5i tr\u1EA1ng th\xE1i ngh\u1EC9 h\u1ECDc",visible:s,closable:!0,onCancel:()=>a(!1),footer:[e(R,{loading:h,type:"primary",onClick:()=>{S(!0),l(Fo({data:{class_id:0},sID:t})).then(m=>{if(m.meta.requestStatus==="fulfilled"){k.success({message:"Th\xE0nh c\xF4ng"}),a(!1);return}k.error({message:"Th\u1EA5t b\u1EA1i"})}).finally(()=>{S(!1)})},children:"L\u01B0u l\u1EA1i"},"btnSubmit")],children:"Sau khi \u0111\u1ED5i, th\xF4ng tin h\u1ECDc sinh s\u1EBD kh\xF4ng hi\u1EC3n th\u1ECB trong danh s\xE1ch n\u1EEFa."})]})}function td(){const n=q(),t=Se(),[s,a]=o.exports.useState(1),[l,h]=o.exports.useState(""),[S,A]=o.exports.useState(!1),[m,p]=o.exports.useState(-1),i=w(b=>b.studentReducer.getStudentsStatus),u=w(b=>b.studentReducer.students),y=w(b=>b.parentReducer.parents),F=w(b=>b.classReducer.classes),E=w(b=>b.parentReducer.getParentsStatus),f=w(b=>b.classReducer.getClassesStatus),C=w(b=>b.studentReducer.updateStudentStatus);o.exports.useEffect(()=>{(i==="error"||i==="success")&&n(wo())},[n,i]),o.exports.useEffect(()=>{n(ze({per_page:100})),n(we({}))},[n]),o.exports.useEffect(()=>{n(Fe({page:s,search:l}))},[n,s]),o.exports.useEffect(()=>{C==="success"&&(n(Fe({page:s})),n(ko()))},[n,C]);const c=o.exports.useRef(r.exports.debounce(b=>{h(b),n(Fe({search:b}))},500)).current,x=o.exports.useRef(r.exports.debounce(b=>n(ze({search:b})),500)).current,g=o.exports.useRef(r.exports.debounce(b=>n(we({search:b})),500)).current,_=[{title:"H\u1ECD t\xEAn",with:120,dataIndex:"name",key:"name",render:function(T,v){return d(V,{children:[e("strong",{children:T}),e(te,{style:{fontSize:10},color:v.type===0?"red":"green",children:v.type===0?"Offline":"Online"})]})}},{width:120,title:"Ng\xE0y sinh",dataIndex:"birthday",key:"birthday",render:function(T){return e(Q,{children:I(T).format("DD-MM-YYYY")})}},{width:200,title:"Ph\u1EE5 huynh",dataIndex:"parent",key:"parent",render:function(T){return e("a",{children:r.exports.get(T,"profile.name","")})}},{width:200,title:"L\u1EDBp",dataIndex:"class",key:"class",render:function(T){return e("span",{style:{color:"#2980b9"},children:r.exports.get(T,"name","")})}},{title:"Action",key:"action",render:function(T,v,P){return d(V,{children:[e(Zl,{student:v,classesList:F,searchClass:g,searchStatus:f}),e(X,{placement:"top",title:"H\u1ED3 s\u01A1 h\u1ECDc t\u1EADp",children:e(R,{icon:e(wa,{onClick:()=>t.push(`/students-study-profile/${v.id}`)}),type:"link"})}),e(R,{type:"link",icon:e(bt,{}),onClick:()=>{A(!0),p(P)}}),e(ed,{studen_id:v.id})]},v.id)}}];return d(re.Content,{children:[d(Ce,{style:{marginBottom:20,marginTop:20},justify:"start",children:[e(he,{span:10,children:e(U.Search,{allowClear:!0,onChange:({target:{value:b}})=>c(b),placeholder:"T\xECm ki\u1EBFm theo t\xEAn h\u1ECDc sinh"})}),e(he,{span:6,style:{marginLeft:20},children:e(Xl,{parents:y,searchParent:x,searchStatus:E})})]}),e(le,{columns:_,dataSource:r.exports.get(u,"data",[]),size:"small",bordered:!0,rowKey:"id",loading:i==="loading",pagination:{showSizeChanger:!1,pageSize:20,total:r.exports.get(u,"total",0),onChange:b=>{a(b)}}}),e(Wl,{student:r.exports.get(u,"data",[])[m],parents:y,searchParent:x,searchStatus:E,show:S,setShow:A})]})}function sd(n){const{teachers:t}=n,s=q(),[a]=D.useForm(),[l,h]=o.exports.useState(!1),[S,A]=o.exports.useState(!1),m=w(i=>i.classReducer.addClassStatus);function p(i){let u="";i.schedule_time&&(u=I(i.schedule_time[0]).format("HH:mm:ss")+"-"+I(i.schedule_time[1]).format("HH:mm:ss")),s(Xt(ge(ie({},i),{schedule_time:u}))).finally(()=>{S===!1&&h(!1),a.setFieldsValue({name:"",employee_id:null,fee_per_session:"",schedule:[],schedule_time:null,type:0}),s(we({page:1}))})}return d("div",{children:[e(R,{type:"primary",icon:e(Ae,{}),onClick:()=>h(!0),children:"Th\xEAm l\u1EDBp h\u1ECDc"}),e(se,{visible:l,title:"Th\xEAm l\u1EDBp h\u1ECDc",onCancel:()=>h(!1),footer:[e(ce,{onChange:i=>A(i.target.checked),children:"Gi\u1EEF c\u1EEDa s\u1ED5"},"keepShow"),e(R,{loading:m==="loading",type:"primary",htmlType:"submit",form:"aForm",children:"L\u01B0u l\u1EA1i"},"btnsubmit")],width:800,children:d(D,{id:"aForm",form:a,labelCol:{span:5},wrapperCol:{span:17},layout:"horizontal",onFinish:p,children:[e(D.Item,{label:"T\xEAn l\u1EDBp",name:"name",rules:[{required:!0,message:"T\xEAn kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:e(U,{})}),e(D.Item,{label:"Gi\xE1o vi\xEAn",name:"employee_id",children:d(O,{showSearch:!0,allowClear:!0,filterOption:(i,u)=>{var y;return((y=u==null?void 0:u.label)==null?void 0:y.toLowerCase().indexOf(i.toLowerCase()))>=0},children:[e(O.Option,{value:0,label:"Ch\u1ECDn sau",children:"Ch\u1ECDn sau"}),t&&r.exports.get(t,"data",[]).map(i=>e(O.Option,{value:i.id,label:`${r.exports.get(i,"profile.name","")} (${i.phone})`,children:d(V,{children:[r.exports.get(i,"roles",[]).map(u=>e(te,{color:"orange",children:qe(u.name)},u.id)),e("a",{children:r.exports.get(i,"profile.name","")}),i.phone]})},i.id))]})}),e(D.Item,{name:"type",label:"Lo\u1EA1i",wrapperCol:{span:2},rules:[{required:!0,message:"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:d(O,{style:{width:120},children:[e(O.Option,{value:1,children:"Online"}),e(O.Option,{value:0,children:"Offline"})]})}),e(D.Item,{label:"H\u1ECDc ph\xED/bu\u1ED5i",name:"fee_per_session",rules:[{required:!0,message:"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:e(pe,{formatter:i=>W(i).format(),style:{width:"100%"}})}),e(D.Item,{label:"L\u1ECBch h\u1ECDc",name:"schedule",rules:[{required:!0,message:"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:e(O,{mode:"multiple",placeholder:"Ch\u1ECDn l\u1ECBch h\u1ECDc",children:Ft.map((i,u)=>e(O.Option,{value:u,children:i},u))})}),e(D.Item,{label:"Th\u1EDDi gian h\u1ECDc",name:"schedule_time",children:e(Ta.RangePicker,{})})]})})]})}function nd(n){const{classInfo:t,teachers:s,show:a,setShow:l}=n,[h]=D.useForm(),S=q(),[A,m]=o.exports.useState(!1);o.exports.useEffect(()=>{if(t){let i=[];t.schedule_time&&(i=t.schedule_time.split("-")),h.setFieldsValue({name:t.name,employee_id:r.exports.get(t,"user.id",0),fee_per_session:t.fee_per_session,type:t.type,schedule:t.schedule,schedule_time:i.length>0?[I(i[0],"HH:mm:ss"),I(i[1],"HH:mm:ss")]:null})}},[t]);function p(i){m(!0);let u="";i.schedule_time&&(u=I(i.schedule_time[0]).format("HH:mm:ss")+"-"+I(i.schedule_time[1]).format("HH:mm:ss")),S(Wt({data:ge(ie({},i),{schedule_time:u}),cID:t.id})).finally(()=>{S(we({page:1})),l(!1),m(!1)})}return e("div",{children:e(se,{visible:a,title:"Thay \u0111\u1ED5i th\xF4ng tin l\u1EDBp h\u1ECDc",onCancel:()=>l(!1),footer:[e(R,{onClick:()=>l(!1),children:"Hu\u1EF7 b\u1ECF"},"btncancel"),e(R,{loading:A,type:"primary",htmlType:"submit",form:"uclassForm",children:"L\u01B0u l\u1EA1i"},"btnsubmit")],width:800,children:d(D,{id:"uclassForm",form:h,labelCol:{span:5},wrapperCol:{span:17},layout:"horizontal",onFinish:p,children:[e(D.Item,{label:"T\xEAn l\u1EDBp",name:"name",rules:[{required:!0,message:"T\xEAn kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:e(U,{})}),e(D.Item,{label:"Gi\xE1o vi\xEAn",name:"employee_id",children:d(O,{showSearch:!0,allowClear:!0,filterOption:(i,u)=>{var y;return((y=u==null?void 0:u.label)==null?void 0:y.toLowerCase().indexOf(i.toLowerCase()))>=0},children:[e(O.Option,{value:0,label:"Ch\u1ECDn sau",children:"Ch\u1ECDn sau"}),s&&r.exports.get(s,"data",[]).map(i=>e(O.Option,{value:i.id,label:`${r.exports.get(i,"profile.name","")} (${i.phone})`,children:d(V,{children:[r.exports.get(i,"roles",[]).map(u=>e(te,{color:"blue",children:qe(u.name)},u.id)),e("a",{children:r.exports.get(i,"profile.name","")})," (",i.phone,")"]})},i.id))]})}),e(D.Item,{name:"type",label:"Lo\u1EA1i",wrapperCol:{span:2},rules:[{required:!0,message:"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:d(O,{style:{width:120},children:[e(O.Option,{value:1,children:"Online"}),e(O.Option,{value:0,children:"Offline"})]})}),e(D.Item,{label:"H\u1ECDc ph\xED/bu\u1ED5i",name:"fee_per_session",rules:[{required:!0,message:"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:e(pe,{formatter:i=>W(i).format(),style:{width:"100%"}})}),e(D.Item,{label:"L\u1ECBch h\u1ECDc",name:"schedule",rules:[{required:!0,message:"Kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:e(O,{mode:"multiple",placeholder:"Ch\u1ECDn l\u1ECBch h\u1ECDc",children:Ft.map((i,u)=>e(O.Option,{value:u,children:i},u))})}),e(D.Item,{label:"Th\u1EDDi gian h\u1ECDc",name:"schedule_time",children:e(Ta.RangePicker,{format:"HH:mm"})})]})})})}function ad(){const n=Ue(),t=Se(),s=w(b=>b.classReducer.getClassesStatus),a=w(b=>b.classReducer.classes),l=w(b=>b.employeeReducer.employees),h=w(b=>b.employeeReducer.getEmployeesStatus),S=w(b=>b.auth.user),[A,m]=o.exports.useState(1),[p,i]=o.exports.useState(""),[u,y]=o.exports.useState(void 0),[F,E]=o.exports.useState(!1),[f,C]=o.exports.useState(-1),c=jn(b=>{i(b),n(we({page:1,search:b,teacher_id:u}))},500);o.exports.useEffect(()=>{r.exports.get(S,"roles",[]).find(T=>T.id===We.TEACHER||T.id===We.TEACHER2)&&y(r.exports.get(S,"id",void 0))},[S]),o.exports.useEffect(()=>{n(we({page:1,teacher_id:u})),n(Ie({role_ids:`${We.TEACHER},${We.TEACHER2}`}))},[n,u]),o.exports.useEffect(()=>{n(we({page:A,search:p,teacher_id:u}))},[n,A]);const x=b=>{(b.length>=3||b.length===0)&&n(Ie({role_ids:`${We.TEACHER},${We.TEACHER2}`,search:b}))};function g(b){E(!0),C(b)}const _=[{width:"20%",title:"T\xEAn l\u1EDBp",dataIndex:"name",key:"name",render:function(T,v){return d(Q,{children:[e("strong",{children:T}),"  ",e(te,{style:{fontSize:10},color:v.type===0?"red":"green",children:v.type===0?"Offline":"Online"})]})}},{width:"15%",title:"Gi\xE1o vi\xEAn",dataIndex:"user",key:"user",render:function(T){return e(R,{type:"link",children:r.exports.get(T,"profile.name","")})}},{width:"10%",title:"S\u1ED1 h\u1ECDc sinh",dataIndex:"students_num",key:"students_num"},{width:"10%",title:"H\u1ECDc ph\xED / bu\u1ED5i",dataIndex:"fee_per_session",key:"fee_per_session",render:function(T){return e("span",{style:{color:"#3498db"},children:W(T).format("0,0")})}},{width:"20%",title:"L\u1ECBch h\u1ECDc",dataIndex:"schedule",key:"schedule",render:function(T){const v=[...T];return e(Q,{children:v.sort().map(P=>Ft[P]).join(", ")})}},{width:"15%",title:"Action",key:"action",render:function(T,v,P){return d(V,{size:"middle",children:[e(R,{type:"link",icon:e(Vn,{}),onClick:()=>t.push({pathname:`/study/${v.id}`,state:{classInfo:v}})}),e(R,{type:"link",icon:e(bt,{}),onClick:()=>g(P)})]})}}];return d(re.Content,{children:[d(Ce,{style:{marginBottom:20,marginTop:20},justify:"start",children:[e(he,{span:10,children:e(U.Search,{allowClear:!0,onChange:({target:{value:b}})=>c(b),placeholder:"T\xECm theo t\xEAn l\u1EDBp..."})}),e(he,{span:6,style:{marginLeft:20},children:e(sd,{teachers:l})})]}),e(le,{dataSource:r.exports.get(a,"data",[]),columns:_,loading:s==="loading",rowKey:"id",bordered:!0,size:"small",pagination:{pageSize:20,total:r.exports.get(a,"total",0),onChange:b=>{m(b)}}}),e(nd,{classInfo:r.exports.get(a,"data",[])[f],teachers:l,searchTeacher:x,searchStatus:h,show:F,setShow:E})]})}const Kt={pattern:/^-{0,1}\d*\.{0,1}\d+$/,message:"Gi\xE1 tr\u1ECB nh\u1EADp ph\u1EA3i l\xE0 s\u1ED1"};function rd(n){const{roles:t,selectedRole:s}=n,[a]=D.useForm(),[l,h]=o.exports.useState(!1),[S,A]=o.exports.useState(!1),m=q(),p=w(y=>y.employeeReducer.addEmployeeStatus);o.exports.useEffect(()=>{p==="success"&&(S===!1&&h(!1),m(Ie({role_name:s})))},[p,m]);const i=y=>{const F=ge(ie({},y),{birthday:I(y.birthday).format("YYYY-MM-DD"),working_day:I(y.working_day).format("YYYY-MM-DD")});m(ns(F))},u=()=>{a.setFieldsValue({name:"",email:"",phone:"",gender:null,birthday:"",address:"",interests:"",dislikes:"",identifier:"",basic_salary:"",sales_salary:"",role_id:null,working_day:""})};return d("div",{children:[e(R,{type:"primary",icon:e(Ae,{}),onClick:()=>h(!0),children:"Th\xEAm nh\xE2n vi\xEAn"}),e(se,{centered:!0,width:800,bodyStyle:{height:"80vh"},style:{marginTop:"-80px"},visible:l,closable:!0,onCancel:()=>h(!1),footer:[e(ce,{onChange:y=>A(y.target.checked),children:"Gi\u1EEF c\u1EEDa s\u1ED5"},"keepShow"),e(R,{onClick:()=>u(),children:"L\xE0m m\u1EDBi"},"btncall"),e(R,{loading:p==="loading",type:"primary",form:"eForm",htmlType:"submit",children:"L\u01B0u l\u1EA1i"},"submit")],children:d(D,{id:"eForm",form:a,labelCol:{span:6},wrapperCol:{span:14},layout:"horizontal",onFinish:i,initialValues:{gender:0},style:{height:"100%",overflowY:"auto",marginTop:"20px"},children:[e(Ke,{children:"Th\xF4ng tin c\u01A1 b\u1EA3n"}),e(D.Item,{name:"name",label:"H\u1ECD t\xEAn",rules:[{required:!0,message:"H\u1ECD t\xEAn kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:e(U,{})}),e(D.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Email kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:e(U,{})}),e(D.Item,{name:"phone",label:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i",rules:[{required:!0,message:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"},Kt],children:e(U,{})}),e(D.Item,{name:"role_id",label:"V\u1ECB tr\xED",rules:[{required:!0,message:"V\u1ECB tr\xED kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:e(O,{children:t.map(y=>e(O.Option,{value:y.id,children:e(te,{color:"blue",children:qe(y.name)})},y.id))})}),e(D.Item,{name:"gender",label:"Gi\u1EDBi t\xEDnh",rules:[{required:!0,message:"Gi\u1EDBi t\xEDnh kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:d(O,{children:[e(O.Option,{value:1,children:"Nam"}),e(O.Option,{value:0,children:"N\u1EEF"}),e(O.Option,{value:2,children:"Kh\xE1c"})]})}),e(D.Item,{name:"birthday",label:"Ng\xE0y sinh",rules:[{required:!0,message:"Ng\xE0y sinh kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:e(ye,{})}),e(D.Item,{name:"address",label:"\u0110\u1ECBa ch\u1EC9",children:e(U,{})}),e(D.Item,{name:"interests",label:"S\u1EDF th\xEDch",children:e(U.TextArea,{})}),e(D.Item,{name:"dislikes",label:"S\u1EDF gh\xE9t",children:e(U.TextArea,{})}),e(Ke,{children:"Th\xF4ng tin h\u1EE3p \u0111\u1ED3ng"}),e(D.Item,{name:"identifier",label:"S\u1ED1 CMT/CCCD",rules:[Kt],children:e(U,{})}),e(D.Item,{name:"basic_salary",label:"L\u01B0\u01A1ng c\u01A1 b\u1EA3n",rules:[Kt],children:e(U,{})}),e(D.Item,{name:"sales_salary",label:"L\u01B0\u01A1ng doanh s\u1ED1",rules:[Kt],children:e(U,{})}),e(D.Item,{name:"working_day",label:"Ng\xE0y v\xE0o l\xE0m",children:e(ye,{})}),e(D.Item,{name:"contract_file",label:"File \u0111\xEDnh k\xE8m",valuePropName:"fileList",children:e(sn,{name:"logo",action:"/upload.do",listType:"picture",children:e(R,{icon:e(Be,{}),children:"Click to upload"})})})]})})]})}const id="DD/MM/YYYY";function od(n){const{employee:t,roles:s,show:a,setShow:l}=n,[h]=D.useForm(),S=q(),A=w(i=>i.employeeReducer.updateEmployeeStatus);o.exports.useEffect(()=>{if(t){const i=r.exports.get(t,"profile.birthday",null);h.setFieldsValue({name:r.exports.get(t,"profile.name",""),email:r.exports.get(t,"profile.email",""),phone:r.exports.get(t,"phone",""),birthday:i?I(i):null,gender:r.exports.get(t,"profile.gender",0),address:r.exports.get(t,"profile.address",""),interests:r.exports.get(t,"profile.interests",""),disklikes:r.exports.get(t,"profile.disklikes",""),basic_salary:r.exports.get(t,"employee_contract.basic_salary",""),sales_salary:r.exports.get(t,"employee_contract.sales_salary",""),role_id:r.exports.get(t,"roles[0].id",0),working_day:I(r.exports.get(t,"employee_contract.working_day",""))})}},[t,h]);const m=i=>{const y={data:ge(ie({},i),{birthday:I(i.birthday).format("YYYY-MM-DD"),working_day:I(i.working_day).format("YYYY-MM-DD")}),eID:t.id};S(as(y)).finally(()=>{l(!1),S(eo())})},p={pattern:/^-{0,1}\d*\.{0,1}\d+$/,message:"Gi\xE1 tr\u1ECB nh\u1EADp ph\u1EA3i l\xE0 s\u1ED1"};return e("div",{children:e(se,{width:800,style:{marginTop:"-80px"},visible:a,onCancel:()=>l(!1),closable:!0,okText:"L\u01B0u th\xF4ng tin",cancelText:"Hu\u1EF7 b\u1ECF",footer:[e(R,{onClick:()=>l(!1),children:"Hu\u1EF7 b\u1ECF"},"cancel"),e(R,{loading:A==="loading",type:"primary",htmlType:"submit",form:"ueForm",children:"L\u01B0u th\xF4ng tin"},"submit")],children:d(D,{id:"ueForm",form:h,labelCol:{span:4},wrapperCol:{span:19},layout:"horizontal",onFinish:m,style:{height:"80vh",overflowY:"auto"},children:[e(Ke,{children:"Th\xF4ng tin c\u01A1 b\u1EA3n"}),e(D.Item,{name:"name",label:"H\u1ECD t\xEAn",rules:[{required:!0,message:"H\u1ECD t\xEAn kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:e(U,{})}),e(D.Item,{name:"email",label:"email",rules:[{required:!0,message:"Email kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:e(U,{})}),e(D.Item,{name:"phone",label:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i",rules:[{required:!0,message:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:e(U,{})}),e(D.Item,{name:"role_id",label:"V\u1ECB tr\xED",rules:[{required:!0,message:"V\u1ECB tr\xED kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:d(O,{children:[e(O.Option,{value:0,children:"Nh\xE2n vi\xEAn"}),s.map(i=>e(O.Option,{value:i.id,children:e(te,{color:"blue",children:qe(i.name)})},i.id))]})}),e(D.Item,{name:"gender",label:"Gi\u1EDBi t\xEDnh",children:d(O,{children:[e(O.Option,{value:1,children:"Nam"}),e(O.Option,{value:0,children:"N\u1EEF"}),e(O.Option,{value:2,children:"Kh\xE1c"})]})}),e(D.Item,{name:"birthday",label:"Ng\xE0y sinh",children:e(ye,{format:"DD-MM-YYYY"})}),e(D.Item,{name:"address",label:"\u0110\u1ECBa ch\u1EC9",children:e(U,{})}),e(D.Item,{name:"interests",label:"S\u1EDF th\xEDch",children:e(U.TextArea,{})}),e(D.Item,{name:"dislikes",label:"S\u1EDF gh\xE9t",children:e(U.TextArea,{})}),e(Ke,{children:"Th\xF4ng tin h\u1EE3p \u0111\u1ED3ng"}),e(D.Item,{name:"identify",label:"S\u1ED1 CMT/CCCD",children:e(U,{})}),e(D.Item,{rules:[p],name:"basic_salary",label:"L\u01B0\u01A1ng c\u01A1 b\u1EA3n",children:e(U,{})}),e(D.Item,{name:"sales_salary",label:"L\u01B0\u01A1ng doanh s\u1ED1",children:e(U,{})}),e(D.Item,{name:"working_date",label:"Ng\xE0y v\xE0o l\xE0m",children:e(ye,{format:id})}),e(D.Item,{name:"contract_file",label:"File \u0111\xEDnh k\xE8m",valuePropName:"fileList",children:e(sn,{name:"logo",action:"/upload.do",listType:"picture",children:e(R,{icon:e(Be,{}),children:"Click to upload"})})})]})})})}function ld(){const n=q(),[t,s]=o.exports.useState(0),[a,l]=o.exports.useState(""),[h,S]=o.exports.useState(ee.TEACHER),[A,m]=o.exports.useState(!1),[p,i]=o.exports.useState(-1),u=w(_=>_.roleReducer.roles),y=w(_=>_.employeeReducer.employees),F=w(_=>_.employeeReducer.getEmployeesStatus),E=w(_=>_.employeeReducer.updateEmployeeStatus),f=o.exports.useRef(r.exports.debounce(_=>n(Ie({search:_,role_name:h})),500)).current;o.exports.useEffect(()=>{n(Ie({per_page:100,search:a,role_name:h}))},[n,h]),o.exports.useEffect(()=>{E==="success"&&n(Ie({per_page:100,search:a,role_name:h}))},[n,E,h]),o.exports.useEffect(()=>{n(Ye(0))},[n]);const C=_=>{l(_),f(_)};function c(_){S(_)}function x(_){m(!0),i(_)}const g=[{width:"15%",title:"H\u1ECD t\xEAn",key:"name",render:function(b){return e(R,{type:"link",children:r.exports.get(b,"profile.name","")})}},{width:"10%",title:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i",dataIndex:"phone",key:"phone"},{width:"10%",title:"Ng\xE0y sinh",key:"birthday",render:function(b){const T=r.exports.get(b,"profile.birthday",null),v=T?I(T).format("DD-MM-YYYY"):"";return e("span",{children:v})}},{width:"5%",title:"Gi\u1EDBi t\xEDnh",key:"gender",align:"center",render:function(b){return e("span",{children:r.exports.get(b,"profile.gender","")===0?"N\u1EEF":"Nam"})}},{width:"25%",title:"\u0110\u1ECBa ch\u1EC9",key:"address",render:function(b){return e("span",{children:r.exports.get(b,"profile.address","")})}},{width:"10%",title:"Vai tr\xF2",key:"employee_contract",render:function(b){return e(Q,{children:r.exports.get(b,"roles",[]).map(T=>e(te,{color:"blue",children:qe(T.name)},T.id))})}},{width:"15%",title:"Action",key:"action",render:function(b,T,v){return e(V,{size:"middle",children:e(X,{placement:"top",title:"S\u1EEDa th\xF4ng tin",children:e(R,{type:"link",icon:e(bt,{}),onClick:()=>x(v)})})})}}];return d(re.Content,{children:[d(Ce,{style:{marginBottom:20,marginTop:20},justify:"start",children:[e(he,{children:e(U,{style:{width:300,marginRight:15},allowClear:!0,placeholder:"T\xECm theo t\xEAn ho\u1EB7c s\u1ED1 \u0111i\u1EC7n tho\u1EA1i...",onChange:({target:_})=>C(_.value)})}),e(he,{children:e(O,{style:{width:200},placeholder:"L\u1ECDc theo vai tr\xF2",onChange:c,children:u.map(_=>_.name!==ee.PARENT&&e(O.Option,{value:_.name,children:e("span",{children:qe(_.name)})},_.id))})}),e(he,{span:6,style:{marginLeft:20},children:e(rd,{roles:u,selectedRole:h})})]}),e(le,{loading:F==="loading",size:"small",dataSource:r.exports.get(y,"data",[]),rowKey:"id",columns:g,bordered:!0,pagination:{pageSize:20,total:r.exports.get(y,"total",0),onChange:_=>{s(_)}}}),e(od,{employee:r.exports.get(y,"data",[])[p],roles:u,show:A,setShow:m})]})}const{RangePicker:ha}=ye;function dd(){var f;const n=q(),t=Se(),[s,a]=o.exports.useState([]),l=w(C=>C.dayoffReducer.dayoffs),h=w(C=>C.statisticalReducer.revenueStat),S=w(C=>C.statisticalReducer.classesToday),A=w(C=>C.statisticalReducer.studentStat),m=w(C=>C.statisticalReducer.birthdayList),p=w(C=>C.revenuesReducer.revenues);o.exports.useEffect(()=>{const C=I(I().startOf("month")).startOf("week"),c=I(C).day(41);n(st({from_date:I(C).format("YYYY-MM-DD"),to_date:I(c).format("YYYY-MM-DD")})),n(St({})),n(en({})),n(Lt({from_date:I().startOf("year").format("YYYY-MM"),to_date:I().format("YYYY-MM")})),n(Nt({from_date:I(C).format("YYYY-MM-DD"),to_date:I(c).format("YYYY-MM-DD")}))},[n]),o.exports.useEffect(()=>{if(A){const C=[];Object.keys(A.total_student).map(c=>C.push({month:c,total:A.total_student[c],type:"in"})),Object.keys(A.total_student_off).map(c=>C.push({month:c,total:A.total_student_off[c],type:"out"})),a(C)}},[A]);const i={data:s,height:250,xField:"month",yField:"total",seriesField:"type",color:["#1979C9","#e74c3c"],point:{size:5,shape:"diamond"}};function u(C,c){n(St(C===null?{}:{from_date:c[0],to_date:c[1]}))}function y(C,c){C!==null&&n(Lt({from_date:c[0],to_date:c[1]}))}function F(C,c){console.log(C.format("YYYY-MM-DD"),c);const x=I(C.startOf("month")).startOf("week"),g=I(x).day(41);n(Nt({from_date:I(x).format("YYYY-MM-DD"),to_date:I(g).format("YYYY-MM-DD")}))}function E(C){let c=!1;const x=I(C).format("YYYY-MM-DD");r.exports.get(l,"data",[]).forEach(b=>{I(x).isSame(I(b.from_date))&&(c=!0)});let g=[],_=[];return m&&(m.students.forEach(b=>{I(x).format("M")===I(b.birthday).format("M")&&I(x).format("D")===I(b.birthday).format("D")&&_.push(b)}),m.users.forEach(b=>{var T,v;I(x).format("M")===I((T=b.profile)==null?void 0:T.birthday).format("M")&&I(x).format("D")===I((v=b.profile)==null?void 0:v.birthday).format("D")&&g.push(b)})),d(Q,{children:[c&&e(te,{style:{fontSize:10,marginBottom:5},color:"#ff7979",children:"Ng\xE0y ngh\u1EC9"}),g.map(b=>{var T,v;return e("div",{style:{fontSize:10,backgroundColor:"#f6e58d",paddingLeft:4,paddingRight:4,marginBottom:4},children:d(sa,{title:d(Q,{children:[e(pt,{style:{color:"#e84393"}})," Sinh nh\u1EADt nh\xE2n vi\xEAn"]}),content:d("div",{children:[e("a",{children:(T=b.profile)==null?void 0:T.name}),d("p",{children:["Phone: ",b.phone]})]}),children:[e(pt,{style:{color:"#e84393"}}),d("span",{children:[" ",(v=b.profile)==null?void 0:v.name]})]})},b.id)}),_.map(b=>e("div",{style:{fontSize:10,backgroundColor:"#dff9fb",paddingLeft:4,paddingRight:4,marginBottom:4},children:d(sa,{title:d(Q,{children:[e(pt,{style:{color:"#e84393"}})," Sinh nh\u1EADt h\u1ECDc sinh"]}),content:d("div",{children:[e("a",{children:b.name}),d("p",{children:["L\u1EDBp: ",r.exports.get(b,"class.name","")]})]}),children:[e(pt,{style:{color:"#e84393"}}),d("span",{children:[" ",b.name]})]})},b.id))]})}return d(re.Content,{children:[d("div",{className:"site-card-wrapper",children:[e("h3",{children:"Th\u1ED1ng k\xEA"}),e(V,{style:{justifyContent:"flex-end",width:"100%",marginBottom:20},children:e(ha,{onChange:u,allowEmpty:[!0,!0]})}),d(Ce,{gutter:16,children:[e(he,{span:8,children:e(ve,{title:e("span",{style:{color:"#fff"},children:"S\u1ED1 l\u01B0\u1EE3ng h\u1ECDc sinh"}),bordered:!0,style:{backgroundColor:"#3498db",color:"#fff"},children:A==null?void 0:A.total})}),e(he,{span:8,children:e(ve,{title:e(V,{children:e("span",{style:{color:"#fff"},children:"Danh thu"})}),bordered:!0,style:{backgroundColor:"#27ae60",color:"#fff"},children:W(h==null?void 0:h.receipts).format("0,0 $")})}),e(he,{span:8,children:e(ve,{title:e("span",{style:{color:"#fff"},children:"Chi ti\xEAu"}),bordered:!0,style:{backgroundColor:"#e67e22",color:"#fff"},children:W(h==null?void 0:h.payment_slips).format("0,0 $")})})]}),e(Ce,{gutter:16,style:{padding:10},children:e(ve,{type:"inner",title:"L\u1ECBch trung t\xE2m",bordered:!0,style:{marginTop:20},children:e(va,{fullscreen:!0,onPanelChange:F,dateCellRender:E})})})]}),e("div",{className:"site-card-wrapper",style:{marginTop:20},children:d(Ce,{gutter:16,children:[e(he,{span:16,children:e(ve,{title:"Th\u1ED1ng k\xEA h\u1ECDc sinh",type:"inner",bordered:!0,extra:e(ha,{picker:"month",defaultValue:[I().startOf("year"),I()],onChange:y}),children:e(Xr,ie({},i))})}),d(he,{span:8,children:[e(ve,{title:"L\u1ECBch h\u1ECDc h\xF4m nay",type:"inner",bordered:!0,children:S.map(C=>d("div",{className:"daily-schedule",children:[d("div",{style:{display:"flex",justifyContent:"space-between"},children:[e("strong",{children:C.name}),e("strong",{children:C.schedule_time})]}),e("a",{children:r.exports.get(C,"user.profile.name")})]},C.id))}),e(ve,{title:"Doanh thu g\u1EA7n \u0111\xE2y",type:"inner",bordered:!0,style:{marginTop:20},extra:e(R,{type:"link",onClick:()=>t.push("/payments/revenue"),children:"Xem th\xEAm"}),children:e(ta,{children:(f=p==null?void 0:p.data)==null?void 0:f.map((C,c)=>c<5&&d(ta.Item,{children:[d("a",{children:[`${hn[C.type]}`," - ",W(C.amount).format("0,0")]}),e("p",{children:e("small",{children:I(C.date).format("DD-MM-YYYY HH:mm")})})]},c))})})]})]})})]})}const ud=$e.div`
	.permission {
		&__divider {
			margin: 0 auto 24px;
		}
		&__button {
			display: flex;
			justify-content: flex-start;
			margin: 0 0 24px 0;
			padding-top: 20px;
		}
	}
`,cd=[{title:"Id",key:"id",dataIndex:"id",defaultSortOrder:"ascend",showSorterTooltip:!1,sorter:{compare:(n,t)=>n.id-t.id,multiple:3}},{title:"T\xEAn",key:"name",dataIndex:"name",render:function(t){return e("a",{className:"example-link",children:d(V,{children:[e(ln,{}),t]})})}},{title:"Ng\xE0y t\u1EA1o",key:"created_at",dataIndex:"created_at",render:function(t){return e(Q,{children:En(t,pn.DD_MM_YYYY_HH_mm_ss)})},showSorterTooltip:!1,sorter:{compare:(n,t)=>ur(n.created_at,t.created_at),multiple:2}},{title:"Action",key:"action",render:function(t,s){return e(V,{size:"large",style:{display:"flex",justifyContent:"center"},children:e("a",{children:e(bt,{})})})}}];function hd(){const n=q(),[t,s]=o.exports.useState(!1),a=w(S=>S.permissionReducer.permissions),[l,h]=o.exports.useState(a);return o.exports.useEffect(()=>{a&&a.length===0&&(s(!0),n(At({})).then(()=>{h(a)}).finally(()=>{s(!1)}))},[n]),e(ud,{children:e(re.Content,{children:e(le,{columns:cd,loading:t,pagination:{pageSize:20},size:"small"})})})}var Ze={REQUIRE:"Tr\u01B0\u1EDDng b\u1EAFt bu\u1ED9c kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng",EMAIL:"Email kh\xF4ng h\u1EE3p l\u1EC7",NEW_PASSWORD_NOT_MATCH:"M\u1EADt kh\u1EA9u m\u1EDBi kh\xF4ng kh\u1EDBp"};function pd({onAddUser:n}){const[t,s]=o.exports.useState(!1),[a]=D.useForm(),l=w(y=>y.userReducer.statusAddUser),h=w(y=>y.roleReducer.roles),S=q(),[A,m]=o.exports.useState([]);o.exports.useEffect(()=>{S(Ye(0))},[S]),o.exports.useEffect(()=>{m(h.map(y=>({label:y.name,value:y.id})))},[h]);const p={labelCol:{span:8},wrapperCol:{span:16}};function i(){a.resetFields()}function u(y){n(ge(ie({},y),{password:"password"}))}return o.exports.useEffect(()=>{l==="success"&&(s(!1),S(Io()),S(Pe({})))},[l,S]),d(Q,{children:[e(R,{type:"primary",icon:e(Ae,{}),onClick:()=>s(!0),children:"Th\xEAm ng\u01B0\u1EDDi d\xF9ng"}),e(se,{title:"Th\xEAm t\xE0i kho\xE0n ng\u01B0\u1EDDi d\xF9ng m\u1EDBi",visible:t,onCancel:()=>{s(!1),i()},footer:[e(R,{onClick:i,children:"L\xE0m m\u1EDBi"},"btncancel"),e(R,{type:"primary",htmlType:"submit",form:"addUserForm",loading:l==="loading",children:"L\u01B0u l\u1EA1i"},"btnSubmit")],width:800,children:d(D,ge(ie({},p),{labelAlign:"left",name:"nest-messages",onFinish:u,id:"addUserForm",form:a,children:[e(D.Item,{name:"name",label:"T\xEAn ng\u01B0\u1EDDi d\xF9ng",rules:[{required:!0,message:Ze.REQUIRE}],children:e(U,{})}),e(D.Item,{name:"email",label:"Email",rules:[{type:"email",message:Ze.EMAIL},{required:!0,message:Ze.REQUIRE}],children:e(U,{})}),e(D.Item,{name:"phone",label:"Phone",rules:[{required:!0,message:Ze.REQUIRE}],children:e(U,{})}),e(D.Item,{name:"role_id",label:"Vai tr\xF2",rules:[{required:!0,message:Ze.REQUIRE}],children:e(O,{options:A})})]}))})]})}const{confirm:pa}=se;function Ed(){const n=q(),t=Se(),s=w(g=>g.userReducer.users),[a,l]=o.exports.useState(""),[h,S]=o.exports.useState(1),[A,m]=o.exports.useState("active"),p=w(g=>g.userReducer.statusGetUser),i=w(g=>g.userReducer.statusUpdateUserState),u=o.exports.useRef(r.exports.debounce(g=>n(Pe({search:g})),500)).current;o.exports.useEffect(()=>{n(Pe({page:h,search:a,status:A}))},[n,h,A]),o.exports.useEffect(()=>{i==="success"&&(n(To()),n(Pe({search:a})))},[n,a,i]);function y(g){l(g),u(g)}function F(g){m(g.target.value)}function E(g){pa({title:"B\u1EA1n mu\u1ED1n v\xF4 hi\u1EC7u ho\xE1 t\xE0i kho\u1EA3n n\xE0y!",icon:e(Re,{}),cancelText:"Hu\u1EF7 b\u1ECF",onOk(){n(ys(g.id)).finally(()=>{n(Pe({per_page:100,status:"active"}))})}})}function f(g){n(Ss(g))}function C(g){pa({title:"B\u1EA1n mu\u1ED1n kh\xF4i ph\u1EE5c t\xE0i kho\u1EA3n n\xE0y!",icon:e(Re,{}),cancelText:"Hu\u1EF7 b\u1ECF",onOk(){n(Cs(g.id)).finally(()=>{n(Pe({per_page:100,status:"deactive"}))})}})}const c=g=>e(Q,{children:g.deleted_at===null?d(V,{children:[e(X,{placement:"top",title:"Ph\xE2n quy\u1EC1n cho t\xE0i kho\u1EA3n",children:e(R,{type:"link",icon:e(Wr,{}),onClick:()=>t.push(`/user-set-permissions/${g.id}`)})}),e(X,{placement:"top",title:"V\xF4 hi\u1EC7u ho\xE1 t\xE0i kho\u1EA3n",children:e(R,{type:"link",icon:e(Kn,{}),danger:!0,onClick:()=>E(g)})})]}):e(X,{placement:"top",title:"Kh\xF4i ph\u1EE5c t\xE0i kho\u1EA3n",children:e(R,{type:"link",icon:e(Zr,{style:{color:"#27ae60"}}),danger:!0,onClick:()=>C(g)})})});c.displayName="ColActions";const x=[{width:200,title:"Name",key:"name",render:g=>e("a",{children:r.exports.get(g,"profile.name","")})},{width:200,title:"Email",key:"email",render:g=>e("span",{children:r.exports.get(g,"profile.email","")})},{width:200,title:"Phone",key:"phone",render:g=>d("span",{children:[g.phone," ",g.phone_verified_at===null?e(te,{color:"red",children:"Ch\u01B0a x\xE1c th\u1EF1c"}):""]})},{width:200,title:"Role",key:"role",render:(g,_)=>e(Q,{children:r.exports.get(_,"roles",[]).map(b=>e(te,{color:"blue",children:qe(b.name)},b.id))})},{title:"Action",key:"action",render:c}];return e(re.Content,{children:d(De,{spinning:p==="loading",children:[d(V,{children:[e(U,{style:{width:400},placeholder:"T\xECm ki\u1EBFm th\xF4ng qua t\xEAn, email, ho\u1EB7c s\u1ED1 \u0111i\u1EC7n tho\u1EA1i",onChange:({target:g})=>y(g.value),prefix:e(Ya,{})}),e("div",{style:{marginLeft:10},children:e(pd,{onAddUser:f})})]}),e("div",{children:d(gn.Group,{defaultValue:"active",onChange:F,style:{marginBottom:20,marginTop:20},children:[e(gn,{value:"active",children:"\u0110ang k\xEDch ho\u1EA1t"}),e(gn,{value:"deactive",children:"V\xF4 hi\u1EC7u ho\xE1"})]})}),e(le,{rowKey:"id",dataSource:r.exports.get(s,"data",[]),columns:x,bordered:!0,pagination:{pageSize:20,total:r.exports.get(s,"total",0),onChange:g=>{S(g)}},size:"small"})]})})}function Er(n){const{hasCloseButton:t,style:s}=n,a=q(),[l,h]=o.exports.useState(!1),[S,A]=o.exports.useState([]),[m]=D.useForm(),p=w(u=>u.filesReducer.statusUploadFile);o.exports.useEffect(()=>{p==="success"||p==="error"?(h(!1),a(On()),p==="success"&&A([])):p==="loading"&&h(!0)},[a,p]);function i(){if(S.length>0){const u=S.map(y=>y.originFileObj);a(It(u))}}return e("div",{style:s,children:e(De,{spinning:l,children:d(D,{onFinish:i,form:m,children:[e(D.Item,{children:d(Pa,{name:"file",multiple:!0,customRequest:pr,onDrop:u=>{},listType:"picture-card",fileList:S,onChange:({fileList:u})=>{A(u)},children:[e("p",{className:"ant-upload-drag-icon",children:e(ei,{})}),e("p",{className:"ant-upload-text",children:"Nh\u1EA5n ho\u1EB7c k\xE9o th\u1EA3 file v\xE0o khu v\u1EF1c \u0111\u1EC3 upload!"})]})}),d(D.Item,{style:{textAlign:"center"},children:[e(R,{type:"primary",htmlType:"submit",children:"Upload"}),t&&n.children]})]})})})}const md=$e.div``;function gd(){const n=q(),[t,s]=o.exports.useState(!1),a=w(l=>l.filesReducer.statusUploadFile);return o.exports.useEffect(()=>{(a==="success"||a==="error")&&a==="success"&&s(!1)},[n,a]),d(md,{children:[e(R,{type:"primary",icon:e(ti,{}),onClick:()=>{s(!0)},children:"T\u1EA3i l\xEAn"}),e(se,{title:"T\u1EA3i file l\xEAn",centered:!0,visible:t,onCancel:()=>{s(!1)},footer:null,width:950,maskClosable:!1,children:e(Er,{hasCloseButton:!0,children:e(R,{style:{marginLeft:30},onClick:()=>{s(!1)},children:"Cancel"})})})]})}const fd=$e.div`
	.ant-table-tbody > tr.ant-table-row:hover > td {
		background: #61dafb38;
	}
	.img-center {
		display: block;
		margin: 0 auto;
	}
`;function xd(){const n=q(),[t,s]=o.exports.useState(!1),[a,l]=o.exports.useState(""),[h,S]=o.exports.useState(1),A=w(E=>E.filesReducer.files),m=w(E=>E.filesReducer.statusDeleteFile),p=w(E=>E.filesReducer.statusUploadFile),i=w(E=>E.filesReducer.statusGetFiles);o.exports.useEffect(()=>{n(Le({page:h,search:a}))},[n,h]),o.exports.useEffect(()=>{m==="success"?(n(Le({search:a})),n(ua())):p==="success"?(n(Le({search:a})),n(On())):(m==="error"||p==="error")&&(s(!1),n(m==="error"?ua():On())),i==="success"||i==="error"?(n($a()),s(!1)):i==="loading"&&s(!0)},[n,a,m,i,p]);function u(){s(!0),n(Le({search:a}))}function y(E){s(!0),n(rs(+E.id))}const F=[{title:"Name",dataIndex:"name",key:"name",render:(E,f)=>e("span",{children:e("a",{rel:"noopener noreferrer",target:"_blank",href:f.url,children:E})})},{width:"10%",title:"Type",dataIndex:"type",key:"type"},{width:"20%",title:"Preview",key:"_",render:E=>{if(rn(E.type||""))return e(Q,{children:e("img",{className:"img-center",src:E.url,style:{maxHeight:50,maxWidth:200}})});const f=Object.keys(et).find(C=>C===E.type);return e("img",{className:"img-center",src:et[f],style:{maxHeight:50,maxWidth:200}})}},{width:"10%",title:"Size",dataIndex:"size",key:"size",render:E=>e("span",{children:vl(E)})},{width:"12%",title:"Ng\xE0y upload",dataIndex:"created_at",key:"created_at",render:E=>e(Q,{children:En(E,pn.DD_MM_YYYY_HH_mm_ss)})},{width:"10%",title:"Action",key:"action",render:E=>e(ni,{title:"X\xE1c nh\u1EADn xo\xE1 file?",icon:e(ai,{}),onConfirm:()=>y(E),children:e(R,{type:"link",danger:!0,icon:e(ri,{})})})}];return e(fd,{children:e(re.Content,{style:{padding:20},children:d(De,{spinning:t,children:[d(V,{style:{marginBottom:20},children:[e(U,{style:{width:300},placeholder:"T\xECm ki\u1EBFm th\xF4ng qua t\xEAn file...",onChange:E=>l(E.target.value),value:a,onKeyUp:E=>E.key==="Enter"&&u(),prefix:e(si,{})}),e("div",{style:{marginLeft:20},children:e(gd,{})})]}),e(le,{rowKey:"id",dataSource:r.exports.get(A,"data",[]),columns:F,bordered:!0,pagination:{pageSize:20,total:r.exports.get(A,"total",0),onChange:E=>{S(E)}},size:"small"})]})})})}const yd=$e.div``;function Cd(){const[n,t]=o.exports.useState(!1),[s,a]=o.exports.useState(0),[l]=D.useForm(),h=q(),S=w(i=>i.auth.user),A=w(i=>i.employeeReducer.employees),m=w(i=>i.revenuesReducer.addRevenuesStatus);o.exports.useEffect(()=>{m==="success"&&(l.resetFields(),t(!1))},[l,m]);function p(i){const u=ie({},i);u.date=I(i.date).format("YYYY-MM-DD"),u.creator_id=Number(S==null?void 0:S.id),h(bs(u))}return d(yd,{children:[e(R,{type:"primary",icon:e(Ae,{}),onClick:()=>t(!0),children:"Th\xEAm phi\u1EBFu thu"}),e(se,{width:1e3,visible:n,closable:!0,onCancel:()=>t(!1),footer:[e(R,{onClick:()=>t(!1),children:"Cancel"},""),e(R,{type:"primary",form:"eForm",htmlType:"submit",children:"Submit"},"submit")],children:e(De,{spinning:m==="loading",children:d(D,{id:"eForm",labelCol:{span:6},wrapperCol:{span:14},layout:"horizontal",form:l,onFinish:p,children:[e(Ke,{children:"T\u1EA1o phi\u1EBFu doanh thu"}),e(D.Item,{name:"sale_id",label:"Ng\u01B0\u1EDDi thu",children:e(O,{children:A&&r.exports.get(A,"data",[]).map(i=>{var u;return d(O.Option,{value:i.id,children:[`${r.exports.get(i,"profile.name","")}`," ",e("a",{children:(u=i.phone)!=null?u:""})]},i.id)})})}),e(D.Item,{name:"amount",label:"S\u1ED1 ti\u1EC1n",rules:[{required:!0,message:"S\u1ED1 ti\u1EC1n kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:e(pe,{style:{width:"100%"},formatter:i=>`${i}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:i=>i.replace(/(,*)/g,"")})}),e(D.Item,{name:"type",label:"Lo\u1EA1i chi ti\xEAu",rules:[{required:!0,message:"Lo\u1EA1i chi ti\xEAu kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:e(O,{onChange:i=>i!==void 0&&a(+i),children:hn.map((i,u)=>e(O.Option,{value:u,children:i},u))})}),e(D.Item,{name:"date",label:"Ng\xE0y thu",rules:[{required:!0,message:"Ng\xE0y thu kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"}],children:e(ye,{})}),s===0&&e(D.Item,{name:"reason",label:"L\xFD do",children:e(U.TextArea,{})}),e(D.Item,{name:"note",label:"Ghi ch\xFA",children:e(U.TextArea,{})})]})})})]})}function Sd({handleShowDetail:n,show:t,data:s}){return e(se,{width:1e3,title:"Th\xF4ng tin phi\u1EBFu thu",visible:t,onCancel:()=>n(!1),footer:null,children:s&&d(j,{bordered:!0,children:[e(j.Item,{span:2,label:"Ng\u01B0\u1EDDi l\u1EADp",children:e("a",{href:"#",children:r.exports.get(s,"creator.profile.name")})}),e(j.Item,{label:"Ng\xE0y l\u1EADp",children:I(s==null?void 0:s.created_at).format("DD-MM-YYYY HH:mm")}),e(j.Item,{label:"S\u1ED1 ti\u1EC1n",children:d("strong",{style:{color:"#3f8600"},children:[" ",Dt((s==null?void 0:s.amount)||0)]})}),e(j.Item,{label:"Lo\u1EA1i doanh thu",children:e(te,{color:(s==null?void 0:s.type)===1?"#3498db":"#d35400",children:s&&hn[s==null?void 0:s.type]})}),e(j.Item,{label:"Tr\u1EA1ng th\xE1i",children:e(te,{color:s.status===1?"green":"red",children:nr[s==null?void 0:s.status]})}),e(j.Item,{label:"L\xFD do",span:4,children:s==null?void 0:s.reason}),e(j.Item,{label:"Ghi ch\xFA",children:s==null?void 0:s.note})]})})}const{RangePicker:Ad}=ye,{confirm:Dd}=se,bd=$e.div`
	.ant-table-tbody > tr.ant-table-row:hover > td {
		background: #61dafb38;
	}
	.ant-table-tbody > tr.ant-table-row.editing-row > td {
		background: #61dafb38;
	}
`;function Fd(){const n=Ue(),[t,s]=o.exports.useState(123);o.exports.useState(null);const[a,l]=o.exports.useState([]),[h,S]=o.exports.useState([]),[A,m]=o.exports.useState(null),[p,i]=o.exports.useState(!1),[u,y]=o.exports.useState(()=>{const P=I().startOf("month").format("YYYY-MM-DD"),N=I().endOf("month").format("YYYY-MM-DD");return{search:"",searchRange:[P,N]}}),[F,E]=o.exports.useState([]),f=w(P=>P.revenuesReducer.getRevenuesStatus),C=w(P=>P.revenuesReducer.addRevenuesStatus),c=w(P=>P.revenuesReducer.updateRevenuesStatus),x=w(P=>P.revenuesReducer.revenues);o.exports.useRef(r.exports.debounce((P,N,H)=>y({searchRange:[N,H],search:P}),500)).current,o.exports.useEffect(()=>{const[P,N]=u.searchRange,H=u.search;n(tt({from_date:P,to_date:N,search:H}))},[n,u]),o.exports.useEffect(()=>{const P=r.exports.get(x,"data",[]),N=P.reduce((H,Z)=>H+ +Z.amount,0);s(N),E(P)},[x]),o.exports.useEffect(()=>{f==="success"||f==="error"?(n(Mo()),l([]),S([])):C==="success"||C==="error"?(C==="success"&&n(tt({})),n(Uo())):(c==="success"||c==="error")&&(c==="success"&&n(tt({})),n(Go()))},[n,C,f,c]);function g(P,N){const[H,Z]=N;y(ge(ie({},u),{searchRange:[H,Z]}))}function _(){const P=[];a.forEach(H=>P.push(H.id)),n(Fs({receipt_ids:P,status:1}))}function b(P){i(P)}function T(P){Dd({title:"B\u1EA1n mu\u1ED1n xo\xE1 phi\u1EBFu thu n\xE0y!",icon:e(Ht.ExclamationCircleOutlined,{}),onOk(){n(_s(P))}})}const v=[{title:"Ng\xE0y t\u1EA1o",dataIndex:"created_at",key:"payemnt_date",render:function(N){return e(Q,{children:I(N).format("DD-MM-YYYY HH:mm")})}},{title:"Ng\u01B0\u1EDDi l\u1EADp",dataIndex:"__",key:"payemnt_creator",render:function(N,H){return e("a",{children:r.exports.get(H,"creator.profile.name","")})}},{title:"Lo\u1EA1i thu",dataIndex:"type",key:"payemnt_type",align:"center",render:function(N){return e(te,{color:N===1?"#3498db":"#d35400",children:hn[N]})}},{title:"S\u1ED1 ti\u1EC1n",dataIndex:"amount",key:"payemnt_amount",render:function(N){return e("strong",{style:{color:"#3f8600"},children:Dt(N)})}},le.SELECTION_COLUMN,{title:"Tr\u1EA1ng th\xE1i",dataIndex:"status",key:"payemnt_status",editable:!0,render:function(N){return e(te,{color:N===1?"green":"red",children:nr[N]})}},{title:"Action",key:"payemnt_action",render:function(N,H){return d(V,{children:[e(X,{title:"Chi ti\u1EBFt",children:e(R,{type:"link",icon:e(Ht.FileTextOutlined,{}),onClick:()=>{b(!0),m(H)}})}),e(X,{title:"Xo\xE1",children:e(R,{type:"link",danger:!0,icon:e(Ht.DeleteOutlined,{}),disabled:H.status===1,onClick:()=>T(H.id)})})]})}}];return e(bd,{children:d(re.Content,{style:{height:1e3},children:[d(Ce,{style:{marginBottom:20,marginTop:20},justify:"start",children:[e(he,{children:e(Ce,{justify:"start",children:e(Ad,{allowEmpty:[!0,!0],onChange:g,defaultValue:[I().startOf("month"),I().endOf("month")]})})}),e(he,{style:{marginLeft:20},children:e(Cd,{})})]}),e(Ce,{style:{justifyContent:"flex-end"},children:e(tn,{title:"T\u1ED5ng thu",value:t,suffix:"VND",valueStyle:{color:"#3f8600"}})}),d(De,{spinning:f==="loading"||c==="loading",children:[a.length>0&&d(V,{style:{marginBottom:20},children:[e(R,{type:"primary",icon:e(Ht.CheckCircleOutlined,{}),onClick:()=>_(),loading:!1,children:"X\xE1c nh\u1EADn"}),e("span",{style:{marginLeft:8},children:a.length>0?`${a.length} phi\u1EBFu thu`:""})]}),e(le,{rowKey:"id",dataSource:F,columns:v,rowSelection:{selectedRowKeys:h,onChange:(P,N)=>{console.log(`selectedRowKeys: ${P}`,"selectedRows: ",N),l(N),S(P)},getCheckboxProps:P=>({disabled:P.status===1})},pagination:{pageSize:20,total:r.exports.get(x,"total",0)}}),e(Sd,{handleShowDetail:b,show:p,data:A})]})]})})}const _d={width:"20%",position:"relative"},Ea={width:"100%",height:"80px",objectFit:"contain"};function kd(n){const{listFileSelected:t,handleRemoveFileSelected:s,review:a}=n;return t.length>0?e(ue,{style:{marginTop:20},itemLayout:"horizontal",dataSource:t,renderItem:l=>d(V,{style:{marginRight:20,marginBottom:10},children:[a?e(Me,{width:60,src:l.url}):"",d("span",{style:{display:"block"},children:[l.name,e(R,{type:"link",icon:e(Gt,{style:{color:"red"}}),onClick:()=>s(l.id)})]})]})}):e(Q,{})}function ot(n){var c;const{isShow:t,closeFunction:s,okFunction:a,showSelectedList:l,defaultSelected:h,review:S}=n,A=q(),[m,p]=o.exports.useState([...h]),i=w(x=>x.filesReducer.files),u=w(x=>x.filesReducer.statusGetFiles),y=w(x=>x.filesReducer.statusUploadFile);o.exports.useEffect(()=>{(u==="success"||u==="error")&&A($a())},[A,u]),o.exports.useEffect(()=>{y==="success"&&A(Le({}))},[A,y]),o.exports.useEffect(()=>{A(Le({}))},[A]),o.exports.useEffect(()=>{p([...h])},[h]);function F(x){A(Le({page:x}))}function E(x,g=!1){var b;const _=m.findIndex(T=>T.id===x);if(_>-1){const T=[...m];T.splice(_,1),p(T),g&&a(T)}else p([...m,(b=i.data)==null?void 0:b.find(T=>T.id===x)])}function f(){p([]),s()}function C(){a(m),s()}return d(Q,{children:[n.children,e(se,{bodyStyle:{minHeight:200},centered:!0,visible:t,onCancel:f,onOk:C,width:1500,style:{paddingTop:0},maskClosable:!1,children:d(je,{defaultActiveKey:"1",children:[e(je.TabPane,{tab:"Ch\u1ECDn file \u0111\xE3 upload",children:d(De,{spinning:u==="loading",children:[e(ve,{children:(c=i.data)==null?void 0:c.map(x=>d(ve.Grid,{style:_d,children:[e(ce,{onClick:()=>{E(x.id)},checked:m.find(g=>g.id===x.id)!==void 0,style:{position:"absolute",zIndex:2,left:"6px",top:"5px"}}),e(ve,{onClick:()=>{E(x.id)},style:{width:"100%",border:"unset",position:"relative",cursor:"pointer"},cover:rn(x.type||"")&&e("img",{className:"img-center",src:x.url,style:Ea})||e("img",{className:"img-center",src:et[Object.keys(et).find(g=>g===x.type)],style:Ea}),children:e(ii,{style:{cursor:"pointer"},title:x.name,description:`Upload: ${I(x.created_at).format("DD/MM/YYYY HH:mm")}`})})]},x.id))}),!!r.exports.get(i,"total",0)&&e(oi,{style:{marginTop:"10px",textAlign:"right"},pageSize:20,total:r.exports.get(i,"total",0),onChange:x=>F(x)})]})},"1"),e(je.TabPane,{tab:"Upload file m\u1EDBi",children:e(Er,{})},"2")]})}),l&&e(kd,{review:S,handleRemoveFileSelected:x=>E(x,!0),listFileSelected:m})]})}function wd(n){const{testInfo:t}=n,s=Ue(),[a]=D.useForm(),[l,h]=o.exports.useState(!1),[S,A]=o.exports.useState(!1),[m,p]=o.exports.useState(!1),i=w(c=>c.testReducer.updateTestStatus),u=w(c=>c.lessonReducer.lessons),[y,F]=o.exports.useState([]),[E,f]=o.exports.useState([]);o.exports.useEffect(()=>{t&&i==="success"&&(s(Po()),s(gt(t.id)),h(!1))},[s,t,i]),o.exports.useEffect(()=>{t&&(a.setFieldsValue({result_link:t.result_link,content_link:t.content_link,title:t.title,date:I(t.date),lesson_id:t.lesson_id}),F(t.result_files),f(t.content_files))},[t]);function C(c){if(t){const{result_link:x,content_link:g,title:_,date:b,lesson_id:T}=c,v=y.map(N=>N.id),P=E.map(N=>N.id);s(Ds({id:t.id,title:_,date:I(b).format("YYYY-MM-DD"),content_files:P,content_link:g===""?null:g,result_link:x===""?null:x,result_files:v,lesson_id:T}))}}return t==null?e(Q,{}):d(Q,{children:[e(R,{type:"primary",icon:e(La,{}),onClick:()=>h(!0),children:"C\u1EADp nh\u1EADt"}),e(Te,{title:"C\u1EADp nh\u1EADt b\xE0i ki\u1EC3m tra v\xE0 \u0111\xE1p \xE1n",visible:l,closable:!0,width:800,onCancel:()=>h(!1),footer:[e(R,{onClick:()=>h(!1),children:"Hu\u1EF7 b\u1ECF"},"btncancle"),e(R,{loading:i==="loading",type:"primary",htmlType:"submit",form:"aForm",children:"L\u01B0u l\u1EA1i"},"btnok")],children:d(D,{id:"aForm",form:a,labelCol:{span:4},wrapperCol:{span:18},layout:"horizontal",onFinish:C,children:[e(D.Item,{label:"Ti\xEAu \u0111\u1EC1",name:"title",rules:[{required:!0,message:"Ti\xEAu \u0111\u1EC1 b\xE0i test kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng"}],children:e(U,{})}),e(D.Item,{label:"B\xE0i h\u1ECDc ng\xE0y",name:"lesson_id",children:e(O,{showSearch:!0,allowClear:!0,filterOption:(c,x)=>{var g;return((g=x==null?void 0:x.label)==null?void 0:g.toLowerCase().indexOf(c.toLowerCase()))>=0},children:r.exports.get(u,"data",[]).map(c=>e(O.Option,{value:c.id,label:I(c.date,"YYYY-MM-DD").format("DD-MM-YYYY"),children:d("a",{children:[I(c.date,"YYYY-MM-DD").format("DD-MM-YYYY")," "]})},c.id))})}),e(D.Item,{label:"Ng\xE0y",name:"date",children:e(ye,{format:"DD-MM-YYYY"})}),e(D.Item,{label:"Link \u0111\u1EC1 b\xE0i",name:"content_link",children:e(U,{})}),e(D.Item,{label:"Ch\u1ECDn files \u0111\u1EC1 thi",children:e(ot,{defaultSelected:E,isShow:m,okFunction:f,closeFunction:()=>p(!1),showSelectedList:!0,review:!0,children:e(R,{onClick:()=>p(!0),type:"default",size:"middle",icon:e(Be,{}),children:"Ch\u1ECDn files"})})}),e(D.Item,{label:"Link \u0111\xE1p \xE1n",name:"result_link",children:e(U,{})}),e(D.Item,{label:"Ch\u1ECDn files \u0111\xE1p \xE1n",children:e(ot,{defaultSelected:y,isShow:S,okFunction:F,closeFunction:()=>A(!1),showSelectedList:!0,review:!0,children:e(R,{onClick:()=>A(!0),type:"default",size:"middle",icon:e(Be,{}),children:"Ch\u1ECDn files"})})})]})})]})}const{TextArea:Rd}=U;function Bd(n){const{testResultInfo:t,show:s,setShow:a,test_id:l}=n,h=Ue(),[S,A]=o.exports.useState(""),[m,p]=o.exports.useState(""),[i,u]=o.exports.useState([]),[y,F]=o.exports.useState(!1),E=w(c=>c.testResultsReducer.updateTestResultStatus),f=w(c=>c.testResultsReducer.addTestResultStatus);o.exports.useEffect(()=>{(t==null?void 0:t.test_result)?(A(t.test_result.teacher_comment),p(t.test_result.point),u(t.test_result.correct_files)):(A(""),p(""),u([]))},[t]);function C(){if(t){if(t.test_result){const c={id:t.test_result.id,teacher_comment:S,point:m,correct_files:i.map(x=>x.id)};h(Os(c))}else if(l){const c={test_id:l,student_id:t.student.id,teacher_comment:S,point:m,correct_files:i.map(x=>x.id)};h(Qs(c))}}}return e(Q,{children:e(Te,{title:"Ch\u1EA5m \u0111i\u1EC3m v\xE0 nh\u1EADn x\xE9t",width:800,visible:s,closable:!0,onCancel:()=>a(!1),onOk:C,okText:"L\u01B0u l\u1EA1i",cancelText:"Hu\u1EF7 b\u1ECF",confirmLoading:E==="loading"||f==="loading",children:d("div",{style:{padding:20},children:[e(He,{message:"N\u1EBFu h\u1ECDc sinh ch\u01B0a n\u1ED9p b\xE0i th\xEC vi\u1EC7c ch\u1EA5m \u0111i\u1EC3m v\xE0 nh\u1EADn x\xE9t s\u1EBD \u0111i k\xE8m v\u1EDBi vi\u1EC7c gi\xE1o vi\xEAn x\xE1c nh\u1EADn \u0111\xE3 n\u1ED9p b\xE0i cho h\u1ECDc sinh.",type:"warning"}),e("p",{style:{marginBottom:10,marginTop:10},children:"Ch\u1EA5m \u0111i\u1EC3m"}),e(U,{placeholder:"0.0",onChange:({target:{value:c}})=>p(c),value:m,style:{width:100}}),e("p",{style:{marginBottom:10,marginTop:10},children:"Nh\u1EADn x\xE9t"}),e(Rd,{placeholder:"Vi\u1EBFt nh\u1EADn x\xE9t b\xE0i l\xE0m c\u1EE7a h\u1ECDc sinh...",onChange:({target:{value:c}})=>A(c),value:S,style:{height:100}}),e("p",{style:{marginBottom:10,marginTop:10},children:"Link b\xE0i ch\u1EEFa"}),e(U,{placeholder:"D\xE1n \u0111\u01B0\u1EDDng d\u1EABn b\xE0i ch\u1EEFa n\u1EBFu c\xF3..."}),e("p",{style:{marginTop:20},children:"\u1EA2nh b\xE0i ch\u1EEFa"}),e(ot,{defaultSelected:i,isShow:y,okFunction:u,closeFunction:()=>F(!1),showSelectedList:!0,review:!0,children:e(R,{onClick:()=>F(!0),type:"primary",ghost:!0,size:"middle",icon:e(Be,{}),children:"Ch\u1ECDn files"})})]})})})}function mr(n){const{students:t,show:s,setShow:a,title:l,uri:h}=n,S=q(),[A,m]=o.exports.useState(""),p=w(u=>u.notificationReducer.addNotificationStatus);function i(){a(!1);const u=[];t.forEach(F=>{const E=r.exports.get(F,"parent.id",0);E>0&&u.push(E)}),S(Pt({user_ids:u,message:{title:l,body:A,data:{uri:h}}}))}return e(Q,{children:e(se,{title:l,visible:s,onCancel:()=>a(!1),onOk:i,footer:[e(R,{onClick:()=>a(!1),children:"Hu\u1EF7 b\u1ECF"},"btncancel"),e(R,{type:"primary",onClick:()=>i(),loading:p==="loading",children:"G\u1EEDi \u0111i"},"btnsubmit")],children:e(U.TextArea,{placeholder:"Write something here!",style:{marginBottom:20},value:A,onChange:u=>m(u.target.value)})})})}function Id(n){const{testInfo:t}=n,s=Ue(),[a,l]=o.exports.useState([]),[h,S]=o.exports.useState(!1),[A,m]=o.exports.useState(!1),[p,i]=o.exports.useState(null),[u,y]=o.exports.useState(!1),[F,E]=o.exports.useState(-1),f=w(g=>g.studentReducer.students),C=w(g=>g.testResultsReducer.updateTestResultStatus),c=w(g=>g.testResultsReducer.addTestResultStatus);o.exports.useEffect(()=>{t&&s(Fe({class_id:t.class_id}))},[t]),o.exports.useEffect(()=>{var g;if(t&&f){const _=[],b=[];(g=f.data)==null||g.forEach(T=>{const v=t.test_results.find(P=>P.student_id===T.id);v&&b.push(v.id),_.push({student:T,test_result:v,tranferred:!1})}),b.length<t.test_results.length&&t.test_results.forEach(T=>{b.find(P=>P===T.id)===void 0&&_.push({student:T.student,test_result:T,tranferred:!0})}),l(_)}},[f]),o.exports.useEffect(()=>{(C==="success"||c==="success")&&(S(!1),s(nl()),t&&s(gt(t.id)))},[s,C,c]);const x=[le.EXPAND_COLUMN,{title:"Name",dataIndex:"",key:"name",render:function(_,b){return d(Q,{children:[e("strong",{children:b.student.name}),b.tranferred&&e("span",{style:{fontStyle:"italic",color:"#95a5a6"},children:" (\u0111\xE3 chuy\u1EC3n l\u1EDBp)"})]})}},{title:"Ng\xE0y n\u1ED9p",dataIndex:"",key:"date",render:function(_,b){return e("span",{children:b.test_result?I(b.test_result.updated_at).format("DD-MM-YYYY HH:mm"):e(te,{color:"red",children:"Ch\u01B0a n\u1ED9p"})})}},{title:"\u0110i\u1EC3m",dataIndex:"",key:"point",render:function(_,b){return e("strong",{style:{color:"#e67e22"},children:b.test_result?b.test_result.point:""})}},{title:"Nh\u1EADn x\xE9t",dataIndex:"",key:"comment",render:function(_,b){return e("span",{children:b.test_result?b.test_result.teacher_comment:""})}},{title:"",dataIndex:"action",key:"address",render:function(_,b){return d(Q,{children:[e(X,{title:"Ch\u1EA5m v\xE0 ch\u1EEFa b\xE0i",children:e(R,{type:"link",icon:e(li,{style:{color:"#2ecc71"}}),onClick:()=>{S(!0),i(b)}})}),e(X,{title:"Nh\u1EAFc nh\u1EDF n\u1ED9p b\xE0i",children:e(R,{type:"link",icon:e(Mt,{}),disabled:b.test_result!==void 0,onClick:()=>{m(!0),i(b)}})})]})}}];return d(Q,{children:[e(le,{bordered:!0,rowKey:g=>g.student.id,dataSource:a,columns:x,expandable:{expandedRowRender:g=>e("div",{children:g.test_result&&d(Q,{children:[g.test_result.correct_link&&d("div",{style:{marginBottom:10},children:[e("h1",{children:"Link ch\u1EEFa b\xE0i:"}),e("a",{href:g.test_result.correct_link,children:g.test_result.correct_link})]}),g.test_result.result_files.length>0&&d(Q,{children:[e("h1",{style:{marginBottom:10},children:"Files b\xE0i l\xE0m:"}),e(V,{size:[10,10],wrap:!0,children:r.exports.get(g,"test_result.result_files",[]).map((_,b)=>e("div",{children:_.type==="mp4"||_.type==="mov"?d("div",{children:[e(Na,{loop:!0,style:{width:200,height:"auto"},url:_.url,playing:u&&F===_.id}),e("div",{style:{justifyContent:"center",alignItems:"center",display:"flex",fontSize:18,marginTop:10,color:"#e67e22"},children:u?e(Ma,{onClick:()=>{y(!u),E(_.id)}}):e(Ua,{onClick:()=>{y(!u),E(_.id)}})})]}):e(Me,{width:150,height:150,style:{objectFit:"cover"},alt:"logo",src:_.url,fallback:an})},b))})]}),g.test_result.correct_files.length>0&&d(Q,{children:[e("h1",{style:{marginBottom:10},children:"\u1EA2nh ch\u1EEFa b\xE0i:"}),e(V,{style:{backgroundColor:"white"},size:[10,10],wrap:!0,children:r.exports.get(g,"test_result.correct_files",[]).map((_,b)=>e(Me,{width:100,height:100,style:{objectFit:"cover"},alt:"logo",src:_.url,fallback:an},b))})]})]})})},pagination:{pageSize:20}}),e(Bd,{test_id:t&&t.id,testResultInfo:p,show:h,setShow:S},"cmt"),e(mr,{title:"Nh\u1EAFc nh\u1EDF n\u1ED9p b\xE0i t\u1EADp",uri:cn.SUBMIT_TEST_RESULT_REMIND,students:p?new Array(p.student):[],show:A,setShow:m})]})}const{Title:Mn}=qn,Td="DD-MM-YYYY";function vd(){var S,A,m;const n=lt(),t=Ue(),[s,a]=o.exports.useState(!1),l=w(p=>p.testReducer.testInfo),h=w(p=>p.testReducer.getTestStatus);return o.exports.useEffect(()=>{n.test_id&&t(gt(+n.test_id))},[t,n]),e(re.Content,{children:d(De,{spinning:h==="loading",children:[e(Je,{title:r.exports.get(l,"title",""),subTitle:I(r.exports.get(l,"date",null)).format(Td),onBack:()=>window.history.back(),style:{backgroundColor:"white",marginTop:20},extra:[e(wd,{testInfo:l})],children:d(j,{size:"small",column:2,bordered:!0,children:[e(j.Item,{label:"L\u1EDBp",children:e("p",{children:(S=l==null?void 0:l.class.name)!=null?S:""})}),e(j.Item,{label:"S\u1ED1 b\xE0i n\u1ED9p",children:d("a",{children:[r.exports.get(l,"test_results",[]).length,"/",r.exports.get(l,"class.students_num",0)]})}),d(j.Item,{label:"L\u1ECBch h\u1ECDc",children:[(()=>((l==null?void 0:l.class.schedule)?[...l==null?void 0:l.class.schedule]:[]).sort().map(i=>Ft[i]).join(", "))(),d("span",{children:["(",(A=l==null?void 0:l.class.schedule_time)!=null?A:"",")"]})]})]})}),d("div",{style:{padding:"0 24px"},children:[e(Mn,{style:{marginTop:20},level:5,children:"\u0110\u1EC1 b\xE0i"}),(l==null?void 0:l.content_link)&&d(V,{style:{backgroundColor:"white",marginBottom:10},size:[10,10],wrap:!0,children:["Link \u0111\u1EC1 b\xE0i:"," ",e("a",{target:"_blank",rel:"noreferrer",href:l==null?void 0:l.content_link,children:l==null?void 0:l.content_link})]}),r.exports.get(l,"content_files",[]).length>0&&e("div",{style:{},children:e(V,{style:{backgroundColor:"white"},size:[10,10],wrap:!0,children:l==null?void 0:l.content_files.map((p,i)=>e("div",{children:p.type==="mp4"||p.type==="mov"?d("div",{children:[e(Na,{url:p.url,playing:s}),e("div",{style:{justifyContent:"center",alignItems:"center",display:"flex",fontSize:18,marginTop:10,color:"#e67e22"},children:s?e(Ma,{onClick:()=>a(!s)}):e(Ua,{onClick:()=>a(!s)})})]}):e(Me,{width:100,height:100,style:{objectFit:"cover"},alt:"logo",src:rn(p.type||"")?p.url:et[Object.keys(et).find(u=>u===p.type)]})},i))})}),e(Mn,{style:{marginTop:20},level:5,children:"\u0110\xE1p \xE1n"}),(l==null?void 0:l.result_link)&&d(V,{style:{backgroundColor:"white",marginBottom:10},size:[10,10],wrap:!0,children:["Link \u0111\xE1p \xE1n:"," ",e("a",{target:"_blank",rel:"noreferrer",href:l==null?void 0:l.result_link,children:(m=l==null?void 0:l.result_link)!=null?m:""})]}),r.exports.get(l,"result_files",[]).length>0&&d("div",{children:[e("p",{children:"\u1EA2nh \u0111\xE1p \xE1n"}),e(V,{style:{backgroundColor:"white"},size:[10,10],wrap:!0,children:l==null?void 0:l.result_files.map((p,i)=>e("div",{children:e(Me,{width:100,height:100,style:{objectFit:"cover"},alt:"logo",src:rn(p.type||"")?p.url:et[Object.keys(et).find(u=>u===p.type)]})},i))})]}),e(Ke,{}),e(Mn,{style:{marginTop:20},level:5,children:"Danh s\xE1ch h\u1ECDc sinh n\u1ED9p b\xE0i"}),e(Id,{testInfo:l})]})]})})}const{Option:ma}=O,{Column:Xe,ColumnGroup:Yd}=le,{confirm:ga}=se;function Pd(){const n=q(),t=Se(),s=w(f=>f.periodTuitionReducer.periodTuitions),a=w(f=>f.periodTuitionReducer.getPeriodTuitionsStatus),l=w(f=>f.classReducer.classes),[h,S]=o.exports.useState([]),[A,m]=o.exports.useState([]),[p,i]=o.exports.useState({});o.exports.useEffect(()=>{n(ft(p)),n(we({}))},[n,p]),o.exports.useEffect(()=>{const f=r.exports.get(l,"data",[]),C=r.exports.get(s,"data",[]).map(c=>{var v;const x=f.find(P=>P.id===c.class_id);let g=!0;r.exports.get(x,"act_session_num",0)>0&&(g=!1);const _=r.exports.get(c,"tuition_fees",[]).length;let b=0,T=0;return r.exports.get(c,"tuition_fees",[]).forEach(P=>{const N=c.est_session_num*r.exports.get(x,"fee_per_session",0),H=+r.exports.get(P,"residual",0)+ +r.exports.get(P,"fixed_deduction",0)+ +r.exports.get(P,"flexible_deduction",0)-+r.exports.get(P,"prev_debt",0);b+=N-H,P.status===1&&T++}),T>0&&(g=!1),{key:c.id,class_name:(v=x==null?void 0:x.name)!=null?v:"",fromDate:c.from_date,toDate:c.to_date,active:c.active,estact_session_num:`${r.exports.get(c,"lessons",[]).length}/${c.est_session_num}`,amout:b,status:`${T}/${_}`,id:c.id,deleteAble:g}});m([...f]),S([...C])},[l,s]);function u(f){var g;const C={class_id:p.class_id,page:1},c=f==null?void 0:f.format("YYYY-MM-DD"),x=(g=f&&I(f!=null?f:"").add(1,"Q").subtract(1,"d").format("YYYY-MM-DD"))!=null?g:void 0;i(ge(ie({},C),{from_date:c,to_date:x}))}function y(f){i(ge(ie({},p),{page:1,class_id:f||void 0}))}function F(f){ga({title:f.active===1?"B\u1ECF k\xEDch ho\u1EA1t chu k\u1EF3 h\u1ECDc ph\xED":"K\xEDch ho\u1EA1t chu k\u1EF3 h\u1ECDc ph\xED",icon:e(Re,{}),content:f.active===1?e("span",{children:"L\u01B0u \xFD l\u1EDBp h\u1ECDc lu\xF4n ph\u1EA3i c\xF3 m\u1ED9t chu k\u1EF3 h\u1ECDc ph\xED \u0111\u01B0\u1EE3c k\xEDch ho\u1EA1t."}):e("span",{children:"L\u01B0u \xFD t\u1EA1i m\u1ED9t th\u1EDDi \u0111i\u1EC3m m\u1ED9t l\u1EDBp ch\u1EC9 c\xF3 duy nh\u1EA5t m\u1ED9t chu k\u1EF3 h\u1ECDc ph\xED \u0111\u01B0\u1EE3c k\xEDch ho\u1EA1t. N\u1EBFu mu\u1ED1n k\xEDch ho\u1EA1t chu k\u1EF3 m\u1EDBi th\xEC ph\u1EA3i b\u1ECF k\xEDch ho\u1EA1t chu k\u1EF3 c\u0169 tr\u01B0\u1EDBc!"}),onOk(){n(ws({data:{active:f.active===1?0:1},pID:f.id})).finally(()=>{n(ft({}))})}})}function E(f){ga({title:"B\u1EA1n mu\u1ED1n xo\xE1 chu k\u1EF3 h\u1ECDc ph\xED n\xE0y?",icon:e(Re,{}),content:"L\u01B0u \xFD b\u1EA1n ch\u1EC9 xo\xE1 \u0111\u01B0\u1EE3c chu k\u1EF3 h\u1ECDc ph\xED khi ch\u01B0a h\u1ECDc \u0111\u01B0\u1EE3c bu\u1ED5i n\xE0o v\xE0 ch\u01B0a c\xF3 h\u1ECDc sinh n\xE0o \u0111\xF3ng h\u1ECDc ph\xED!",onOk(){n(Rs(f)).finally(()=>{n(ft({}))})}})}return d(re.Content,{children:[d(V,{style:{marginBottom:20,marginTop:20},children:[e(ye,{style:{width:200},placeholder:"L\u1ECDc theo qu\xFD",onChange:u,picker:"quarter"}),d(O,{defaultValue:0,style:{width:280},onChange:y,children:[e(ma,{value:0,children:"T\u1EA5t c\u1EA3"}),A.map(f=>d(ma,{value:f.id,children:[" ",f.name]},f.id))]}),e(R,{type:"primary",icon:e(Ae,{}),onClick:()=>t.push({pathname:"/payments/tuition-create"}),children:"L\u1EADp b\u1EA3ng h\u1ECDc ph\xED"})]}),d(le,{dataSource:h,bordered:!0,loading:a==="loading",children:[e(Xe,{title:"L\u1EDBp",dataIndex:"class_name",render:f=>e("strong",{children:f})},"class_name"),d(Yd,{title:"Chu k\u1EF3",children:[e(Xe,{title:"T\u1EEB ng\xE0y",dataIndex:"fromDate",render:f=>I(f).format(la)},"fromDate"),e(Xe,{title:"\u0110\u1EBFn ng\xE0y",dataIndex:"toDate",render:f=>I(f).format(la)},"toDate")]}),e(Xe,{title:"S\u1ED1 bu\u1ED5i h\u1ECDc (act/est)",dataIndex:"estact_session_num"},"estact_session_num"),e(Xe,{title:"T\u1ED5ng h\u1ECDc ph\xED",dataIndex:"amout",render:f=>e("strong",{style:{color:"#2980b9"},children:W(f).format("0,0")})},"amout"),e(Xe,{title:"\u0110\xE3 n\u1ED9p",dataIndex:"status"},"status"),e(Xe,{title:"Tr\u1EA1ng th\xE1i",dataIndex:"active",render:f=>f===1?e(te,{color:"green",children:"Active"}):e(te,{color:"red",children:"Deactive"})},"active"),e(Xe,{title:"Action",render:(f,C)=>d(V,{size:"middle",children:[e(X,{title:"Chi ti\u1EBFt",children:e(R,{type:"link",onClick:()=>t.push({pathname:`/payments/tuition-detail/${C.id}`}),icon:e(Vn,{})})}),e(X,{title:C.active===1?"Deactive":"Active",children:e(R,{type:"link",onClick:()=>F(C),icon:C.active===1?e(Kn,{style:{color:"#e74c3c"}}):e(Ve,{style:{color:"#27ae60"}})})}),e(X,{title:"Xo\xE1 chu k\u1EF3 h\u1ECDc ph\xED",children:e(R,{type:"link",disabled:!C.deleteAble,onClick:()=>E(C.id),icon:e(Ut,{style:{color:C.deleteAble===!0?"#e74c3c":"#bdc3c7"}})})})]})},"action")]})]})}function Ld(n){const{periodInfo:t,studentInfo:s,show:a,setShow:l}=n,h=q(),[S]=D.useForm(),{TextArea:A}=U,[m,p]=o.exports.useState(!1),[i,u]=o.exports.useState(0),[y,F]=o.exports.useState([]),E=w(x=>x.dayoffReducer.dayoffs);o.exports.useEffect(()=>{s&&t&&h(st({from_date:s.class_histories[s.class_histories.length-1].date,to_date:t==null?void 0:t.to_date}))},[t,s,h]),o.exports.useEffect(()=>{if(E&&s){const x=[];r.exports.get(E,"data",[]).length>0&&r.exports.get(E,"data",[]).forEach(b=>{x.push(b.from_date)});let g=[],_=[];if(r.exports.get(s,"class.schedule",[]).length>0){let b=0;r.exports.get(s,"class.schedule",[]).forEach(T=>{g=cr(s.class_histories[s.class_histories.length-1].date,r.exports.get(t,"to_date",""),T),b+=g.length,_=_.concat(hr(g,x))}),b-=_.length,u(b),F(_),S.setFieldsValue({est_fee:b*+r.exports.get(t,"fee_per_session",0),amount:b*+r.exports.get(t,"fee_per_session",0)})}}},[E,s,t,S]);function f(x,g){x.note||S.setFieldsValue({amount:+g.est_fee-+g.fixed_deduction-+(g.est_fee*g.flexible_deduction/100)})}function C(){S.setFieldsValue({fixed_deduction:"0",flexible_deduction:"0"}),l(!1)}function c(x){p(!0);const g=+x.flexible_deduction*i*r.exports.get(t,"fee_per_session",0)/100;h(Is({student_id:r.exports.get(s,"id",0),period_tuition_id:r.exports.get(t,"id",0),fixed_deduction:x.fixed_deduction,flexible_deduction:String(g),residual:"",note:x.note,from_date:r.exports.get(s,"admission_date",""),to_date:r.exports.get(t,"to_date",""),est_session_num:i,dayoffs:y})).then(()=>{l(!1),h(rt(r.exports.get(t,"id",0)))}).finally(()=>p(!1))}return e(Q,{children:e(se,{title:"T\u1EA1o b\u1EA3ng h\u1ECDc ph\xED cho h\u1ECDc sinh",visible:a,closable:!0,onCancel:C,width:800,cancelText:"Hu\u1EF7 b\u1ECF",footer:[e(R,{onClick:C,children:"Hu\u1EF7 b\u1ECF"},"btnsubmit"),e(R,{loading:m,type:"primary",htmlType:"submit",form:"aForm",children:"Ho\xE0n t\u1EA5t"},"btnsubmit")],children:d(D,{id:"aForm",form:S,labelCol:{span:6},wrapperCol:{span:16},layout:"horizontal",initialValues:{stname:r.exports.get(s,"name",""),fixed_deduction:"0",flexible_deduction:"0"},onValuesChange:f,onFinish:c,children:[e(D.Item,{label:"H\u1ECD v\xE0 t\xEAn",name:"stname",children:e(U,{disabled:!0,style:{color:"#2c3e50"}})}),e(D.Item,{label:`H\u1ECDc ph\xED \u01B0\u1EDBc t\xEDnh (${i} bu\u1ED5i)`,name:"est_fee",children:e(pe,{formatter:x=>W(x).format(),style:{width:"100%",color:"#3498db",fontWeight:700},disabled:!0})}),e(D.Item,{label:"Gi\u1EA3m tr\u1EEB \u0111\u1EB7c bi\u1EC7t",name:"fixed_deduction",children:e(pe,{formatter:x=>W(x).format(),style:{width:"100%",color:"#e74c3c"}})}),e(D.Item,{label:"Gi\u1EA3m tr\u1EEB theo \u0111\u1EE3t(%)",name:"flexible_deduction",children:e(pe,{formatter:x=>W(x).format(),style:{width:"20%",color:"#e67e22"}})}),e(D.Item,{label:"Th\xE0nh ti\u1EC1n",name:"amount",children:e(pe,{formatter:x=>W(x).format(),style:{width:"100%",color:"#3498db",fontWeight:700},disabled:!0})}),e(D.Item,{label:"Ghi ch\xFA",name:"note",children:e(A,{placeholder:"Ghi ch\xFA",autoSize:{minRows:3,maxRows:5}})})]})})})}const{TextArea:Nd}=U;function Md(n){const{periodInfo:t,tuitionFeeInfo:s,stName:a}=n,l=q(),[h,S]=o.exports.useState(!1),[A]=D.useForm(),[m,p]=o.exports.useState(!1);o.exports.useEffect(()=>{if(s){const E=(r.exports.get(s,"est_session_num",0)>0?r.exports.get(s,"est_session_num",0):r.exports.get(t,"est_session_num",0))*r.exports.get(t,"fee_per_session",0);A.setFieldsValue({stname:a,est_fee:E,prev_debt:r.exports.get(s,"prev_debt","0"),residual:r.exports.get(s,"residual","0"),fixed_deduction:r.exports.get(s,"fixed_deduction","0"),flexible_deduction:100*+r.exports.get(s,"flexible_deduction","0")/E,amount:E+ +r.exports.get(s,"prev_debt","0")-+r.exports.get(s,"residual","0")-+r.exports.get(s,"fixed_deduction","0")-+r.exports.get(s,"flexible_deduction","0"),note:r.exports.get(s,"note","")})}},[s,A,t,a]);function i(F,E){F.note||A.setFieldsValue({amount:+E.est_fee-+E.fixed_deduction-+(E.est_fee*E.flexible_deduction/100)})}function u(){const E=(r.exports.get(s,"est_session_num",0)>0?r.exports.get(s,"est_session_num",0):r.exports.get(t,"est_session_num",0))*r.exports.get(t,"fee_per_session",0);A.setFieldsValue({fixed_deduction:r.exports.get(s,"fixed_deduction","0"),flexible_deduction:100*+r.exports.get(s,"flexible_deduction","0")/E,note:r.exports.get(s,"note","")}),S(!1)}function y(F){p(!0);const E=+F.flexible_deduction*r.exports.get(t,"est_session_num",0)*r.exports.get(t,"fee_per_session",0)/100;l(Ts({data:{fixed_deduction:F.fixed_deduction,flexible_deduction:String(E),note:F.note},tuition_id:r.exports.get(s,"id",0)})).then(()=>{S(!1),l(rt(r.exports.get(t,"id",0)))}).finally(()=>p(!1))}return d(Q,{children:[e(X,{title:"Chi ti\u1EBFt b\u1EA3ng h\u1ECDc ph\xED",children:e(R,{onClick:()=>S(!0),icon:e(Ba,{}),type:"link"})}),e(se,{title:"B\u1EA3ng h\u1ECDc ph\xED cho h\u1ECDc sinh",visible:h,closable:!0,onCancel:u,width:800,cancelText:"Hu\u1EF7 b\u1ECF",footer:[e(R,{onClick:u,children:"In"},"btnPrint"),e(R,{loading:m,type:"primary",htmlType:"submit",form:"uForm",disabled:s.status===1,children:"C\u1EADp nh\u1EADt"},"btnsubmit")],children:d(D,{id:"uForm",form:A,labelCol:{span:6},wrapperCol:{span:16},layout:"horizontal",onValuesChange:i,onFinish:y,children:[e(D.Item,{label:"H\u1ECD v\xE0 t\xEAn",name:"stname",children:e(U,{disabled:!0,style:{color:"#2c3e50"}})}),e(D.Item,{label:`H\u1ECDc ph\xED \u01B0\u1EDBc t\xEDnh (${r.exports.get(s,"est_session_num",0)>0?r.exports.get(s,"est_session_num",0):r.exports.get(t,"est_session_num",0)} bu\u1ED5i)`,name:"est_fee",children:e(pe,{formatter:F=>W(F).format(),style:{width:"50%",color:"#3498db",fontWeight:700},disabled:!0})}),e(D.Item,{label:"N\u1EE3 k\u1EF3 tr\u01B0\u1EDBc",name:"prev_debt",children:e(pe,{formatter:F=>W(F).format(),style:{width:"50%",color:"#3498db",fontWeight:700},disabled:!0})}),e(D.Item,{label:"D\u01B0 k\u1EF3 tr\u01B0\u1EDBc",name:"residual",children:e(pe,{formatter:F=>W(F).format(),style:{width:"50%",color:"#e74c3c",fontWeight:700},disabled:!0})}),e(D.Item,{label:"Gi\u1EA3m tr\u1EEB \u0111\u1EB7c bi\u1EC7t",name:"fixed_deduction",children:e(pe,{formatter:F=>W(F).format(),style:{width:"50%",color:"#e74c3c"}})}),e(D.Item,{label:"Gi\u1EA3m tr\u1EEB theo \u0111\u1EE3t(%)",name:"flexible_deduction",children:e(pe,{style:{width:"20%",color:"#e67e22"}})}),e(D.Item,{label:"Th\xE0nh ti\u1EC1n",name:"amount",children:e(pe,{formatter:F=>W(F).format(),style:{width:"50%",color:"#3498db"},disabled:!0})}),e(D.Item,{label:"Ghi ch\xFA",name:"note",children:e(Nd,{placeholder:"Ghi ch\xFA",autoSize:{minRows:3,maxRows:5}})})]})})]})}function Ud(n){const{periodTuition:t,students:s,feesPerStudent:a}=n,[l,h]=o.exports.useState([]);return o.exports.useEffect(()=>{if(t&&s&&a){const S=[];s.forEach(A=>{const m=t.tuition_fees.find(p=>p.student_id===A.id);if(m){const p=a[m.id]+ +m.prev_debt-+m.fixed_deduction-+m.flexible_deduction-+m.residual;S.push({name:A.name,birthday:A.birthday,total:`${p}`,status:`${m.status}`})}}),h(S)}},[t,s,a]),e(Q,{children:e(di,{data:l,children:e(R,{type:"primary",ghost:!0,icon:e(ui,{}),children:"T\u1EA3i excel"})})})}const{TabPane:Un}=je,{confirm:fa}=se,xa="DD/MM/YYYY",Gd=[{title:"Ng\xE0y h\u1ECDc",dataIndex:"date",key:"date"},{title:"Gi\xE1o vi\xEAn",dataIndex:"",key:""},{title:"S\u1ED1 h\u1ECDc sinh tham gia",dataIndex:"attendances",key:"attendances"}];function Qd(){const n=lt(),t=q(),[s,a]=o.exports.useState([]),[l,h]=o.exports.useState([]),[S,A]=o.exports.useState(0),[m,p]=o.exports.useState([]),[i,u]=o.exports.useState(0),[y,F]=o.exports.useState(!1),[E,f]=o.exports.useState(!1),[C,c]=o.exports.useState(null),[x,g]=o.exports.useState(-1),_=w(G=>G.periodTuitionReducer.periodTuition),b=w(G=>G.periodTuitionReducer.getPeriodTuitionStatus),T=w(G=>G.tuitionFeeReducer.tuitionFeePaymentState),v=w(G=>G.studentReducer.students);o.exports.useEffect(()=>{(n.tuition_id||T==="success")&&t(rt(parseInt(n.tuition_id)))},[t,n.tuition_id,T]),o.exports.useEffect(()=>{var G;if(t(Fe({class_id:(G=_==null?void 0:_.class_id)!=null?G:void 0,per_page:100})),_){let M=0,z=0;const ne=[];r.exports.get(_,"tuition_fees",[]).forEach(J=>{if(J.status===1){const _e=r.exports.get(J,"est_session_num",0)>0?r.exports.get(J,"est_session_num",0):r.exports.get(_,"est_session_num",0),_t=r.exports.get(_,"fee_per_session",0)*_e+ +r.exports.get(J,"prev_debt","0"),kt=+r.exports.get(J,"residual",0)+ +r.exports.get(J,"fixed_deduction",0)+ +r.exports.get(J,"flexible_deduction",0),dt=_t-kt;dt>0&&(M+=dt)}if(J.status===1&&z++,J.est_session_num===0){const _e=r.exports.get(_,"est_session_num",0)*r.exports.get(_,"fee_per_session",0);ne[J.id]=_e}else{const _e=r.exports.get(J,"est_session_num",0)*r.exports.get(_,"fee_per_session",0);ne[J.id]=_e}}),A(M),u(z),p(ne)}},[t,_]),o.exports.useEffect(()=>{if(a([...r.exports.get(v,"data",[])]),r.exports.get(_,"active",0)===1){const G=[];r.exports.get(v,"data",[]).forEach(M=>{r.exports.get(_,"tuition_fees",[]).findIndex(ne=>ne.student_id===M.id)===-1&&M.class_histories.length>=1&&I(M.class_histories[M.class_histories.length-1].date).isSameOrAfter(I(r.exports.get(_,"from_date","")))&&G.push(M)}),h(G)}},[v,_]);function P(G){fa({title:"X\xE1c nh\u1EADn chuy\u1EC3n n\u1EE3 sang chu k\u1EF3 m\u1EDBi",content:"L\u01B0u \xFD \u0111\u1EC3 chuy\u1EC3n n\u1EE3 b\u1EAFt bu\u1ED9c ph\u1EA3i t\u1ED3n t\u1EA1i m\u1ED9t b\u1EA3ng h\u1ECDc ph\xED m\u1EDBi t\u01B0\u01A1ng \u1EE9ng c\u1EE7a h\u1ECDc sinh!",icon:e(Re,{}),onOk(){const M=m[G.id]-+G.fixed_deduction-+G.flexible_deduction-+G.residual||0;t(Ys({debt_tranfer:String(M),tuition_fee_id:G.id})).finally(()=>{t(rt(parseInt(n.tuition_id)))})}})}function N(G){if(G){const M=m[G.id]+ +G.prev_debt-+G.fixed_deduction-+G.flexible_deduction-+G.residual||0,ne={tuition_fee_id:G.id,amount:String(M)};fa({title:"X\xE1c nh\u1EADn \u0111\xE3 thanh to\xE1n",content:"L\u01B0u \xFD sau khi x\xE1c nh\u1EADn \u0111\xE3 thanh to\xE1n s\u1EBD kh\xF4ng th\u1EC3 s\u1EEDa \u0111\u01B0\u1EE3c b\u1EA3ng h\u1ECDc ph\xED!",icon:e(Re,{}),onOk(){t(vs(ne))}})}}const H=(G=2)=>d(j,{size:"middle",column:G,children:[e(j.Item,{label:"L\u1EDBp h\u1ECDc",children:e("a",{children:r.exports.get(_,"class.name","")})}),e(j.Item,{label:"Chu k\u1EF3",children:d("strong",{children:[I(r.exports.get(_,"from_date","")).format(xa)," -"," ",I(r.exports.get(_,"to_date","")).format(xa)]})}),e(j.Item,{label:d("span",{children:["S\u1ED1 bu\u1ED5i \u01B0\u1EDBc t\xEDnh"," ",d(X,{title:"S\u1ED1 bu\u1ED5i h\u1ECDc ph\xED \u01B0\u1EDBc t\xEDnh d\u1EF1a theo l\u1ECBch h\u1ECDc c\u1EE7a l\u1EDBp v\xE0 kho\u1EA3ng th\u1EDDi gian c\u1EE7a chu k\u1EF3 h\u1ECDc ph\xED",children:[" ",e(ht,{style:{color:"#f39c12"}})]})]}),children:e("span",{children:r.exports.get(_,"est_session_num",0)})}),e(j.Item,{label:"H\u1ECDc ph\xED/bu\u1ED5i",children:e("strong",{style:{float:"right"},children:Dt(r.exports.get(_,"class.fee_per_session",""))})}),e(j.Item,{label:"S\u1ED1 bu\u1ED5i \u0111\xE3 h\u1ECDc",children:e("span",{style:{color:"#e74c3c"},children:r.exports.get(_,"lessons",[]).length})}),e(j.Item,{label:"Tr\u1EA1ng th\xE1i",children:e("span",{style:{color:"#e74c3c"},children:r.exports.get(_,"active",0)===1?e(te,{color:"green",children:"Active"}):e(te,{color:"red",children:"Deactive"})})})]}),Z=d("div",{style:{display:"flex",width:"max-content",justifyContent:"flex-end"},children:[e(tn,{title:"H\u1ECDc ph\xED thu \u0111\u01B0\u1EE3c",value:Dt(S),style:{marginRight:32,fontWeight:600,color:"#3498db"}}),e(tn,{title:"\u0110\xE3 n\u1ED9p",value:`${i} / ${r.exports.get(_,"tuition_fees",[]).length}`,style:{fontWeight:600}})]}),K=[{title:"H\u1ECD t\xEAn",dataIndex:"student",key:"student",render:function(M,z){return d(Q,{children:[e("a",{children:z.student.name})," ",z.student.birthday]})}},{title:"T\u1ED5ng h\u1ECDc ph\xED",dataIndex:"residual",key:"residual",render:function(M,z){return e("span",{style:{color:"#2980b9",fontWeight:700},children:W(m[z.id]+ +z.prev_debt-+z.fixed_deduction-+z.flexible_deduction-+z.residual||0).format("0,0")})}},{title:"Tr\u1EA1ng th\xE1i",dataIndex:"status",key:"status",render:function(M){return e(Q,{children:M===0?e(te,{color:"red",children:"Ch\u01B0 n\u1ED9p"}):M===1?e(te,{color:"green",children:"\u0110\xE3 n\u1ED9p"}):e(te,{color:"orange",children:"Chuy\u1EC3n n\u1EE3"})})}},{width:"5%",title:"Action",key:"action",render:function(M,z,ne){var J;return e(Q,{children:d(V,{children:[e(X,{title:"Ch\u1EC9nh s\u1EEDa",children:e(Md,{tuitionFeeInfo:z,periodInfo:_,stName:(J=s.find(_e=>_e.id===z.student_id))==null?void 0:J.name})}),e(X,{title:"G\u1EEDi th\xF4ng b\xE1o cho ph\u1EE5 huynh",children:e(R,{type:"link",onClick:()=>{F(!0),g(ne)},icon:e(Mt,{})})}),r.exports.get(_,"active",0)===0?e(X,{title:"Chuy\u1EC3n n\u1EE3",children:e(R,{disabled:z.status!==0,icon:e(hi,{style:{color:z.status===0?"#e67e22":"#bdc3c7"}}),type:"link",onClick:()=>P(z)})}):"",e(X,{title:"X\xE1c nh\u1EADn \u0111\xE3 n\u1ED9p",children:e(R,{disabled:z.status!==0,icon:e(pi,{style:{color:z.status===0?"#27ae60":"#bdc3c7"}}),type:"link",onClick:()=>N(z)})})]})})}}],B=G=>{const{children:M,extra:z}=G;return d("div",{className:"content",style:{display:"flex"},children:[e("div",{className:"main",children:M}),e("div",{className:"extra",children:z})]})};return e(re.Content,{children:d(Je,{onBack:()=>window.history.back(),className:"site-page-header-responsive",title:"Chi ti\u1EBFt chu k\u1EF3 h\u1ECDc ph\xED",style:{backgroundColor:"white"},extra:[d(Q,{children:[e(Ud,{periodTuition:_,students:s,feesPerStudent:m}),e(R,{type:"primary",icon:e(Mt,{}),onClick:()=>{F(!0),g(-1)},children:"Th\xF4ng b\xE1o"})]})],footer:d(je,{defaultActiveKey:"1",children:[d(Un,{tab:"H\u1ECDc ph\xED m\u1ED7i h\u1ECDc sinh",children:[e(He,{style:{marginBottom:20,marginTop:20},message:"",description:d(Q,{children:[e("p",{children:"V\u1EDBi h\u1ECDc sinh \u0111\xE3 chuy\u1EC3n l\u1EDBp, c\u1EA7n quy\u1EBFt to\xE1n h\u1ECDc ph\xED \u1EDF l\u1EDBp c\u0169 tr\u01B0\u1EDBc khi l\u1EADp b\u1EA3ng h\u1ECDc ph\xED \u1EDF l\u1EDBp m\u1EDBi!"}),e("p",{children:"Quy\u1EBFt to\xE1n b\u1EB1ng c\xE1ch c\u1EADp nh\u1EADt l\u1EA1i b\u1EA3ng h\u1ECDc ph\xED theo \u0111\xFAng s\u1ED1 bu\u1ED5i \u0111\xE3 h\u1ECDc \u1EDF l\u1EDBp c\u0169 (c\u1EADp nh\u1EADt gi\u1EA3m tr\u1EEB, ghi ch\xFA c\u1EE5 th\u1EC3...)"})]}),type:"warning",closable:!0}),e(le,{rowKey:"student_id",loading:b==="loading",bordered:!0,style:{paddingTop:20},dataSource:r.exports.get(_,"tuition_fees",[]),columns:K,pagination:{pageSize:50}})]},"stdTuition"),l.length>0?d(Un,{tab:d("span",{children:["H\u1ECDc sinh m\u1EDBi (",e("span",{style:{color:"#e74c3c"},children:l.length}),")"]}),children:[e(He,{style:{marginBottom:20,marginTop:20},message:"",description:"DS h\u1ECDc sinh m\u1EDBi l\xE0 nh\u1EEFng h\u1ECDc sinh v\xE0o l\u1EDBp sau chu k\u1EF3 thu h\u1ECDc ph\xED v\xE0 ch\u01B0a l\u1EADp b\u1EA3ng thu h\u1ECDc ph\xED cho chu k\u1EF3 n\xE0y!",type:"warning",closable:!0}),d(le,{dataSource:l,rowKey:"id",children:[e(zt,{title:"H\u1ECD t\xEAn",dataIndex:"name",render:G=>e("a",{children:G})},"name"),e(zt,{title:"Ng\xE0y sinh",dataIndex:"birthday",render:G=>e(Q,{children:I(G).format("DD/MM/YYYY")})},"birthday"),e(zt,{title:"Ng\xE0y nh\u1EADp h\u1ECDc",dataIndex:"",render:(G,M)=>e("strong",{children:I(M.class_histories[M.class_histories.length-1].date).format("DD/MM/YYYY")})},"admission_date"),e(zt,{title:"Aaction",dataIndex:"action",render:(G,M)=>e(V,{children:e(X,{title:"T\u1EA1o b\u1EA3ng h\u1ECDc ph\xED",children:e(R,{onClick:()=>{f(!0),c(M)},icon:e(ci,{}),type:"link"})})})},"action")]})]},"newSt"):"",e(Un,{tab:"Danh s\xE1ch bu\u1ED5i h\u1ECDc",children:e(le,{rowKey:"lesson_id",bordered:!0,style:{paddingTop:20},dataSource:r.exports.get(_,"lessons",[]),columns:Gd,pagination:{defaultPageSize:100}})},"lessionInfo")]}),children:[e(B,{extra:Z,children:H()}),e(Ld,{periodInfo:_,studentInfo:C,show:E,setShow:f}),e(Od,{tuitionIndex:x,periodTuitionInfo:_,show:y,setShow:F,students:s})]})})}function Od(n){const{tuitionIndex:t,periodTuitionInfo:s,show:a,setShow:l,students:h}=n,S=q(),[A,m]=o.exports.useState(!1),[p,i]=o.exports.useState(""),u=w(F=>F.notificationReducer.addNotificationStatus);function y(){console.log("Send notification",t),l(!1);const F=[];if(t===-1)r.exports.get(s,"tuition_fees",[]).forEach(f=>{if(A){if(f.status!==1){const C=h.find(x=>x.id===f.student_id),c=r.exports.get(C,"parent.id",0);c>0&&F.push(c)}}else{const C=h.find(x=>x.id===f.student_id),c=r.exports.get(C,"parent.id",0);c>0&&F.push(c)}});else{const f=h.find(c=>c.id===r.exports.get(s,"tuition_fees",[])[t].student_id),C=r.exports.get(f,"parent.id",0);C>0&&F.push(C)}const E={user_ids:F,message:{title:"Th\xF4ng b\xE1o h\u1ECDc ph\xED",body:p,data:{uri:cn.TUITION_FEE}}};S(Pt(E)).finally(()=>{l(!1)})}return e(Q,{children:d(se,{title:"G\u1EEDi th\xF4ng b\xE1o cho ph\u1EE5 huynh!",visible:a,onCancel:()=>l(!1),onOk:y,footer:[e(R,{onClick:()=>l(!1),children:"Hu\u1EF7 b\u1ECF"},"btncancel"),e(R,{type:"primary",onClick:()=>y(),loading:u==="loading",children:"G\u1EEDi \u0111i"},"btnsubmit")],children:[e(U.TextArea,{placeholder:"Write something here!",style:{marginBottom:20},value:p,onChange:F=>i(F.target.value)}),t===-1?e(ce,{onChange:F=>m(F.target.checked),children:"Ch\u1EC9 nh\u1EEFng h\u1ECDc sinh ch\u01B0a n\u1ED9p"}):""]})})}const{confirm:Hn}=se,{Panel:jd}=dn;function Hd(){const n=q(),t=Se(),[s,a]=o.exports.useState(!1),[l,h]=o.exports.useState(-1),S=w(E=>E.salariesReducer.salaries),A=w(E=>E.salariesReducer.getSalaries),m=w(E=>E.salariesReducer.updateSalaryStatus),p=w(E=>E.salariesReducer.deleteSalaryStatus);o.exports.useEffect(()=>{n(xt({}))},[n]),o.exports.useEffect(()=>{(m==="success"||p==="success")&&n(xt({}))},[m,p]);function i(E){a(!0),h(E)}function u(E){Hn({title:"B\u1EA1n mu\u1ED1n xo\xE1 b\u1EA3ng l\u01B0\u01A1ng n\xE0y!",icon:e(Re,{}),cancelText:"Hu\u1EF7 b\u1ECF",onOk(){n(Gs(E.id))}})}function y(E){Hn({title:"X\xE1c nh\u1EADn \u0111\xE3 thanh to\xE1n l\u01B0\u01A1ng?",content:"L\u01B0u \xFD khi \u0111\xE3 x\xE1c nh\u1EADn thanh to\xE1n th\xEC kh\xF4ng th\u1EC3 s\u1EEDa b\u1EA3ng l\u01B0\u01A1ng \u0111\u01B0\u1EE3c n\u1EEFa!",cancelText:"Hu\u1EF7 b\u1ECF",icon:e(Re,{}),onOk(){n(Us(E.id))}})}const F=[{title:"H\u1ECD t\xEAn",dataIndex:"user",key:"name",render:function(f){return e("a",{children:f.profile.name})}},{title:"Ng\xE0y t\u1EA1o",dataIndex:"created_at",key:"date"},{title:"Lo\u1EA1i",dataIndex:"type",key:"type",render:function(f){return e("span",{style:{color:"#c0392b"},children:f===0?"Sale":f===1?"Gi\xE1o vi\xEAn (2)":"Gi\xE1o vi\xEAn"})}},{title:"T\u1ED5ng",dataIndex:"amount",key:"amount",render:function(f,C){return e("strong",{style:{color:"#2980b9"},children:W(+C.basic_salary+ +C.bonus+ +C.revenue_salary-+C.fines).format("0,0")})}},{title:"Tr\u1EA1ng th\xE1i",dataIndex:"status",key:"status",render:function(f){return e("span",{style:{color:"#c0392b"},children:f===0?e(te,{color:"red",children:"Ch\u01B0a thanh to\xE1n"}):e(te,{color:"green",children:"\u0110\xE3 thanh to\xE1n"})})}},{title:"Actions",dataIndex:"actions",key:"actions",render:function(f,C,c){return d(Q,{children:[d(X,{title:"Xem chi ti\u1EBFt",children:[" ",e(R,{onClick:()=>i(c),type:"link",icon:e(Ei,{})})]}),e(X,{title:"\u0110\xE3 thanh to\xE1n",children:e(R,{disabled:Number(C.status)===1,type:"link",icon:e(mi,{style:{color:C.status===0?"#27ae60":"#bdc3c7"}}),onClick:()=>y(C)})}),e(X,{title:"Xo\xE1 b\u1EA3ng l\u01B0\u01A1ng",children:e(R,{disabled:C.status===1,type:"link",danger:!0,icon:e(Ut,{}),onClick:()=>u(C)})})]})}}];return d(re.Content,{children:[d(V,{style:{marginBottom:30},children:[e(U.Search,{}),e(R,{type:"primary",icon:e(Ae,{}),onClick:()=>t.push("/salaries-create"),children:"L\u1EADp b\u1EA3ng l\u01B0\u01A1ng"})]}),e(le,{dataSource:r.exports.get(S,"data",[]),columns:F,loading:A=="loading"}),e(zd,{salaryInfo:r.exports.get(S,"data",[])[l],show:s,setShow:a})]})}function zd(n){const{salaryInfo:t,show:s,setShow:a}=n,l=q(),[h,S]=o.exports.useState(0),[A,m]=o.exports.useState(!1),[p,i]=o.exports.useState({bonus:"",fines:"",note:""}),u=w(c=>c.revenuesReducer.revenues),y=w(c=>c.revenuesReducer.getRevenuesStatus),F=w(c=>c.lessonReducer.lessons),E=w(c=>c.lessonReducer.getLessonsState),f=w(c=>c.salariesReducer.updateSalaryStatus);o.exports.useEffect(()=>{t&&i({bonus:r.exports.get(t,"bonus","0,0"),fines:r.exports.get(t,"fines","0,0"),note:r.exports.get(t,"note","")})},[t]),o.exports.useEffect(()=>{s==!0&&(t.status===0||t.type==null?(console.log(t.user.name),l(tt({employee_id:t.employee_id,from_date:I(t.from_date).format("YYYY-MM-DD"),to_date:I(t.to_date).format("YYYY-MM-DD")})),S(parseFloat(t.basic_salary)+parseFloat(t.revenue_salary)+parseFloat(t.bonus)-parseFloat(t.fines))):t.type===1&&(l(Ne({employee_id:t.employee_id,from_date:I(t.from_date).format("YYYY-MM-DD"),to_date:I(t.to_date).format("YYYY-MM-DD")})),S(parseFloat(t.revenue_salary)+parseFloat(t.bonus)-parseFloat(t.fines))))},[t,l,s]);function C(){Hn({title:"X\xE1c nh\u1EADn s\u1EEDa b\u1EA3ng l\u01B0\u01A1ng?",icon:e(Re,{}),onOk(){l(Ms({sID:t.id,data:p})).finally(()=>{f==="success"&&(m(!1),l(xt({})))})}})}return e(Q,{children:t&&d(se,{visible:s,onCancel:()=>{a(!1),m(!1)},width:1e3,footer:[e(R,{type:r.exports.get(t,"status",0)===1?"primary":"default",children:"In b\u1EA3ng l\u01B0\u01A1ng"},"print"),A===!1&&r.exports.get(t,"status",0)===0?e(R,{type:"primary",onClick:()=>m(!0),children:"S\u1EEDa b\u1EA3ng l\u01B0\u01A1ng"},"edit"):"",A===!0?e(R,{type:"primary",onClick:()=>C(),children:"L\u01B0u l\u1EA1i"},"submit"):""],children:[d(j,{title:"Chi ti\u1EBFt b\u1EA3ng l\u01B0\u01A1ng",bordered:!0,column:{xxl:3,xl:2,lg:2,md:2,sm:2,xs:1},style:{marginBottom:20},children:[e(j.Item,{span:3,label:"Nh\xE2n vi\xEAn",children:e("strong",{children:r.exports.get(t,"user.profile.name","")})}),e(j.Item,{span:2,label:"Ng\xE0y t\u1EA1o",children:I(r.exports.get(t,"created_at","")).format("YYYY-MM-DD")}),d(j.Item,{span:2,label:"Chu k\u1EF3",children:[I(r.exports.get(t,"from_date","")).format("YYYY-MM-DD")," - ",I(t.to_date).format("YYYY-MM-DD")," "]}),e(j.Item,{label:"C\u01A1 b\u1EA3n",children:e("strong",{children:W(r.exports.get(t,"basic_salary","")).format("0,0")})}),e(j.Item,{label:"Doanh thu",children:e("strong",{children:W(r.exports.get(t,"revenue_salary","")).format("0,0")})}),e(j.Item,{label:"Th\u01B0\u1EDFng",children:A===!0?e(pe,{value:p.bonus,style:{width:"90%",color:"#16a085"},formatter:c=>W(c).format("0,0"),onChange:c=>{p.bonus=c,i(ie({},p))}}):e("strong",{children:W(t.bonus).format("0,0")})}),e(j.Item,{label:"Ph\u1EA1t",children:A===!0?e(pe,{value:p.fines,style:{width:"90%",color:"#e74c3c"},formatter:c=>W(c).format("0,0"),onChange:c=>{p.fines=c,i(ie({},p))}}):e("strong",{children:W(t.fines).format("0,0")})}),e(j.Item,{span:3,label:"T\u1ED5ng",children:e("strong",{style:{color:"#2980b9"},children:W(h).format("0,0")})}),e(j.Item,{span:3,label:"Tr\u1EA1ng th\xE1i",children:e("strong",{children:t.status===0?e(te,{color:"volcano",children:"Ch\u01B0a thanh to\xE1n"}):e(te,{color:"green",children:"\u0110\xE3 thanh to\xE1n"})})}),e(j.Item,{label:"Ghi ch\xFA",children:A===!0?e(U.TextArea,{value:p.note,style:{width:"75%"},onChange:c=>{p.note=c.target.value,i(ie({},p))}}):t.note})]}),e(dn,{accordion:!0,children:e(jd,{header:"Chi ti\u1EBFt doanh thu",children:t.type==0&&u?e(ue,{rowKey:"id",itemLayout:"horizontal",loading:y==="loading",dataSource:u&&r.exports.get(u,"data",[]),renderItem:c=>d(ue.Item,{children:[e(ue.Item.Meta,{title:e("a",{href:"#",children:c.created_at}),description:c.note}),e("div",{style:{color:"#2980b9"},children:W(c.amount).format("0,0")})]})}):t.type===1&&F?e(ue,{rowKey:"id",itemLayout:"horizontal",loading:E==="loading",dataSource:r.exports.get(F,"data",[]),renderItem:c=>d(ue.Item,{children:[e(ue.Item.Meta,{title:e("a",{href:"#",children:c.tuition_period.class.name})}),e("div",{style:{color:"#2980b9"},children:c.date})]})}):""},"1")})]})})}const{Option:nt}=O,{Title:ya}=qn,{RangePicker:Kd}=ye,{TabPane:Ca}=je,{confirm:Vd}=se;function qd(){const n=q(),t=Se(),[s]=D.useForm(),[a,l]=o.exports.useState([I(new Date).startOf("month").format("YYYY-MM-DD"),I(new Date).endOf("month").format("YYYY-MM-DD")]),[h,S]=o.exports.useState(!0),[A,m]=o.exports.useState(0),[p,i]=o.exports.useState(0),[u,y]=o.exports.useState("none"),[F,E]=o.exports.useState([]),[f,C]=o.exports.useState(!1),c=w(B=>B.employeeReducer.employees),x=w(B=>B.employeeReducer.employeeInfo),g=w(B=>B.revenuesReducer.revenues),_=w(B=>B.salariesReducer.addSalaryStatus),b=w(B=>B.lessonReducer.lessons),T=w(B=>B.tuitionFeeReducer.tuitionFees);o.exports.useEffect(()=>{s.setFieldsValue({role:"none",employee_id:0,basic_salary:"0",revenue_salary:"0",revenue_salary_percent:"10",fines:"0",bonus:"0",note:""}),n(Fn()),n(to()),n(wn()),n(kn()),i(0),m(0)},[s,n]),o.exports.useEffect(()=>{x&&s.setFieldsValue({basic_salary:r.exports.get(x.employee_contract,"basic_salary","0")})},[x,s]),o.exports.useEffect(()=>{if(g&&u===ee.SALE){let B=0;r.exports.get(g,"data",[]).forEach(M=>{B+=Number(M.amount)}),m(B);const G=parseFloat(s.getFieldValue("revenue_salary_percent"));s.setFieldsValue({revenue_salary:G/100*B}),i(parseFloat(s.getFieldValue("basic_salary"))+G/100*B+parseFloat(s.getFieldValue("bonus"))-parseFloat(s.getFieldValue("fines")))}},[g,s,u]),o.exports.useEffect(()=>{if(r.exports.get(b,"data",[]).length>0){if(u===ee.TEACHER2){const B=r.exports.get(b,"data",[]).length;m(B),s.setFieldsValue({revenue_salary:parseFloat(s.getFieldValue("basic_salary"))*B}),i(parseFloat(s.getFieldValue("basic_salary"))*B+parseFloat(s.getFieldValue("bonus"))-parseFloat(s.getFieldValue("fines")))}else if(u===ee.TEACHER){const B=[];r.exports.get(b,"data",[]).forEach(M=>{const z=r.exports.findIndex(B,ne=>ne.id===M.tuition_period_id);z==-1?B.push({id:M.tuition_period_id,count:1}):B[z].count++});let G="";B.forEach(M=>{G===""?G=`${M.id}`:G+=`,${M.id}`}),G!=""&&(C(!0),n(Bs({period_tuition_ids:G,per_page:1e3})).then(()=>C(!1))),E(B)}}},[b,u,s,n]),o.exports.useEffect(()=>{_==="success"&&(Vd({title:"L\u01B0u b\u1EA3ng l\u01B0\u01A1ng th\xE0nh c\xF4ng!",icon:e(Ve,{}),content:"B\u1EA1n mu\u1ED1n chuy\u1EC3n \u0111\u1EBFn danh s\xE1ch b\u1EA3ng l\u01B0\u01A1ng",cancelText:"\u1EDE l\u1EA1i trang n\xE0y",onOk(){t.push("/salaries")},onCancel(){console.log("Cancel")}}),n(el()))},[_]);function v(B,G){l([G[0],G[1]])}function P(){if(s.getFieldValue("employee_id")>0&&u!="none")switch(C(!0),u){case ee.SALE:n(tt({employee_id:s.getFieldValue("employee_id"),from_date:a[0],to_date:a[1]})).then(()=>C(!1));break;case ee.TEACHER:n(Ne({employee_id:s.getFieldValue("employee_id"),from_date:a[0],to_date:a[1]})).then(()=>C(!1));break;case ee.TEACHER2:n(Ne({employee_id:s.getFieldValue("employee_id"),from_date:a[0],to_date:a[1]})).then(()=>C(!1));break;case ee.EMPLOYEE:break}}function N(B){m(B);const G=s.getFieldValue("revenue_salary_percent"),M=s.getFieldValue("basic_salary"),z=s.getFieldValue("bonus"),ne=s.getFieldValue("fines"),J=+G*B/100;s.setFieldsValue({revenue_salary:J}),i(+M+ +z+J-+ne)}function H(B,G){if(G.employee_id>0){const M=parseFloat(G.revenue_salary),z=parseFloat(G.basic_salary),ne=parseFloat(G.bonus),J=parseFloat(G.fines);u===ee.SALE||u===ee.TEACHER?i(z+M+ne-J):u===ee.TEACHER2&&i(z*A+ne-J)}if(B.role){if(y(B.role),n(Fn()),n(wn()),n(kn()),m(0),i(0),s.setFieldsValue({employee_id:null}),B.role==="none")S(!0),s.setFieldsValue({role:"none",employee_id:0,basic_salary:"0",revenue_salary:"0",revenue_salary_percent:"0",bonus:"0",fines:"0",note:""});else{switch(B.role){case"teacher":s.setFieldsValue({revenue_salary_percent:"50"});break;case"teacher2":s.setFieldsValue({revenue_salary_percent:"100"});break;case"sale":s.setFieldsValue({revenue_salary_percent:"20"});break}n(Ie({role_name:B.role})),S(!1)}return}if(B.employee_id){n(Fn()),n(wn()),n(kn()),m(0),i(0),B.employee_id>0&&n(ss(B.employee_id));return}if(B.basic_salary){u===ee.TEACHER2&&s.setFieldsValue({revenue_salary:parseFloat(B.basic_salary)*r.exports.get(b,"data",[]).length});return}if(B.revenue_salary_percent){s.setFieldsValue({revenue_salary:parseFloat(B.revenue_salary_percent)/100*A});return}B.debt||!B.note}function Z(B){if(console.log(B),B.employee_id<=0)return;const G={employee_id:B.employee_id,basic_salary:B.basic_salary,revenue_salary:B.revenue_salary,debt:"",bonus:B.bonus,fines:B.fines,period_id:0,note:B.note,from_date:a[0],to_date:a[1],status:0,type:u===ee.SALE?0:u===ee.TEACHER2?1:2};n(Ns(G))}const K={pattern:/^-{0,1}\d*\.{0,1}\d+$/,message:"Value must be numeric"};return d(re.Content,{style:{padding:20},children:[e("div",{style:{marginBottom:20},children:e(ya,{level:3,children:" L\u1EADp b\u1EA3ng l\u01B0\u01A1ng "})}),e(Ke,{}),d(D,{form:s,name:"salary",style:{padding:20,marginBottom:20},layout:"vertical",onValuesChange:H,onFinish:Z,children:[e(D.Item,{label:"Nh\xE2n vi\xEAn",children:d(U.Group,{compact:!0,children:[e(D.Item,{name:"role",noStyle:!0,children:d(O,{placeholder:"V\u1ECB tr\xED",style:{width:240},children:[e(nt,{value:"none",children:"Ch\u1ECDn v\u1ECB tr\xED"}),e(nt,{value:ee.TEACHER,children:"Gi\xE1o vi\xEAn ch\xEDnh th\u1EE9c"}),e(nt,{value:ee.TEACHER2,children:"Gi\xE1o vi\xEAn h\u1EE3p \u0111\u1ED3ng"}),e(nt,{value:ee.SALE,children:"Nh\xE2n vi\xEAn sale"}),e(nt,{value:ee.EMPLOYEE,children:"Kh\xE1c"})]})}),e(D.Item,{name:"employee_id",noStyle:!0,rules:[{required:!0,message:"Street is required"}],children:d(O,{allowClear:!0,showSearch:!0,disabled:h,style:{width:500},placeholder:"Ch\u1ECDn nh\xE2n vi\xEAn",optionFilterProp:"children",children:[u==="none"?e(nt,{value:0,children:"--"},0):"",r.exports.get(c,"data",[]).map(B=>d(nt,{value:B.id,children:[e("a",{children:r.exports.get(B,"profile.name")})," (",B.phone,")"]},B.id))]})})]})}),e(D.Item,{label:"L\u01B0\u01A1ng doanh thu",children:d(U.Group,{compact:!0,children:[e(D.Item,{name:"revenue_salary_percent",style:{width:"8%"},children:e(U,{prefix:"%"})}),e(D.Item,{name:"revenue_salary",children:e(pe,{style:{width:"90%",color:"#16a085"},formatter:B=>W(B).format("0,0"),disabled:!0})})]})}),d(Ce,{children:[e(he,{span:6,children:e(D.Item,{label:"L\u01B0\u01A1ng c\u01A1 b\u1EA3n",name:"basic_salary",rules:[K],tooltip:"N\u1EBFu nh\xE2n vi\xEAn l\xE0 gi\xE1o vi\xEAn (2) th\xEC l\u01B0\u01A1ng c\u01A1 b\u1EA3n ch\xEDnh l\xE0 l\u01B0\u01A1ng/bu\u1ED5i d\u1EA1y",children:e(pe,{style:{width:"90%"},formatter:B=>W(B).format("0,0")})})}),e(he,{span:6,children:e(D.Item,{label:"L\u01B0\u01A1ng th\u01B0\u1EDFng",name:"bonus",rules:[K],children:e(pe,{style:{width:"90%",color:"#16a085"},formatter:B=>W(B).format("0,0")})})}),e(he,{span:6,children:e(D.Item,{label:"L\u01B0\u01A1ng tr\u1EEB",name:"fines",rules:[K],children:e(pe,{style:{width:"90%",color:"#c0392b"},formatter:B=>W(B).format("0,0")})})})]}),e(D.Item,{name:"note",label:"Ghi ch\xFA",children:e(U.TextArea,{style:{width:"75%"}})}),e(Ce,{children:e(he,{span:24,style:{textAlign:"left"},children:e(D.Item,{children:d(V,{children:[d("strong",{style:{marginRight:20},children:["T\u1ED5ng l\u01B0\u01A1ng: ",e("span",{style:{color:"#d35400"},children:W(p).format("0,0")})]}),e(R,{type:"primary",htmlType:"submit",icon:e(un,{}),loading:_=="loading",children:"L\u01B0u l\u1EA1i"})]})})})})]}),e(Ke,{}),d(Ce,{justify:"space-between",style:{marginBottom:20},children:[e(he,{children:d(ya,{level:4,children:[" B\u1EA3ng doanh thu (",e("span",{style:{color:"#27ae60"},children:W(A).format("0,0")}),") "]})}),d(he,{children:[e(Kd,{style:{marginRight:10},defaultValue:[I(new Date).startOf("month"),I(new Date).endOf("month")],onChange:v}),e(R,{type:"primary",onClick:P,children:"L\u1EA5y b\u1EA3ng doanh thu"})]})]}),u===ee.SALE?e(He,{closable:!0,style:{marginBottom:20},message:"V\u1EDBi nh\xE2n vi\xEAn sale, b\u1EA3ng doanh thu l\xE0 b\u1EA3ng doanh thu b\xE1n kho\xE1 h\u1ECDc trong kho\u1EA3ng th\u1EDDi gian t\xEDnh l\u01B0\u01A1ng",type:"warning"}):"",u===ee.TEACHER2?e(He,{closable:!0,style:{marginBottom:20},message:"V\u1EDBi nh\xE2n vi\xEAn l\xE0 gi\xE1o vi\xEAn l\u01B0\u01A1ng theo bu\u1ED5i, b\u1EA3ng doanh thu l\xE0 danh s\xE1ch c\xE1c bu\u1ED5i d\u1EA1y trong kho\u1EA3ng th\u1EDDi gian t\xEDnh l\u01B0\u01A1ng",type:"warning"}):"",u===ee.TEACHER?e(He,{closable:!0,style:{marginBottom:20},message:"V\u1EDBi nh\xE2n vi\xEAn l\xE0 gi\xE1o vi\xEAn l\u01B0\u01A1ng theo doanh thu h\u1ECDc ph\xED, b\u1EA3ng doanh thu l\xE0 danh s\u1ED1 bu\u1ED5i d\u1EA1y c\u1EE7a t\u1EEBng h\u1ECDc sinh trong kho\u1EA3ng th\u1EDDi gian t\xEDnh l\u01B0\u01A1ng",type:"warning"}):"",u===ee.SALE?e(ue,{rowKey:"id",itemLayout:"horizontal",loading:f,dataSource:r.exports.get(g,"data",[]),renderItem:B=>d(ue.Item,{children:[e(ue.Item.Meta,{title:e("a",{href:"#",children:B.created_at}),description:B.note}),e("div",{style:{color:"#2980b9"},children:W(B.amount).format("0,0")})]})}):u===ee.TEACHER2?e(ue,{rowKey:"id",itemLayout:"horizontal",loading:f,dataSource:r.exports.get(b,"data",[]),renderItem:B=>d(ue.Item,{children:[e(ue.Item.Meta,{title:e("a",{href:"#",children:B.tuition_period_id}),description:B.tuition_period_id}),e("div",{style:{color:"#2980b9"},children:B.date})]})}):e($d,{tuitionFeeList:r.exports.get(T,"data",[]),periodTuitionFeeList:F,lessons:r.exports.get(b,"data",[]),revenueLoading:f,handleChangeTeacherRevenue:N})]})}function $d(n){const{tuitionFeeList:t,periodTuitionFeeList:s,lessons:a,revenueLoading:l,handleChangeTeacherRevenue:h}=n,[S,A]=o.exports.useState([]),[m,p]=o.exports.useState([]);o.exports.useEffect(()=>{if(t){const u=[],y=[];let F=0;t.forEach(E=>{if(E.from_date==null){const x=s.find(g=>g.id===E.period_tuition_id);x?u[E.id]=x.count:u[E.id]=0}else{let x=0;a.forEach(g=>{I(g.date).isSameOrAfter(E.from_date)&&g.tuition_period_id===E.period_tuition_id&&x++}),u[E.id]=x}const f=r.exports.get(E,"period_tuition.fee_per_session",0),C=r.exports.get(E,"flexible_deduction","0");let c=0;E.est_session_num===0?c=f*+r.exports.get(E,"period_tuition.est_session_num",0):c=f*+r.exports.get(E,"est_session_num",0),y[E.id]=+C/c*(f*u[E.id]),F+=f*u[E.id]-y[E.id]}),A(u),p(y),h(F)}},[t,s,a,h]);const i=[{title:"H\u1ECDc sinh",dataIndex:"student",key:"student",render:function(y){return e("a",{children:y.name})}},{title:"S\u1ED1 bu\u1ED5i h\u1ECDc",key:"lesson_num",render:function(y,F){return e(Q,{children:S[F.id]})}},{title:"H\u1ECDc ph\xED/bu\u1ED5i",dataIndex:"period_tuition",key:"fee_per_session",render:function(y){return e(Q,{children:W(r.exports.get(y,"fee_per_session",0)).format("0,0")})}},{title:"Gi\u1EA3m tr\u1EEB",key:"reduction",render:function(y,F){return e("span",{style:{color:"#d35400"},children:W(m[F.id]).format("0,0")})}},{title:"Thu \u01B0\u1EDBc t\xEDnh",key:"amount",render:function(y,F){return e("strong",{style:{color:"#2980b9"},children:W(r.exports.get(F,"period_tuition.fee_per_session",0)*S[F.id]-m[F.id]).format("0,0")})}},{title:"Tr\u1EA1ng th\xE1i",dataIndex:"status",key:"status",render:function(y){return e("span",{children:y===0?e(te,{color:"red",children:"Ch\u01B0a n\u1ED9p"}):y===1?e(te,{color:"green",children:"\u0110\xE3 n\u1ED9p"}):e(te,{color:"orange",children:"Chuy\u1EC3n n\u1EE3"})})}}];return e(Ga.StrictMode,{children:d(je,{defaultActiveKey:"1",children:[e(Ca,{tab:"B\u1EA3ng h\u1ECDc ph\xED",children:e(le,{rowKey:"id",loading:l,columns:i,dataSource:t,pagination:{defaultPageSize:100}})},"1"),e(Ca,{tab:"DS bu\u1ED5i d\u1EA1y",children:e(ue,{rowKey:"id",itemLayout:"horizontal",loading:l,dataSource:a,renderItem:u=>d(ue.Item,{children:[e(ue.Item.Meta,{title:d("a",{href:"#",children:["L\u1EDBp: ",r.exports.get(u,"tuition_period.class.name","")]}),description:u.date}),d("div",{style:{color:"#2980b9"},children:["Chu k\u1EF3:",I(u.tuition_period.from_date).format("DD/MM/YYYY")," - ",I(u.tuition_period.to_date).format("DD/MM/YYYY")]})]})})},"2")]})})}const{Option:ct}=O,{RangePicker:Jd}=ye,{confirm:Xd}=se;function Wd(){const n=Se(),t=q(),[s,a]=o.exports.useState(""),[l,h]=o.exports.useState(""),[S,A]=o.exports.useState(0),[m,p]=o.exports.useState(0),[i,u]=o.exports.useState([]),[y,F]=o.exports.useState(!1),[E,f]=o.exports.useState(!1),[C,c]=o.exports.useState(""),[x,g]=o.exports.useState(0),[_,b]=o.exports.useState([]),[T,v]=o.exports.useState(!1),[P,N]=o.exports.useState([]),[H,Z]=o.exports.useState(!0),K=w($=>$.classReducer.classes),B=w($=>$.classReducer.classInfo),G=w($=>$.classReducer.getClassStatus),M=w($=>$.dayoffReducer.dayoffs),z=w($=>$.periodTuitionReducer.addPeriodTuitionStatus),ne=o.exports.useRef([]),J=o.exports.useRef([]),_e=o.exports.useRef([]);o.exports.useEffect(()=>{t(we({})),t(da()),t(_o())},[t]),o.exports.useEffect(()=>{if(B&&M){const $=[];let oe=[],me=[];if(r.exports.get(M,"data",[]).forEach(ae=>{$.push(ae.from_date)}),B.schedule.length>0){let ae=0;for(let fe=0;fe<B.schedule.length;fe++){const be=B.schedule[fe];oe=cr(s,l,be),ae+=oe.length,me=me.concat(hr(oe,$))}ae-=me.length,N(me),A(ae)}if(B.active_period_tuition){const ae=r.exports.get(B,"active_period_tuition.est_session_num")-r.exports.get(B,"active_period_tuition.lessons",[]).length;p(ae),I(B.active_period_tuition.to_date).isSameOrAfter(I(s))?Z(!1):Z(!0)}else p(0)}},[B,M,s,l]),o.exports.useEffect(()=>{if(B&&B.students){ne.current=[],J.current=[],_e.current=[];const $=[];B.students.forEach(oe=>{const me=r.exports.get(B,"active_period_tuition.fee_per_session",0);let ae=0,fe=0;if(B.active_period_tuition){const ke=r.exports.get(B.active_period_tuition,"tuition_fees",[]).find(Qt=>Qt.student_id===oe.id);if(ke)if(ke.from_date){let Qt=0;r.exports.get(B.active_period_tuition,"lessons",[]).forEach(Sr=>{I(Sr.date).isSameOrBefore(ke.from_date)&&Qt++}),ae=r.exports.get(ke,"est_session_num",0)-Qt,fe=100*+r.exports.get(ke,"flexible_deduction",0)/(r.exports.get(ke,"est_session_num",0)*me)}else fe=100*+r.exports.get(ke,"flexible_deduction",0)/(r.exports.get(B,"active_period_tuition.est_session_num",0)*me);else ae=-1}const be=ae===-1?0:ae===0?m*me-m*me*fe/100:ae*me-ae*me*fe/100;$.push({student_id:oe.id,fixed_deduction:"0",flexible_deduction:"0",residual:`${be}`,note:"",from_date:"",to_date:"",status:0,dayoffs:[]})}),u($),b(Array(B.students.length).fill(0))}},[B,m,S]),o.exports.useEffect(()=>{z==="success"&&(v(!1),Xd({title:"Chuy\u1EC3n t\u1EDBi b\u1EA3ng danh s\xE1ch chu k\u1EF3 h\u1ECDc ph\xED!",icon:e(Ve,{}),onOk(){n.push("/payments/tuition")}}))},[z]);function _t($){return S*r.exports.get(B,"fee_per_session",0)-parseFloat(r.exports.get(i[$],"residual","0"))-parseFloat(r.exports.get(i[$],"flexible_deduction","0"))-parseFloat(r.exports.get(i[$],"fixed_deduction","0"))+parseFloat(r.exports.get(i[$],"debt","0"))}function kt($,oe){a(oe[0]),h(oe[1]),r.exports.get(B,"active_period_tuition.to_date","")!=""&&I(r.exports.get(B,"active_period_tuition.to_date","")).isSameOrAfter(I(oe[0]))?Z(!1):Z(!0),t(st({from_date:oe[0],to_date:oe[1]}))}function dt($){A(0),p(0),f(!1),$>0?t(Et({class_id:$,params:{active_periodinfo:!0,students:!0}})):t(da())}function ut($){f($),F($)}function wt(){J.current.forEach(($,oe)=>{$.state.value=C;let me=0;$.state.value===""?me=0:me=parseInt($.state.value);const ae=x==0?S*r.exports.get(B,"fee_per_session",0)*me/100:me;i[oe].flexible_deduction=String(ae)}),u([...i]),_.forEach(($,oe)=>_[oe]=x),ut(!1),f(!0),c(""),b([..._])}function xr($,oe){const me=r.exports.get(B,"fee_per_session",0);let ae=0;$.target.value===""?ae=0:ae=parseInt($.target.value);const fe=_[oe]===0?S*me*ae/100:ae;i[oe].flexible_deduction=String(fe),u([...i])}function yr($,oe){i[oe].fixed_deduction=String($),u([...i])}function Xn($){if(B){const oe={class_id:B.id,est_session_num:S,fee_per_session:B.fee_per_session,from_date:s,to_date:l,tuition_fees:i,draft:$,dayoffs:P};t(ks(oe))}}const Cr=[{title:"H\u1ECD t\xEAn",dataIndex:"name",key:"name",width:180,fixed:!0,render:function(oe){return e("a",{children:oe})}},{title:d(Q,{children:["H\u1ECDc ph\xED"," ",e(X,{title:"H\u1ECDc ph\xED \u01B0\u1EDBc t\xEDnh c\u1EE7a k\u1EF3 n\xE0y",children:e(ht,{style:{color:"#f39c12"}})})]}),dataIndex:"tuition",key:"tuition",width:160,render:function(){return e("span",{children:W(S*r.exports.get(B,"fee_per_session",0)).format("0,0")})}},{title:d(Q,{children:["D\u01B0 k\u1EF3 tr\u01B0\u1EDBc"," ",e(X,{title:"S\u1ED1 bu\u1ED5i d\u01B0 k\u1EF3 tr\u01B0\u1EDBc b\u1EB1ng s\u1ED1 bu\u1ED5i \u01B0\u1EDBc t\xEDnh k\u1EF3 tr\u01B0\u1EDBc tr\u1EEB \u0111i s\u1ED1 bu\u1ED5i h\u1ECDc th\u1EF1c t\u1EBF",children:e(ht,{style:{color:"#f39c12"}})})]}),key:"residual",width:160,render:function(oe,me,ae){var fe;return e(Q,{children:e("span",{style:{color:"#e74c3c"},children:W((fe=i[ae])==null?void 0:fe.residual).format("0,0")})})}},{title:"Gi\u1EA3m tr\u1EEB \u0111\u1EB7c bi\u1EC7t",key:"fixed_deduction",width:200,render:function(oe,me,ae){var fe;return e(Q,{children:e(pe,{defaultValue:(fe=i[ae])==null?void 0:fe.fixed_deduction,formatter:be=>W(be).format("0,0"),ref:be=>ne.current[ae]=be,style:{width:"90%",color:"#c0392b"},onChange:be=>yr(be,ae)})})}},{title:d(Q,{children:["Gi\u1EA3m tr\u1EEB"," ",e(X,{title:"Gi\u1EA3m tr\u1EEB h\u1ECDc ph\xED tu\u1EF3 ch\u1EC9nh theo \u0111\u1EE3t",children:e(ht,{style:{color:"#f39c12"}})}),e(ce,{checked:E,onChange:$=>ut($.target.checked),children:e("span",{style:{fontSize:12,color:"#7f8c8d"},children:"\xC1p d\u1EE5ng t\u1EA5t c\u1EA3"})}),e(se,{title:"\u0110i\u1EC3n gi\u1EA3m tr\u1EEB theo \u0111\u1EE3t cho t\u1EA5t c\u1EA3 h\u1ECDc sinh",visible:y,onOk:wt,onCancel:()=>{F(!1),ut(!1)},children:e(U,{placeholder:"S\u1ED1 ti\u1EC1n gi\u1EA3m tr\u1EEB",value:C,onChange:$=>c($.target.value),addonBefore:d(O,{value:x,style:{width:60},onChange:$=>g($),children:[e(ct,{value:0,children:"%"},0),e(ct,{value:1,children:"0.0"},1)]})})})]}),dataIndex:"tuition",key:"deduction",width:180,render:function(oe,me,ae){var fe,be;return e(Q,{children:e(U,{defaultValue:(fe=i[ae])==null?void 0:fe.flexible_deduction,ref:ke=>J.current[ae]=ke,onChange:ke=>xr(ke,ae),addonBefore:d(O,{value:(be=_[ae])!=null?be:0,style:{width:65},onChange:ke=>{_[ae]=ke,b([..._])},children:[e(ct,{value:0,children:"%"},0),e(ct,{value:1,children:"0.0"},1)]})})})}},{title:"Th\xE0nh ti\u1EC1n",key:"residual",width:160,fixed:!0,render:function(oe,me,ae){return e(Q,{children:e("strong",{style:{color:"#2980b9"},children:W(_t(ae)).format("0,0")})})}},{title:"Ghi ch\xFA",key:"note",width:180,fixed:!0,render:function(oe,me,ae){var fe;return e(Q,{children:e(U.TextArea,{defaultValue:(fe=i[ae])==null?void 0:fe.note,ref:be=>_e.current[ae]=be})})}}];return d(re.Content,{children:[d(Je,{className:"site-page-header",onBack:()=>n.push("/payments/tuition"),title:"L\u1EADp b\u1EA3ng h\u1ECDc ph\xED",subTitle:r.exports.get(B,"name"),style:{backgroundColor:"white"},extra:[e(R,{icon:e(Ra,{}),onClick:()=>Xn(!0),disabled:!H,children:"L\u01B0u nh\xE1p"},"2"),d(Q,{children:[e(R,{type:"primary",icon:e(Ve,{}),onClick:()=>v(!0),disabled:!H,children:"Ho\xE0n t\u1EA5t"},"1"),e(se,{visible:T,title:"L\u01B0u b\u1EA3ng h\u1ECDc ph\xED",footer:[e(R,{onClick:()=>v(!1),children:"Hu\u1EF7 b\u1ECF"},"back"),e(R,{type:"primary",loading:z==="loading",onClick:()=>Xn(!1),children:"Ok"},"submit")],children:"Th\xF4ng tin chu k\u1EF3 h\u1ECDc ph\xED v\xE0 danh s\xE1ch h\u1ECDc ph\xED c\u1EE7a t\u1EA5t c\u1EA3 h\u1ECDc sinh s\u1EBD \u0111\u01B0\u1EE3c l\u01B0u v\xE0o h\u1EC7 th\u1ED1ng!"})]})],children:[d(j,{size:"default",column:2,layout:"horizontal",bordered:!0,children:[e(j.Item,{label:"L\u1EDBp h\u1ECDc",children:d(O,{defaultValue:0,style:{width:280},onChange:dt,children:[e(ct,{value:0,children:"Ch\u1ECDn l\u1EDBp h\u1ECDc..."},0),r.exports.get(K,"data",[]).map($=>e(ct,{value:$.id,children:$.name},$.id))]})}),e(j.Item,{label:"H\u1ECDc ph\xED/bu\u1ED5i",children:e("strong",{children:W(r.exports.get(B,"fee_per_session",0)).format("0,0")})}),e(j.Item,{label:"Chu k\u1EF3",children:e(Jd,{ranges:{"1 Th\xE1ng":[I().startOf("month"),I().endOf("month")],"2 Th\xE1ng":[I().startOf("month"),I().add(1,"month").endOf("month")],"3 Th\xE1ng":[I().startOf("month"),I().add(2,"months").endOf("month")]},onChange:kt})}),e(j.Item,{label:d(Q,{children:["S\u1ED1 bu\u1ED5i \u01B0\u1EDBc t\xEDnh"," ",e(X,{title:"S\u1ED1 bu\u1ED5i h\u1ECDc ph\xED \u01B0\u1EDBc t\xEDnh d\u1EF1a theo l\u1ECBch h\u1ECDc c\u1EE7a l\u1EDBp v\xE0 kho\u1EA3ng th\u1EDDi gian c\u1EE7a chu k\u1EF3 h\u1ECDc ph\xED, kh\xF4ng bao g\u1ED3m ng\xE0y ngh\u1EC9 l\u1EC5",children:e(ht,{style:{color:"#f39c12"}})})]}),children:e("strong",{children:S})}),d(j.Item,{label:"H\u1ECDc ph\xED \u01B0\u1EDBc t\xEDnh",children:[e("strong",{children:W(r.exports.get(B,"fee_per_session",0)*(S-m)).format("0,0")}),S>0||m>0?d("span",{children:[" (",S-m," bu\u1ED5i)"]}):""]}),e(j.Item,{label:d(Q,{children:["S\u1ED1 bu\u1ED5i d\u01B0 k\u1EF3 tr\u01B0\u1EDBc"," ",e(X,{title:"D\u1EF1a tr\xEAn s\u1ED1 bu\u1ED5i h\u1ECDc \u01B0\u1EDBc t\xEDnh v\xE0 s\u1ED1 bu\u1ED5i h\u1ECDc th\u1EF1c t\u1EBF c\u1EE7a k\u1EF3 tr\u01B0\u1EDBc",children:e(ht,{style:{color:"#f39c12"}})})]}),children:e("strong",{style:{color:"#e74c3c"},children:m})})]}),H===!1?e(He,{style:{marginTop:20},message:"Sai kho\u1EA3ng th\u1EDDi gian t\xEDnh h\u1ECDc ph\xED",description:`Ng\xE0y b\u1EAFt \u0111\u1EA7u t\xEDnh h\u1ECDc ph\xED ph\u1EA3i sau ng\xE0y ${r.exports.get(B,"active_period_tuition.to_date","")}`,type:"error"}):""]}),e("strong",{style:{marginTop:40,padding:20},children:"H\u1ECDc ph\xED m\u1ED7i h\u1ECDc sinh"}),e(le,{rowKey:"id",bordered:!0,style:{padding:20},dataSource:r.exports.get(B,"students",[]),columns:Cr,loading:G==="loading",pagination:{defaultPageSize:100}})]})}const{Option:Sa}=O,{RangePicker:Zd}=ye;function gr(n){const{classList:t,class_id:s}=n,a=q(),[l,h]=o.exports.useState(!1),[S,A]=o.exports.useState(!1);function m(p){if(p.dateRange==null)return;const i={class_id:s===0?p.class_id:s,from_date:I(p.dateRange[0]).format("YYYY-MM-DD"),to_date:I(p.dateRange[1]).format("YYYY-MM-DD")};console.log(i),A(!0),a(Hs(i)).finally(()=>{h(!1),A(!1),a(Qe({}))})}return d(Q,{children:[e(R,{type:"primary",icon:e(Ae,{}),onClick:()=>h(!0),children:"L\u1EADp b\u1EA3ng t\u1ED5ng k\u1EBFt"}),e(se,{title:"L\u1EADp b\u1EA3ng t\u1ED5ng k\u1EBFt",visible:l,onCancel:()=>h(!1),width:800,footer:[e(R,{type:"default",onClick:()=>h(!1),children:"Hu\u1EF7 b\u1ECF"},"btnCancel"),e(R,{type:"primary",htmlType:"submit",form:"stcreateFrom",loading:S,children:"L\u01B0 l\u1EA1i"},"btnSubmit")],children:d(D,{id:"stcreateFrom",labelCol:{span:5},wrapperCol:{span:13},layout:"horizontal",onFinish:m,children:[s===0&&e(D.Item,{label:"Ch\u1ECDn l\u1EDBp",name:"class_id",required:!0,children:d(O,{defaultValue:0,style:{width:260},children:[e(Sa,{value:0,children:"T\u1EA5t c\u1EA3"}),t&&t.map(p=>d(Sa,{value:p.id,children:[" ",p.name]},p.id))]})}),e(D.Item,{label:"Kho\u1EA3ng th\u1EDDi gian",name:"dateRange",required:!0,children:e(Zd,{})})]})})]})}const{confirm:eu}=se,{Option:Aa}=O;function fr(n){const{class_id:t}=n,s=Se(),a=q(),l=w(i=>i.classReducer.classes),h=w(i=>i.studySummaryReducer.studySummaryList),S=w(i=>i.studySummaryReducer.getStudySummaryListState);o.exports.useEffect(()=>{t?a(Qe({class_id:t})):(a(Qe({})),a(we({})))},[a,t]);function A(i){i>0?a(Qe({class_id:i})):a(Qe({}))}function m(i){console.log(i)}function p(i){eu({title:"B\u1EA1n mu\u1ED1n xo\xE1 b\u1EA3ng t\u1ED5ng k\u1EBFt n\xE0y!",icon:e(Ve,{}),onOk(){a(zs(i)).finally(()=>{a(Qe({}))})},onCancel(){console.log("Cancel")}})}return d(re.Content,{children:[!t&&d(V,{style:{marginBottom:20,marginTop:20},children:[e(ye,{style:{width:200},placeholder:"L\u1ECDc theo qu\xFD",onChange:m,picker:"quarter"}),d(O,{defaultValue:0,style:{width:280},onChange:A,children:[e(Aa,{value:0,children:"T\u1EA5t c\u1EA3"}),r.exports.get(l,"data",[]).map(i=>d(Aa,{value:i.id,children:[" ",i.name]},i.id))]}),e(gr,{classList:r.exports.get(l,"data",[]),class_id:0})]}),e(ue,{itemLayout:"horizontal",dataSource:r.exports.get(h,"data",[]),loading:S==="loading",renderItem:i=>e(ue.Item,{actions:[e(R,{type:"link",onClick:()=>s.push({pathname:`/study-summary-detail/${i.id}`,state:{summaryInfo:i}}),children:"Chi ti\u1EBFt"},"list-loadmore-edit"),e(R,{danger:!0,type:"link",onClick:()=>p(i.id),children:"Xo\xE1"},"list-loadmore-edit")],children:e(ue.Item.Meta,{title:e("a",{onClick:()=>s.push({pathname:`/study-summary-detail/${i.id}`,state:{summaryInfo:i}}),children:`${I(i.from_date).format("DD/MM/YYYY")} - ${I(i.to_date).format("DD/MM/YYYY")}`}),description:r.exports.get(i,"class.name","")})})})]})}const{Title:tu}=qn;function su(){const n=zn(),t=q(),s=Se(),a=r.exports.get(n,"state.summaryInfo",null),[l,h]=o.exports.useState([]),S=w(F=>F.testReducer.testes),A=w(F=>F.lessonReducer.lessons),m=w(F=>F.studentReducer.students),p=w(F=>F.lessonReducer.getLessonsState),i=w(F=>F.testReducer.getTestesStatus),u=w(F=>F.studentReducer.getStudentsStatus);o.exports.useEffect(()=>{a&&(t(Fe({class_id:a.class_id})),t(at({class_id:a.class_id,from_date:a.from_date,to_date:a.to_date,lesson_id:null})),t(Ne({class_id:a.class_id,from_date:a.from_date,to_date:a.to_date})))},[t,a]),o.exports.useEffect(()=>{if(m&&A&&S){const F=[];r.exports.get(m,"data",[]).forEach(E=>{var g,_;let f=10,C=0,c=0;const x=[];(g=A.data)==null||g.forEach(b=>{const T=[];b.tests.forEach(P=>{const N=P.test_results.find(H=>H.student_id===E.id);N&&+N.point>0&&(T.push(+N.point),C+=+N.point,c++)});const v=b.attendances.find(P=>P.student_id===E.id);v&&(f+=+v.conduct_point),x.push({date:b.date,conduct_point:+r.exports.get(v,"conduct_point","0"),test_points:T})}),(_=S.data)==null||_.forEach(b=>{if(b.lesson_id===null){const T=b.test_results.find(v=>v.student_id===E.id);T&&+T.point>0&&(C+=+T.point,c++),x.push({date:b.date,conduct_point:0,test_points:[+r.exports.get(T,"point","0")]})}}),x.sort((b,T)=>I(b.date).diff(I(T.date))),F.push({student:E.name,summaries:x,total_conduct_point:f,test_point_avg:C>0?Math.floor(C/c*100)/100:0})}),h(F)}},[m,A,S]);let y=[{title:"H\u1ECDc sinh",dataIndex:"student",key:"student",width:200,fixed:"left",render:function(E){return e("strong",{children:E})}}];return l.length>0&&l[0].summaries.forEach((F,E)=>{y.push({title:`${I(F.date).format("DD/MM/YY")}`,dataIndex:"",key:`${E}`,with:80,render:function(C,c){return d("div",{style:{textAlign:"center"},children:[e("span",{style:{color:"#e67e22",height:28},children:c.summaries[E].conduct_point>0?c.summaries[E].conduct_point:"-"})," "," | "," ",e("span",{style:{color:"#3498db"},children:c.summaries[E].test_points.length>0?c.summaries[E].test_points.map((x,g)=>e("span",{children:`${x} ${g<F.test_points.length-1?", ":""}`})):"-"})]})}})}),y=y.concat([{title:"T\u1ED5ng HK",dataIndex:"total_conduct_point",key:"total_conduct_point",width:80,fixed:"right",render:function(E){return e("strong",{style:{color:"#e67e22"},children:E})}},{title:"\u0110i\u1EC3m BT",dataIndex:"test_point_avg",key:"test_point_avg",width:80,fixed:"right",render:function(E){return e("strong",{style:{color:"#3498db"},children:E})}},{title:"\u0110i\u1EC3m TK",dataIndex:"tk",key:"tl",width:80,fixed:"right",render:function(E,f){return e("strong",{style:{color:"#27ae60"},children:f.test_point_avg>0?Math.floor((f.total_conduct_point+f.test_point_avg*3)/4*100)/100:f.total_conduct_point})}}]),d(re.Content,{children:[e(Je,{className:"site-page-header-responsive",onBack:()=>s.goBack(),title:"Chi ti\u1EBFt b\u1EA3ng t\u1ED5ng k\u1EBFt",extra:e(nu,{summaryInfo:a})}),d("div",{style:{paddingLeft:20},children:[d(j,{bordered:!0,children:[e(j.Item,{label:"L\u1EDBp",children:e("a",{children:r.exports.get(a,"class.name","")})}),e(j.Item,{label:"S\u1ED1 h\u1ECDc sinh",children:r.exports.get(a,"class.students_num",0)}),e(j.Item,{span:3,label:"Kho\u1EA3ng th\u1EDDi gian",children:d("strong",{children:[I(r.exports.get(a,"from_date","")).format("DD/MM/YYYY")," - ",I(r.exports.get(a,"to_date","")).format("DD/MM/YYYY")]})}),e(j.Item,{span:3,label:"Ghi ch\xFA",children:"\u0110i\u1EC3m t\u1ED5ng k\u1EBFt = (\u0111i\u1EC3m trung b\xECnh b\xE0i t\u1EADp * 3 + \u0111i\u1EC3m h\u1EA1nh ki\u1EC3m) / 4"})]}),e(tu,{level:4,style:{marginTop:20,marginBottom:20},children:"B\u1EA3ng t\u1ED5ng k\u1EBFt"}),e(le,{rowKey:"id",loading:i==="loading"||p==="loading"||u==="loading",bordered:!0,columns:y,dataSource:l,pagination:{defaultPageSize:100},scroll:{x:"calc(700px + 50%)"}})]})]})}function nu(n){const{summaryInfo:t}=n,s=q(),[a,l]=o.exports.useState(!1),h=w(m=>m.studySummaryReducer.studentGifts),S=w(m=>m.studySummaryReducer.getStudyGiftsState);return o.exports.useEffect(()=>{t&&s(js({study_summary_board_id:t.id}))},[s,t]),d(Q,{children:[e(R,{icon:e(pt,{}),type:"primary",onClick:()=>l(!0),children:"DS ch\u1ECDn qu\xE0 t\u1EB7ng"}),e(Te,{visible:a,width:1e3,title:"Danh s\xE1ch ch\u1ECDn qu\xE0 t\u1EB7ng",onCancel:()=>l(!1),onOk:()=>l(!1),children:e(le,{columns:[{title:"H\u1ECDc sinh",key:"student",dataIndex:"",render:function(p,i){return e("strong",{children:r.exports.get(i,"student.name","")})}},{title:"Qu\xE0 ch\u1ECDn",key:"gift",dataIndex:"",render:function(p,i){return d(V,{children:[e(Me,{width:60,src:r.exports.get(i,"gift.photo.url","error"),style:{marginRight:10}}),e("span",{children:r.exports.get(i,"gift.name","")})]})}},{title:"\u0110i\u1EC3m \u0111i\u1EC1u ki\u1EC7n",key:"condition_point",dataIndex:"",render:function(p,i){return e("strong",{style:{color:"#109444"},children:r.exports.get(i,"gift.condition_point","")})}},{title:"Tr\u1EA1ng th\xE1i",key:"status",dataIndex:"status",render:function(p){return e(te,{color:p===1?"green":"red",children:p===1?"\u0110\xE3 nh\u1EADn":"Ch\u01B0a nh\u1EADn"})}}],dataSource:r.exports.get(h,"data",[]),loading:S==="loading"})})]})}function au(){const n=Se(),t=q(),s=lt(),[a,l]=o.exports.useState([]),[h,S]=o.exports.useState([]),[A,m]=o.exports.useState(!1),p=w(f=>f.permissionReducer.permissions),i=w(f=>f.roleReducer.roleInfo),u=w(f=>f.roleReducer.statusGetRoleInfo);o.exports.useEffect(()=>{t(At({})),t(vt(+s.role_id))},[t,s]),o.exports.useEffect(()=>{if(r.exports.get(i,"id",0)===+s.role_id){let f="";const C=[],c=[];p&&p.forEach(x=>{const g=r.exports.get(i,"permissions",[]).findIndex(T=>T.name===x.name)>=0,_=x.name.split("."),b=_[1]!="store"&&_[1]!="update"&&_[1]!="show"&&_[1]!="index"&&_[1]!="destroy";if(f===""||f!=_[0])f=_[0],C.push({object:f,granted:{store:_[1]==="store"?g:!1,update:_[1]==="update"?g:!1,show:_[1]==="show"?g:!1,index:_[1]==="index"?g:!1,destroy:_[1]==="destroy"?g:!1,other:b?[{code:_[1],granted:g}]:[]}});else{const T=C.findIndex(v=>v.object===f);b?C[T].granted.other.push({code:_[1],granted:g}):C[T]=ge(ie({},C[T]),{granted:{store:_[1]==="store"?g:C[T].granted.store,update:_[1]==="update"?g:C[T].granted.update,show:_[1]==="show"?g:C[T].granted.show,destroy:_[1]==="destroy"?g:C[T].granted.destroy,index:_[1]==="index"?g:C[T].granted.index,other:C[T].granted.other}})}c.push({id:x.id,granted:g})}),l(C),S(c)}},[p,i]);function y(f,C,c,x){let g=C.object+".";x===-1?g+=c:g+=C.granted.other[x].code;const _=p==null?void 0:p.find(b=>b.name===g);if(_===void 0)k.error({message:`Kh\xF4ng th\u1EC3 t\xECm th\u1EA5y permission t\u01B0\u01A1ng \u1EE9ng v\u1EDBi per_name: ${g}!`});else{const b=h.findIndex(T=>T.id===_.id);b>=0&&(h[b].granted=f),S([...h])}}function F(){const f=[],C=[];h.forEach(c=>{const x=r.exports.get(i,"permissions",[]).findIndex(g=>g.id===c.id);x===-1&&c.granted===!0?f.push(c.id):x>=0&&c.granted===!1&&C.push(c.id)}),i&&(m(!0),t(cs({role_id:i.id,permission_add_ids:f,permission_delete_ids:C})).finally(()=>{m(!1),t(vt(i.id))}))}const E=[{title:"\u0110\u1ED1i t\u01B0\u1EE3ng",dataIndex:"object",key:"name",width:100,render:function(C){return e("a",{children:on(C)})}},{title:"Quy\u1EC1n",children:[{title:"Xem",dataIndex:"age",key:"age",width:50,render:function(C,c){return e(Q,{children:e(ce,{defaultChecked:c.granted.show,onChange:x=>y(x.target.checked,c,"show",-1)})})}},{title:"Xem DS",dataIndex:"index",key:"index",width:50,render:function(C,c){return e(Q,{children:e(ce,{defaultChecked:c.granted.index,onChange:x=>y(x.target.checked,c,"index",-1)})})}},{title:"Th\xEAm",key:"add",width:50,render:function(C,c){return e(Q,{children:e(ce,{defaultChecked:c.granted.store,onChange:x=>y(x.target.checked,c,"store",-1)})})}},{title:"S\u1EEDa",key:"edit",width:50,render:function(C,c){return e(Q,{children:e(ce,{defaultChecked:c.granted.update,onChange:x=>y(x.target.checked,c,"update",-1)})})}},{title:"Xo\xE1",key:"del",width:50,render:function(C,c){return e(Q,{children:e(ce,{defaultChecked:c.granted.destroy,onChange:x=>y(x.target.checked,c,"destroy",-1)})})}},{title:"Kh\xE1c",key:"other",width:150,render:function(C,c){return e(Q,{children:c.granted.other.map((x,g)=>e("div",{children:e(ce,{defaultChecked:x.granted,onChange:_=>y(_.target.checked,c,"update",g),children:on(x.code)},x.code)},x.code))})}}]}];return d(re.Content,{children:[e(Je,{className:"site-page-header",onBack:()=>n.push("/roles"),title:d(Q,{children:["Ph\xE2n quy\u1EC1n cho ",d("span",{style:{color:"#d35400"},children:[" ",r.exports.get(i,"name","")]})]}),subTitle:"",extra:[e(R,{type:"primary",onClick:()=>F(),loading:A,children:"L\u01B0u thay \u0111\u1ED5i"},"1")]}),e(le,{loading:u==="loading",columns:E,dataSource:a,bordered:!0,pagination:{defaultPageSize:1e3},size:"middle"})]})}function ru(){const n=Se(),t=q(),s=lt(),[a,l]=o.exports.useState([]),[h,S]=o.exports.useState([]),[A,m]=o.exports.useState(!1),p=w(f=>f.permissionReducer.permissions),i=w(f=>f.permissionReducer.userPermissions),u=w(f=>f.permissionReducer.getUserPermissionsState);o.exports.useEffect(()=>{t(At({})),t(Tt(+s.user_id))},[t,s]),o.exports.useEffect(()=>{if(r.exports.get(i,"id",0)===+s.user_id){let f="",C=0;const c=[],x=[];p&&p.forEach(g=>{let _=!1;for(let P=0;P<r.exports.get(i,"roles",[]).length;P++)if(r.exports.get(i,"roles",[])[P].permissions.findIndex(H=>H.name===g.name)>=0){_=!0;break}const b=r.exports.get(i,"permissions",[]).findIndex(P=>P.name===g.name)>=0;C=_===!0?2:b===!0?1:0;const T=g.name.split("."),v=T[1]!="store"&&T[1]!="update"&&T[1]!="show"&&T[1]!="index"&&T[1]!="destroy";if(f===""||f!=T[0])f=T[0],c.push({object:f,granted:{store:T[1]==="store"?C:0,update:T[1]==="update"?C:0,show:T[1]==="show"?C:0,index:T[1]==="index"?C:0,destroy:T[1]==="destroy"?C:0,other:v?[{code:T[1],granted:C}]:[]}});else{const P=c.findIndex(N=>N.object===f);v?c[P].granted.other.push({code:T[1],granted:C}):c[P]=ge(ie({},c[P]),{granted:{store:T[1]==="store"?C:c[P].granted.store,update:T[1]==="update"?C:c[P].granted.update,show:T[1]==="show"?C:c[P].granted.show,destroy:T[1]==="destroy"?C:c[P].granted.destroy,index:T[1]==="index"?C:c[P].granted.index,other:c[P].granted.other}})}x.push({id:g.id,granted:b})}),l(c),S(x)}},[p,i]);function y(f,C,c,x){let g=C.object+".";x===-1?g+=c:g+=C.granted.other[x].code;const _=p==null?void 0:p.find(b=>b.name===g);if(_===void 0)k.error({message:`Kh\xF4ng th\u1EC3 t\xECm th\u1EA5y permission t\u01B0\u01A1ng \u1EE9ng v\u1EDBi per_name: ${g}!`});else{const b=h.findIndex(T=>T.id===_.id);b>=0&&(h[b].granted=f),S([...h])}}function F(){const f=[],C=[];h.forEach(c=>{const x=r.exports.get(i,"permissions",[]).findIndex(g=>g.id===c.id);x===-1&&c.granted===!0?f.push(c.id):x>=0&&c.granted===!1&&C.push(c.id)}),i&&(m(!0),t(hs({user_id:i.id,permission_add_ids:f,permission_delete_ids:C})).finally(()=>{m(!1),t(Tt(i.id))}))}const E=[{title:"\u0110\u1ED1i t\u01B0\u1EE3ng",dataIndex:"object",key:"name",width:100,render:function(C){return e("a",{children:on(C)})}},{title:"Quy\u1EC1n",children:[{title:"Xem",dataIndex:"show",key:"show",width:50,render:function(C,c){return e(Q,{children:e(ce,{defaultChecked:c.granted.show>0,disabled:c.granted.show===2,onChange:x=>y(x.target.checked,c,"show",-1)})})}},{title:"Xem DS",dataIndex:"index",key:"index",width:50,render:function(C,c){return e(Q,{children:e(ce,{defaultChecked:c.granted.index>0,disabled:c.granted.index===2,onChange:x=>y(x.target.checked,c,"index",-1)})})}},{title:"Th\xEAm",key:"add",width:50,render:function(C,c){return e(Q,{children:e(ce,{defaultChecked:c.granted.store>0,disabled:c.granted.store===2,onChange:x=>y(x.target.checked,c,"store",-1)})})}},{title:"S\u1EEDa",key:"edit",width:50,render:function(C,c){return e(Q,{children:e(ce,{defaultChecked:c.granted.update>0,disabled:c.granted.update===2,onChange:x=>y(x.target.checked,c,"update",-1)})})}},{title:"Xo\xE1",key:"del",width:50,render:function(C,c){return e(Q,{children:e(ce,{defaultChecked:c.granted.destroy>0,disabled:c.granted.destroy===2,onChange:x=>y(x.target.checked,c,"destroy",-1)})})}},{title:"Kh\xE1c",key:"other",width:150,render:function(C,c){return e(Q,{children:c.granted.other.map((x,g)=>e("div",{children:e(ce,{defaultChecked:x.granted>0,disabled:x.granted===2,onChange:_=>y(_.target.checked,c,"other",g),children:on(x.code)},x.code)},x.code))})}}]}];return d(re.Content,{children:[e(Je,{className:"site-page-header",onBack:()=>n.push("/users"),title:d(Q,{children:["Ph\xE2n quy\u1EC1n cho ",d("span",{style:{color:"#d35400",marginRight:10},children:[" ",r.exports.get(i,"profile.name","")]}),r.exports.get(i,"roles",[]).map(f=>e(te,{color:"blue",children:qe(f.name)},f.id))]}),subTitle:"",extra:[e(R,{type:"primary",icon:e(un,{}),onClick:()=>F(),loading:A,children:"L\u01B0u thay \u0111\u1ED5i"},"1")]}),e(He,{style:{marginBottom:20,marginTop:20},message:"L\u01B0u \xFD ch\u1EC9 ph\xE2n quy\u1EC1n cho ng\u01B0\u1EDDi d\xF9ng khi mu\u1ED1n m\u1EDF r\u1ED9ng quy\u1EC1n t\u1EEB vai tr\xF2 ng\u01B0\u1EDDi d\xF9ng. V\xEC v\u1EADy n\xEAn ph\xE2n quy\u1EC1n cho vai tr\xF2 tr\u01B0\u1EDBc khi ph\xE2n th\xEAm quy\u1EC1n m\u1EDF r\u1ED9ng cho ng\u01B0\u1EDDi d\xF9ng",type:"warning",closable:!0}),e(le,{scroll:{y:600},loading:u==="loading",columns:E,dataSource:a,bordered:!0,pagination:{defaultPageSize:1e3},size:"middle"}),","]})}function iu(){const n=lt(),t=Se(),s=q(),a=w(l=>l.studentReducer.studentProfile);return o.exports.useEffect(()=>{s(fs(+n.student_id))},[n,s]),e(re.Content,{children:e(Je,{className:"site-page-header",onBack:()=>t.push("/students"),title:"H\u1ED3 s\u01A1 h\u1ECDc sinh",children:d(j,{bordered:!0,children:[e(j.Item,{label:"H\u1ECD v\xE0 t\xEAn",children:e("strong",{children:r.exports.get(a,"name","")})}),e(j.Item,{label:"Ng\xE0y sinh",children:I(r.exports.get(a,"birthday","")).format("DD/MM/YYYY")}),e(j.Item,{label:"Gi\u1EDBi t\xEDnh",children:r.exports.get(a,"gender",0)===0?"N\u1EEF":"Nam"}),e(j.Item,{label:"L\u1EDBp h\u1ECDc",children:e("a",{onClick:()=>t.push(`/classes-detail/${r.exports.get(a,"class.id",0)}`),children:r.exports.get(a,"class.name","")})}),e(j.Item,{label:"Ng\xE0y nh\u1EADp h\u1ECDc",children:I(r.exports.get(a,"admission_date","")).format("DD/MM/YYYY")}),e(j.Item,{label:"\u0110i\u1EC3m \u0111\u1EA7u v\xE0o",children:r.exports.get(a,"knowledge_status","")}),e(j.Item,{label:"Tr\u01B0\u1EDDng \u0111ang h\u1ECDc",span:3,children:r.exports.get(a,"school","")}),e(j.Item,{label:"\u0110\u1ECBa ch\u1EC9",span:3,children:r.exports.get(a,"address","")}),e(j.Item,{label:"S\u1EDF th\xEDch",span:3,children:r.exports.get(a,"interests","")}),e(j.Item,{label:"S\u1EDF gh\xE9t",span:3,children:r.exports.get(a,"dislikes","")}),e(j.Item,{label:"\u01AF\u1EDBc m\u01A1",span:3,children:r.exports.get(a,"personality","")}),d(j.Item,{label:"Ph\u1EE5 huynh",span:3,children:[e("a",{children:r.exports.get(a,"parent.profile.name","")})," - ",r.exports.get(a,"parent.phone","")," "]})]})})})}function ou(n){const{editting:t,setEditting:s,newInfo:a,show:l,setShow:h}=n,S=q(),[A,m]=o.exports.useState(""),[p,i]=o.exports.useState("");o.exports.useRef(null);const u=w(E=>E.newsReducer.addNewsStatus),y=w(E=>E.newsReducer.updateNewsStatus);o.exports.useEffect(()=>{t===!0&&a?(m(a.title),i(a.content)):(m(""),i(""))},[t,a]),o.exports.useEffect(()=>{(u==="success"||y==="success")&&(S(yt({per_page:20})),h(!1))},[y,u]);function F(){if(A.length===0){k.error({message:"Ti\xEAu \u0111\u1EC1 kh\xF4ng  \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng!"});return}const E={title:A,content:p};t?a&&(console.log(E),S($s({newId:a.id,data:E}))):S(qs(E))}return e(Q,{children:d(se,{visible:l,onCancel:()=>{h(!1),s(!1)},width:1e3,title:t?"S\u1EEDa tin b\xE0i":"T\u1EA1o tin b\xE0i m\u1EDBi",footer:[e(R,{onClick:()=>{h(!1),s(!1)},children:"Hu\u1EF7 b\u1ECF"},"btn-cancel"),e(R,{type:"primary",onClick:()=>F(),loading:u==="loading",children:t?"C\u1EADp nh\u1EADt":"L\u01B0u l\u1EA1i"},"btn-submit")],children:[e(na,{style:{marginBottom:10},children:"Ti\xEAu \u0111\u1EC1"}),e(U,{style:{marginBottom:20},placeholder:"Ti\xEAu \u0111\u1EC1",value:A,onChange:E=>m(E.target.value),required:!0}),e(na,{style:{marginBottom:10},children:"N\u1ED9i dung"}),e(gi,{initialValue:p,onChange:E=>i(E.target.getContent()),init:{height:500,menubar:!1,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help",content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }"}})]})})}const{confirm:lu}=se;function du(){const n=q(),[t,s]=o.exports.useState(!1),[a,l]=o.exports.useState(!1),[h,S]=o.exports.useState(null),A=w(y=>y.newsReducer.newsList),m=w(y=>y.newsReducer.getNewsListStatus);o.exports.useEffect(()=>{n(yt({per_page:20}))},[n]);function p(){l(!0),s(!1),S(null)}function i(y){l(!0),s(!0),S(y)}function u(y){lu({title:"X\xE1c nh\u1EADn xo\xE1 tin b\xE0i?",icon:e(Re,{}),onOk(){n(Js(y)).finally(()=>{n(yt({per_page:20}))})}})}return d(re.Content,{children:[e(ou,{editting:t,setEditting:s,newInfo:h,show:a,setShow:l}),d(V,{style:{padding:20},children:[e(U,{suffix:e(Ya,{}),style:{width:500},placeholder:"T\xECm theo ti\xEAu \u0111\u1EC1"}),e(R,{type:"primary",onClick:()=>p(),icon:e(Ae,{}),children:"Th\xEAm tin b\xE0i"})]}),e(ue,{style:{padding:20},className:"demo-loadmore-list",itemLayout:"horizontal",dataSource:r.exports.get(A,"data",[]),renderItem:y=>e(ue.Item,{actions:[e(R,{type:"link",danger:!0,onClick:()=>u(y.id),children:"Xo\xE1"},"list-loadmore-more"),e(R,{type:"link",onClick:()=>i(y),children:"Chi ti\u1EBFt"},"list-loadmore-edit")],children:e(fi,{avatar:!0,title:!1,loading:m==="loading",active:!0,children:e(ue.Item.Meta,{title:e("a",{href:"#",children:y.title}),description:y.created_at})})})})]})}function uu(n){const{editMode:t,setEditMode:s,show:a,setShow:l,giftInfo:h}=n,S=q(),[A,m]=o.exports.useState([]),[p,i]=o.exports.useState(!1),[u]=D.useForm(),y=w(C=>C.giftReducer.addGiftStatus),F=w(C=>C.giftReducer.updateGiftStatus);o.exports.useEffect(()=>{t&&h?(u.setFieldsValue({name:r.exports.get(h,"name",""),type:r.exports.get(h,"type",""),description:r.exports.get(h,"description",""),quantity:r.exports.get(h,"quantity",0),condition_point:r.exports.get(h,"condition_point",0)}),m([h.photo])):(u.setFieldsValue({name:"",type:null,description:"",quantity:0,condition_point:0}),m([]))},[t,h]),o.exports.useEffect(()=>{(F==="success"||y==="success")&&(l(!1),s(!1),S(Ct({})))},[F,y]);function E(C){m(C)}function f(C){const c=ge(ie({},C),{photo:A.length>0&&A[0].id});S(t&&h?Ws({giftId:h.id,data:c}):Xs(c))}return e(se,{title:t?"C\u1EADp nh\u1EADt th\xF4ng tin qu\xE0 t\u1EB7ng":"Th\xEAm qu\xE0 t\u1EB7ng",visible:a,width:1e3,onCancel:()=>{l(!1),s(!1)},footer:[e(R,{htmlType:"reset",form:"gift_form",children:"Hu\u1EF7 b\u1ECF"},"btn-cacel"),e(R,{type:"primary",htmlType:"submit",loading:t?F==="loading":y==="loading",form:"gift_form",children:t?"C\u1EADp nh\u1EADt":"L\u01B0u l\u1EA1i"},"btn-submit")],children:d(D,{labelCol:{span:4},wrapperCol:{span:14},layout:"horizontal",id:"gift_form",form:u,onFinish:f,children:[e(D.Item,{label:"T\xEAn qu\xE0 t\u1EB7ng",name:"name",children:e(U,{})}),e(D.Item,{label:"X\u1EBFp lo\u1EA1i",name:"type",children:d(O,{children:[e(O.Option,{value:1,children:"Lo\u1EA1i 1"}),e(O.Option,{value:2,children:"Lo\u1EA1i 2"}),e(O.Option,{value:3,children:"Lo\u1EA1i 3"})]})}),e(D.Item,{label:"\u0110i\u1EC3m \u0111i\u1EC1u ki\u1EC7n",name:"condition_point",children:e(pe,{})}),e(D.Item,{label:"S\u1ED1 l\u01B0\u1EE3ng trong kho",name:"quantity",children:e(pe,{})}),e(D.Item,{label:"M\xF4 t\u1EA3",name:"description",children:e(U.TextArea,{})}),e(D.Item,{name:"photo",label:"H\xECnh \u1EA3nh",children:e(ot,{defaultSelected:A,isShow:p,okFunction:E,closeFunction:()=>i(!1),showSelectedList:!0,review:!0,children:e(R,{onClick:()=>i(!0),type:"default",size:"middle",icon:e(Be,{}),children:"Ch\u1ECDn files"})})})]})})}const{confirm:cu}=se;function hu(){const n=q(),[t,s]=o.exports.useState(!1),[a,l]=o.exports.useState(!1),[h,S]=o.exports.useState(null),A=w(y=>y.giftReducer.giftList),m=w(y=>y.giftReducer.getGiftListStatus);o.exports.useEffect(()=>{n(Ct({per_page:20}))},[n]);function p(y){S(y),s(!0),l(!0)}function i(y){cu({title:"X\xE1c nh\u1EADn xo\xE1 qu\xE0 t\u1EB7ng?",icon:e(Re,{}),onOk(){n(Zs(y)).finally(()=>{n(Ct({per_page:20}))})}})}const u=[{title:"\u1EA2nh",key:"image",dataIndex:"",render:function(F,E){return e(Me,{width:80,height:80,src:r.exports.get(E,"photo.url","error"),fallback:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg=="})}},{title:"T\xEAn q\xF9a t\u1EB7ng",key:"name",dataIndex:"name",render:function(F){return e("span",{style:{color:"#2980b9"},children:F})}},{title:"\u0110i\u1EC3m \u0111i\u1EC1u ki\u1EC7n",key:"condition_point",dataIndex:"condition_point",render:function(F){return e("strong",{style:{color:"#e67e22"},children:F})}},{title:"S\u1ED1 l\u01B0\u1EE3ng",key:"quantity",dataIndex:"quantity"},{title:"Actions",key:"action",dataIndex:"",render:function(F,E){return d(V,{children:[e(X,{title:"Xo\xE1",children:e(R,{type:"link",danger:!0,icon:e(Ut,{}),onClick:()=>i(r.exports.get(E,"id",0))})}),e(X,{title:"S\u1EEDa",children:e(R,{type:"link",icon:e(bt,{}),onClick:()=>p(E)})})]})}}];return d(re.Content,{children:[e(uu,{show:t,setShow:s,giftInfo:h,editMode:a,setEditMode:l}),d(V,{style:{marginBottom:20},children:[e(U,{style:{width:300},placeholder:"T\xECm theo t\xEAn"}),e(R,{type:"primary",icon:e(Ae,{}),onClick:()=>{l(!1),s(!0)},children:"Th\xEAm qu\xE0 t\u1EB7ng"})]}),e(le,{columns:u,dataSource:r.exports.get(A,"data",[]),loading:m==="loading"})]})}function pu(n){const{class_id:t}=n,s=q(),[a,l]=o.exports.useState(!1),h=w(y=>y.studentReducer.students),S=w(y=>y.classReducer.addStudentsStatus),[A,m]=o.exports.useState([]);o.exports.useEffect(()=>{S==="success"&&(l(!1),s(Ji()))},[s,S]),o.exports.useEffect(()=>{a&&s(Fe({class_id:0}))},[s,a]);const p=()=>{t&&s(ts({data:{students:A},cID:parseInt(t)}))},i=y=>{m(y)},u=[];return r.exports.get(h,"data",[]).map(y=>{const F=d(Q,{children:[e("strong",{children:y.name})," (",I(y.birthday).format("DD/MM/YYYY"),")"]});u.push({label:F,value:y.id})}),d(Q,{children:[e(R,{type:"primary",icon:e(Ae,{}),onClick:()=>l(!0),children:"Th\xEAm h\u1ECDc sinh"}),e(Te,{visible:a,title:"Th\xEAm h\u1ECDc sinh v\xE0o l\u1EDBp",closable:!0,onCancel:()=>l(!1),footer:[e(R,{type:"primary",onClick:p,children:"L\u01B0u l\u1EA1i"},"btnSubmit")],children:e(O,{mode:"multiple",style:{width:"100%"},placeholder:"Ch\u1ECDn h\u1ECDc sinh",onChange:i,options:u})})]})}function Eu(n){const{class_id:t}=n,s=q(),[a,l]=o.exports.useState(!1),[h,S]=o.exports.useState([]),[A]=D.useForm(),[m,p]=o.exports.useState(!1),i=w(f=>f.classReducer.photos),u=w(f=>f.classReducer.deleteClassPhotosStatus),y=w(f=>f.classReducer.classDetailTabKey);o.exports.useEffect(()=>{(t&&y===Oe.ALBUM||u==="success")&&s(Bt({class_id:+t}))},[t,y,u,s]),o.exports.useEffect(()=>{a&&S([])},[a]);function F(){if(h.length>0){p(!0);const f=h.map(c=>c.originFileObj),C=[];s(It(f)).then(c=>(r.exports.get(c,"payload",[]).forEach(x=>{C.push(x.id)}),C)).then(c=>{s(Zt({class_id:+t,file_ids:c})).then(()=>{s(Bt({class_id:+t}))}).finally(()=>{p(!1),l(!1)})})}}function E(f){f&&s(es(f))}return d(Q,{children:[e(R,{type:"primary",icon:e(Be,{}),onClick:()=>{l(!0)},children:"T\u1EA3i \u1EA3nh m\u1EDBi"}),e(se,{title:"Ch\u1ECDn \u1EA3nh \u0111\u1EC3 upload",centered:!0,visible:a,onCancel:()=>{l(!1)},footer:null,width:950,maskClosable:!1,children:e(De,{spinning:m,children:d(D,{onFinish:F,form:A,children:[e(D.Item,{children:d(Pa,{accept:za.map(f=>`.${f}`).join(","),name:"file",multiple:!0,customRequest:pr,onDrop:f=>{},listType:"picture-card",fileList:h,onChange:({fileList:f})=>{S(f)},children:[e("p",{className:"ant-upload-drag-icon",children:e(xi,{})}),e("p",{className:"ant-upload-text",children:"Nh\u1EA5n ho\u1EB7c k\xE9o th\u1EA3 file v\xE0o khu v\u1EF1c \u0111\u1EC3 upload!"})]})}),d(D.Item,{style:{textAlign:"center"},children:[e(R,{type:"primary",htmlType:"submit",children:"Upload"}),e(R,{style:{marginLeft:30},onClick:()=>{l(!1)},children:"Cancel"})]})]})})}),e(V,{style:{backgroundColor:"white",padding:10},size:[10,10],wrap:!0,children:e(Me.PreviewGroup,{children:r.exports.get(i,"data",[]).map((f,C)=>d("div",{style:{display:"inline-block",position:"relative",padding:10},children:[e(Me,{width:200,height:200,style:{objectFit:"cover"},alt:"logo",src:r.exports.get(f,"file.url","error"),fallback:an},C),e(R,{style:{position:"absolute",top:10,right:10,backgroundColor:"rgb(189, 195, 199,0.6)"},type:"link",danger:!0,icon:e(Gt,{}),onClick:()=>E(f.id)})]},C))})})]})}const Gn="DD-MM-YYYY";function mu(n){const{classID:t,students:s,setCreateMode:a}=n,l=q(),[h,S]=o.exports.useState([]),[A,m]=o.exports.useState(I(new Date).format(Gn)),[p,i]=o.exports.useState([]),[u,y]=o.exports.useState(!1),[F,E]=o.exports.useState(!1),[f,C]=o.exports.useState(-1),c=w(K=>K.auth.user),x=w(K=>K.attendanceReducer.addAttendanceStatus);function g(K){i([0]);const B=[];K.target.checked&&s.map(G=>{B.push(G.id)}),y(K.target.checked),i(B)}function _(K){return p.find(G=>G===K)!==void 0}function b(K){const B=p.indexOf(K);B===-1?p.push(K):p.splice(B,1),y(s.length===p.length),i([...p])}function T(K,B){const G=h.findIndex(M=>M.id===`${B}`);G>=0?h[G].comment=K:h.push({id:`${B}`,comment:K,conduct_point:"",reminder:""})}function v(K,B){const G=h.find(M=>M.id===`${B}`);G?G.conduct_point=K.target.value:h.push({id:`${B}`,comment:"",conduct_point:parseFloat(K.target.value).toString(),reminder:""})}function P(K,B){const G=h.find(M=>M.id===`${B}`);G?G.reminder=K:h.push({id:`${B}`,comment:"",conduct_point:"",reminder:K})}function N(K){C(K),E(!0)}function H(){if(!t)return;const K=r.exports.get(c,"id",null);if(!K)k.warn({message:"Ch\u01B0a c\xF3 th\xF4ng tin gi\xE1o vi\xEAn!"});else if(p.length>0){const B=[];p.forEach(M=>{const z=h.find(ne=>+ne.id===M);z?B.push(z):B.push({id:`${M}`,comment:"",conduct_point:"",reminder:""})});const G={class_id:t,teacher_id:K,students:B,date:I(A,"DD-MM-YYYY").format("YYYY-MM-DD")};l($t(G))}else k.warn({message:"Danh s\xE1ch \u0111i\u1EC3m danh tr\u1ED1ng"})}const Z=[{title:"H\u1ECD t\xEAn",dataIndex:"name",key:"name",with:100,fixed:"left",render:function(B,G){return e(X,{title:`Ng\xE0y sinh: ${I(G.birthday).format("DD-MM-YYYY")}`,children:e("strong",{children:B})})}},{title:e("div",{style:{textAlign:"center"},children:d(X,{title:"\u0110i\u1EC3m danh",children:[" ",e(ce,{onChange:g,checked:u})]})}),key:"operation",dataIndex:"",width:10,render:function(B){return e("div",{style:{textAlign:"center"},children:e(ce,{onChange:()=>b(B.id),checked:_(B.id)})})}},{title:"H\u1EA1nh ki\u1EC3m",key:"point",dataIndex:"",width:100,render:function(B){return e(U,{className:"_input_",style:{width:"100%"},type:"number",step:.1,placeholder:"0.0",onChange:G=>v(G,B.id)})}},{title:"Nh\u1EADn x\xE9t",key:"comment",dataIndex:"",render:function(B){return e(nn,{className:"_input_",style:{width:"100%"},autoSize:{minRows:1,maxRows:3},placeholder:"Nh\u1EADn x\xE9t",onChange:({target:{value:G}})=>T(G,B.id)})}},{title:"Nh\u1EAFc nh\u1EDF",key:"reminder",dataIndex:"",render:function(B){return e(nn,{className:"_input_",style:{width:"100%"},autoSize:{minRows:1,maxRows:3},placeholder:"L\u1EDDi nh\u1EAFc nh\u1EDF",onChange:({target:{value:G}})=>P(G,B.id)})}},{title:"",key:"action",dataIndex:"",width:80,render:function(B,G,M){return e(V,{children:e(X,{title:"Nh\u1EAFc nh\u1EDF v\xE0o h\u1ECDc",children:e(R,{icon:e(Mt,{}),type:"link",onClick:()=>N(M)})})})}}];return d("div",{children:[d(V,{style:{paddingTop:20,marginBottom:20},children:["Ng\xE0y h\u1ECDc:",e(ye,{disabledDate:K=>K&&K>I().endOf("day"),defaultValue:I(new Date,Gn),format:Gn,onChange:K=>m(I(K).format("DD/MM/YYYY"))}),e(R,{type:"primary",icon:e(un,{}),onClick:()=>H(),loading:x==="loading",children:"L\u01B0u l\u1EA1i"}),e(R,{type:"primary",danger:!0,icon:e(Gt,{}),onClick:()=>a(!1),children:"Hu\u1EF7 b\u1ECF"})]}),e(Ce,{children:e(he,{span:24,children:e(le,{dataSource:s,columns:Z,bordered:!0,rowKey:"id",size:"small",pagination:!1})})}),e(mr,{title:"Nh\u1EAFc nh\u1EDF v\xE0o h\u1ECDc",show:F,setShow:E,students:f!==-1?new Array(s[f]):[],uri:cn.ATTENDANCE_REMIND})]},1)}const{RangePicker:gu}=ye;function fu(n){const{classInfo:t,students:s}=n,a=Se(),l=q(),[h,S]=o.exports.useState(!1),A=w(F=>F.lessonReducer.lessons),m=w(F=>F.lessonReducer.getLessonsState),p=w(F=>F.classReducer.classDetailTabKey),i=w(F=>F.attendanceReducer.addAttendanceStatus);o.exports.useEffect(()=>{t&&p===Oe.LESSON&&l(Ne({class_id:t.id}))},[t,p,l]),o.exports.useEffect(()=>{i==="success"&&(S(!1),t&&l(Ne({class_id:t.id})))},[i]);function u(F,E){const f=E[0]||void 0,C=E[1]||void 0;t&&l(Ne({class_id:t.id,from_date:f,to_date:C}))}const y=[{title:"Ng\xE0y h\u1ECDc",dataIndex:"date",key:"name",render:function(E){return e("strong",{children:I(E).format("DD-MM-YYYY")})}},{title:"Tham gia",dataIndex:"",key:"attendanceNum",render:function(E,f){return d(Q,{children:[e("span",{style:{color:"#d35400"},children:f.attendances.length}),d("span",{children:["/ ",r.exports.get(t,"students_num",0)]})]})}},le.EXPAND_COLUMN,{title:"Ph\u1EA3n h\u1ED3i",dataIndex:"",key:"lesson_feedbacks",render:function(E,f){return d(Q,{children:[e("strong",{style:{color:"#e67e22"},children:r.exports.get(f,"lesson_feedback",[]).length})," ph\u1EA3n h\u1ED3i"]})}},{title:"Actions",dataIndex:"",key:"action",render:function(E,f){return e(V,{children:e(X,{title:"Chi ti\u1EBFt",children:e(R,{type:"link",icon:e(Vn,{onClick:()=>a.push(`/study/${r.exports.get(t,"id",0)}/lesson-detail/${f.id}`)})})})})}}];return e("div",{children:h?e(mu,{classID:r.exports.get(t,"id",0),setCreateMode:S,students:s||[]}):d(Q,{children:[d(V,{children:[e(gu,{style:{marginTop:20,marginBottom:20},onChange:u}),e(R,{type:"primary",icon:e(Ae,{}),onClick:()=>S(!0),children:"Bu\u1ED5i h\u1ECDc m\u1EDBi"})]}),e(le,{rowKey:"id",loading:m==="loading",columns:y,expandable:{expandedRowRender:F=>e(ue,{className:"comment-list",itemLayout:"horizontal",dataSource:F.lesson_feedback,renderItem:E=>e("li",{children:e(yi,{author:r.exports.get(E,"parent.phone","No name"),avatar:"https://joeschmoe.io/api/v1/random",content:E.feedback})})})},dataSource:r.exports.get(A,"data",[]),pagination:{defaultPageSize:10}})]})})}function xu(n){const{classInfo:t}=n,s=q(),[a,l]=o.exports.useState(!1),[h,S]=o.exports.useState(!1),[A,m]=o.exports.useState(!1),[p,i]=o.exports.useState(!1),[u,y]=o.exports.useState([]),[F,E]=o.exports.useState([]),f=w(g=>g.lessonReducer.lessons);function C(g){y(g)}function c(g){E(g)}function x(g){S(!0);const _=u.map(v=>v.id),b=F.map(v=>v.id),T={class_id:r.exports.get(t,"id",0),title:g.title,date:I(g.date).format("YYYY-MM-DD"),content_files:_,content_link:g.content_link,result_files:b,result_link:g.result_link,lesson_id:g.lesson_id};s(As(T)).then(()=>{l(!1),s(ao()),s(at({class_id:r.exports.get(t,"id",0)}))}).finally(()=>S(!1))}return d(Q,{children:[e(R,{icon:e(Ae,{}),type:"primary",onClick:()=>l(!0),children:"T\u1EA1o b\xE0i test"}),e(se,{visible:a,closable:!0,onCancel:()=>l(!1),title:"T\u1EA1o b\xE0i test m\u1EDBi",width:800,footer:[e(R,{onClick:()=>l(!1),children:"Hu\u1EF7 b\u1ECF"},"btncancle"),e(R,{loading:h,type:"primary",htmlType:"submit",form:"aForm",children:"L\u01B0u l\u1EA1i"},"btnok")],children:d(D,{id:"aForm",initialValues:{date:I()},labelCol:{span:5},wrapperCol:{span:14},layout:"horizontal",onFinish:x,children:[e(D.Item,{label:"Ti\xEAu \u0111\u1EC1",name:"title",rules:[{required:!0,message:"Ti\xEAu \u0111\u1EC1 b\xE0i test kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng"}],children:e(U,{})}),e(D.Item,{label:"B\xE0i h\u1ECDc ng\xE0y",name:"lesson_id",children:e(O,{showSearch:!0,allowClear:!0,filterOption:(g,_)=>{var b;return((b=_==null?void 0:_.label)==null?void 0:b.toLowerCase().indexOf(g.toLowerCase()))>=0},children:r.exports.get(f,"data",[]).map(g=>e(O.Option,{value:g.id,label:I(g.date,"YYYY-MM-DD").format("DD-MM-YYYY"),children:d("a",{children:[I(g.date,"YYYY-MM-DD").format("DD-MM-YYYY")," "]})},g.id))})}),e(D.Item,{label:"Ng\xE0y",name:"date",children:e(ye,{format:"DD-MM-YYYY"})}),e(D.Item,{label:"Link \u0111\u1EC1 b\xE0i",name:"content_link",children:e(U,{})}),e(D.Item,{label:"Ch\u1ECDn files \u0111\u1EC1 thi",children:e(ot,{defaultSelected:u,isShow:A,okFunction:C,closeFunction:()=>m(!1),review:!0,showSelectedList:!0,children:e(R,{onClick:()=>m(!0),type:"default",size:"middle",icon:e(Be,{}),children:"Ch\u1ECDn files"})})}),e(D.Item,{label:"Link \u0111\xE1p \xE1n",name:"result_link",children:e(U,{})}),e(D.Item,{label:"Ch\u1ECDn files \u0111\xE1p \xE1n",children:e(ot,{defaultSelected:F,isShow:p,okFunction:c,closeFunction:()=>i(!1),review:!0,showSelectedList:!0,children:e(R,{onClick:()=>i(!0),type:"default",size:"middle",icon:e(Be,{}),children:"Ch\u1ECDn files"})})})]})})]})}function yu(n){const{classInfo:t,students:s}=n,a=q(),l=Se(),h=w(p=>p.testReducer.testes),S=w(p=>p.testReducer.getTestesStatus),A=w(p=>p.classReducer.classDetailTabKey);o.exports.useEffect(()=>{t&&A===Oe.TEST&&a(at({class_id:t.id}))},[t,A]);function m(p){a(at({class_id:r.exports.get(t,"id",0),page:p}))}return d(Q,{children:[e(V,{style:{paddingTop:20,marginBottom:20},children:e(xu,{classInfo:t})}),e(ue,{itemLayout:"vertical",size:"large",loading:S==="loading",pagination:{onChange:m,pageSize:20,total:r.exports.get(h,"total",0)},dataSource:r.exports.get(h,"data",[]),renderItem:p=>e(ue.Item,{onClick:()=>l.push({pathname:`/study-tests/${p.id}/${r.exports.get(t,"id",0)}`}),style:{backgroundColor:"white",cursor:"pointer"},actions:[d(V,{onClick:i=>{i.stopPropagation()},children:[e(R,{type:"link",icon:e(ln,{})}),s.length]},"act1"),d(V,{onClick:i=>{i.stopPropagation()},children:[e(R,{type:"link",icon:e(Ci,{})})," 0"]},"act2"),d(V,{onClick:i=>{i.stopPropagation()},children:[e(Si,{})," 0"]},"act3")],extra:e(Me,{width:100,height:100,alt:"logo",src:p.content_files.length>0?p.content_files[0].url:"error",fallback:an,onClick:i=>{i.stopPropagation()}}),children:e(ue.Item.Meta,{title:p.title,description:e(Q,{children:p.date})})},p.id)})]})}function Cu(){var A,m;const n=lt(),t=q(),{TabPane:s}=je,a=w(p=>p.classReducer.classDetailTabKey),l=w(p=>p.classReducer.classInfo),h=w(p=>p.classReducer.getClassStatus),S=w(p=>p.studentReducer.students);return o.exports.useEffect(()=>{n.class_id&&(t(Et({class_id:parseInt(n.class_id)})),t(Fe({class_id:parseInt(n.class_id)})))},[t,n]),e(re.Content,{children:d(De,{spinning:h==="loading",children:[e(Je,{className:"site-page-header-responsive",onBack:()=>window.history.back(),title:l==null?void 0:l.name,subTitle:"Qu\u1EA3n l\xFD h\u1ECDc t\u1EADp",extra:[e(pu,{class_id:n.class_id},"addStudents")]}),d(j,{size:"small",column:2,style:{backgroundColor:"white",marginTop:20},bordered:!0,children:[e(j.Item,{label:"Gi\xE1o vi\xEAn",children:e("a",{children:r.exports.get(l,"user.profile.name","")})}),e(j.Item,{label:"Ng\xE0y b\u1EAFt \u0111\u1EA7u",children:e("strong",{children:I((A=r.exports.get(l,"start_date",""))!=null?A:void 0).format("DD-MM-YYYY")})}),e(j.Item,{label:"S\u1ED1 h\u1ECDc sinh",children:e("strong",{style:{color:"#e67e22"},children:r.exports.get(l,"students_num",0)})}),e(j.Item,{label:"L\u1ECBch h\u1ECDc",children:d("strong",{children:[(()=>((l==null?void 0:l.schedule)?[...l.schedule]:[]).sort().map(i=>Ft[i]).join(", "))()," ","(",(m=l==null?void 0:l.schedule_time)!=null?m:"Ch\u01B0a c\xF3 th\u1EDDi gian h\u1ECDc",")"]})})]}),d(je,{activeKey:a,onChange:p=>t(Xi(p)),children:[e(s,{tab:"DS bu\u1ED5i h\u1ECDc",children:e(fu,{classInfo:l,students:r.exports.get(S,"data",[])})},Oe.LESSON),e(s,{tab:"B\xE0i t\u1EADp",children:e(yu,{classInfo:l,students:r.exports.get(S,"data",[])})},Oe.TEST),e(s,{tab:"Album \u1EA3nh",children:e(Eu,{class_id:n.class_id})},Oe.ALBUM),d(s,{tab:"B\u1EA3ng t\u1ED5ng k\u1EBFt",children:[e("div",{style:{marginTop:10,marginBottom:20},children:e(gr,{class_id:+n.class_id,classList:null})}),e(fr,{class_id:+n.class_id})]},Oe.SUMMARY)]})]})})}const{Panel:Da}=dn,ba={labelCol:{span:3},wrapperCol:{span:12}};function Su(){const n=q(),[t,s]=o.exports.useState(I(new Date)),[a,l]=o.exports.useState(I("2021-12-01"));o.exports.useState(!1);const[h,S]=o.exports.useState([]);o.exports.useState([]);const[A,m]=o.exports.useState(!1),[p]=D.useForm(),i=w(v=>v.dayoffReducer.dayoffs),u=w(v=>v.dayoffReducer.addDayoffState),y=w(v=>v.dayoffReducer.deleteDayoffState),F=w(v=>v.systemSettingReducer.systemSettingInfo),E=w(v=>v.systemSettingReducer.updateSystemSettingState);o.exports.useEffect(()=>{n(st({})),n(Ks({}))},[n]),o.exports.useEffect(()=>{(u==="success"||y==="success")&&(n(st({})),n(qo()),n($o()))},[n,u,y]),o.exports.useEffect(()=>{F&&(p.setFieldsValue(F),S(r.exports.get(F,"app_slide_files",[])))},[F]);function f(v){let P=!1;const N=I(v).format("YYYY-MM-DD");if(r.exports.get(i,"data",[]).forEach(H=>{I(N).isSame(I(H.from_date))&&(P=!0)}),P)return e(Q,{children:e(te,{color:"#f50",children:"Ng\xE0y ngh\u1EC9"})})}function C(){let v=-1;return r.exports.get(i,"data",[]).forEach(P=>{(t.isSame(I(P.from_date))||t.isSame(I(P.to_date))||t.isBetween(I(P.from_date),I(P.to_date)))&&(v=P.id)}),v}function c(v){l(v)}function x(v){s(v)}function g(){t&&n(Ps({from_date:I(t).format("YYYY-MM-DD"),to_date:I(t).format("YYYY-MM-DD")}))}function _(v){S(v)}function b(){let v=-1;r.exports.get(i,"data",[]).forEach(P=>{(t.isSame(I(P.from_date))||t.isSame(I(P.to_date))||t.isBetween(I(P.from_date),I(P.to_date)))&&(v=P.id)}),v>-1&&n(Ls(v))}function T(v){const P=[];h.forEach(N=>P.push(N.id)),n(Vs(ge(ie({},v),{app_slide_files:P})))}return e(re.Content,{children:d(dn,{defaultActiveKey:["1"],children:[e(Da,{header:e(V,{style:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},children:e("span",{children:"Th\xF4ng tin trung t\xE2m"})}),children:d(D,ge(ie({},ba),{id:"setting-form",onFinish:T,form:p,children:[e(D.Item,{name:"name",label:"T\xEAn trung t\xE2m",children:e(U,{})}),e(D.Item,{name:"email",label:"Email",rules:[{type:"email"}],children:e(U,{})}),e(D.Item,{name:"phone",label:"\u0110i\u1EC7n tho\u1EA1i",children:e(U,{})}),e(D.Item,{name:"address",label:"\u0110\u1ECBa ch\u1EC9",children:e(U,{})}),e(D.Item,{name:"logo",label:"Logo file",children:e(sn,{children:e(R,{icon:e(Be,{}),children:"Click to Upload"})})}),e(D.Item,{name:"config",label:"Config file",children:e(sn,{children:e(R,{icon:e(Be,{}),children:"Click to Upload"})})}),e(D.Item,{name:"slide_files",label:"App slide images",children:e(ot,{defaultSelected:h,isShow:A,okFunction:_,closeFunction:()=>m(!1),showSelectedList:!0,review:!0,children:e(R,{onClick:()=>m(!0),type:"default",size:"middle",icon:e(Be,{}),children:"Ch\u1ECDn files"})})}),e(D.Item,{wrapperCol:ge(ie({},ba.wrapperCol),{offset:3}),children:e(R,{type:"primary",htmlType:"submit",loading:E==="loading",children:"C\u1EADp nh\u1EADt"})})]}))},"1"),d(Da,{header:"L\u1ECBch trung t\xE2m",children:[d(V,{children:[e(He,{message:`Ng\xE0y \u0111\xE3 ch\u1ECDn: ${t&&t.format("YYYY-MM-DD")}`}),C()>-1?e(R,{loading:y==="loading",type:"primary",danger:!0,icon:e(Ai,{}),onClick:b,children:"Xo\xE1 ng\xE0y ngh\u1EC9"}):e(R,{type:"primary",icon:e(Di,{}),onClick:g,loading:u==="loading",children:"\u0110\u1EB7t ng\xE0y ngh\u1EC9"})]}),e(va,{dateCellRender:f,onSelect:x,onPanelChange:c})]},"2")]})})}function Au(){var P;const{class_id:n,lesson_id:t}=lt(),{pathname:s}=zn(),[a,l]=o.exports.useState(!1),h=Se(),S=q(),[A,m]=o.exports.useState(!1),[p,i]=o.exports.useState([]),u=w(N=>N.attendanceReducer.updateAttendanceStatus),y=w(N=>N.lessonReducer.getLessonInfoSate),F=w(N=>N.lessonReducer.lessonInfo),E=w(N=>N.classReducer.classInfo);o.exports.useEffect(()=>{S(Yt(+t)),S(Et({class_id:parseInt(n),params:{students:!0,active_periodinfo:!1}}))},[S,n]),o.exports.useEffect(()=>{s.includes("edit-attendace")&&l(!0)},[s]),o.exports.useEffect(()=>{if(F&&E){const{students:N=[]}=E,{attendances:H=[],review_lessons:Z=[]}=F,K=N.reduce((B,G)=>{const{id:M,name:z,birthday:ne}=G,J=H.find(wt=>wt.student_id===M),_e=Z.find(wt=>wt.student_id===M),_t=(J==null?void 0:J.conduct_point)?J.conduct_point.toString():"",kt=(J==null?void 0:J.reminder)?J.reminder:"",dt=(J==null?void 0:J.comment)?J.comment:"";let ut=0;return J===void 0&&_e&&(ut=_e.reviewed+1),B.push({id:M,name:z,birthday:ne,isAttendance:!!J,conduct_point:_t,reminder:kt,comment:dt,reviewd:ut}),B},[]);i(K),m(H.length===N.length)}},[F,E]),o.exports.useEffect(()=>{u==="success"&&(l(!1),S(Yt(+n)))},[n,S,u]);function f(N){const H=N.target.checked;i(p.map(Z=>ge(ie({},Z),{isAttendance:H}))),m(H)}function C(N){p[N].isAttendance=!p[N].isAttendance;const H=p.reduce((Z,K)=>(K.isAttendance&&Z++,Z),0);i([...p]),m(H===p.length)}function c(N,H){const Z=N.target.value;p[H].conduct_point=Z}function x(N,H){p[H].reminder=N}function g(N,H){p[H].comment=N}function _(){S(qt({class_id:parseInt(n)})),l(!1)}function b(){if(!E){k.warn({message:"Th\xF4ng tin l\u1EDBp h\u1ECDc b\u1ECB l\u1ED7i, xin h\xE3y th\u1EED l\u1EA1i"});return}const N=p.reduce((H,Z)=>(Z.isAttendance&&H.push({id:`${Z.id}`,comment:Z.comment,conduct_point:Z.conduct_point,reminder:Z.reminder}),H),[]);if(N.length>0&&F){const H={lesson_id:F.id,students:N};S(Jt(H))}else k.warn({message:"Danh s\xE1ch \u0111i\u1EC3m danh tr\u1ED1ng"})}function T(){}const v=[{title:"H\u1ECD t\xEAn",dataIndex:"name",key:"name",with:100,fixed:"left",render:function(H,Z){return e(X,{title:`Ng\xE0y sinh: ${I(Z.birthday).format("DD-MM-YYYY")}`,children:e("strong",{children:H})})}},{title:e(X,{title:"\u0110i\u1EC3m danh",children:e(ce,{onChange:f,disabled:!a,checked:A})}),key:"operation",dataIndex:"isAttendance",render:function(H,Z,K){return d(V,{style:{textAlign:"center"},children:[e(ce,{onChange:()=>C(K),checked:H,disabled:!a||Z.reviewd===2}),H?null:Z.reviewd===2?e(X,{title:"\u0110\xE3 xem l\u1EA1i b\xE0i ",children:e(Ve,{style:{color:"#27ae60",marginLeft:5}})}):e(X,{title:"Ch\u01B0a xem l\u1EA1i b\xE0i ",children:e(Ve,{style:{color:"#e74c3c",marginLeft:5}})})]})}},{title:"H\u1EA1nh ki\u1EC3m",key:"point",dataIndex:"conduct_point",width:100,render:function(H,Z,K){return e(U,{className:"_input_",style:{width:"100%",color:"#34495e"},type:"number",step:.1,placeholder:a?"0.0":"",onChange:B=>c(B,K),defaultValue:H,disabled:!a})}},{title:"Reminder",key:"reminder",dataIndex:"reminder",render:function(H,Z,K){return e(nn,{className:"_input_",style:{width:"100%",color:"#34495e"},autoSize:{minRows:1,maxRows:3},placeholder:a?"L\u1EDDi nh\u1EAFc nh\u1EDF":"",onChange:({target:{value:B}})=>{x(B,K)},defaultValue:H,disabled:!a})}},{title:"Nh\u1EADn x\xE9t",key:"comment",dataIndex:"comment",render:function(H,Z,K){return e(nn,{className:"_input_",style:{width:"100%",color:"#34495e"},autoSize:{minRows:1,maxRows:3},placeholder:a?"Nh\u1EADn x\xE9t":"",onChange:({target:{value:B}})=>{g(B,K)},defaultValue:H,disabled:!a})}},{title:"",key:"action",dataIndex:"",width:80,render:function(H){return d(V,{children:[" ",e(R,{icon:e(Mt,{}),type:"link",onClick:()=>void 0})]})}}];return e(re.Content,{children:e(Je,{className:"site-page-header-responsive",onBack:()=>h.goBack(),title:I((F==null?void 0:F.date)||"").format("DD-MM-YYYY"),subTitle:"Chi ti\u1EBFt bu\u1ED5i h\u1ECDc",extra:d(V,{style:{paddingTop:20,marginBottom:20},children:[a&&e(R,{type:"primary",icon:e(un,{}),onClick:b,children:"L\u01B0u l\u1EA1i"}),a?e(R,{type:"primary",icon:e(Gt,{}),danger:!0,onClick:()=>_(),children:"Hu\u1EF7 b\u1ECF c\u1EADp nh\u1EADt"}):e(R,{type:"primary",icon:e(La,{}),onClick:()=>l(!0),children:"C\u1EADp nh\u1EADt"})]}),footer:e(De,{spinning:y==="loading"||u==="loading",children:e(le,{dataSource:p,columns:v,bordered:!0,rowKey:"id",size:"small",pagination:!1})}),children:d(j,{size:"small",column:2,style:{backgroundColor:"white",marginTop:20},bordered:!0,children:[e(j.Item,{label:"Gi\xE1o vi\xEAn",children:e("a",{children:r.exports.get(E,"user.profile.name","")})}),e(j.Item,{label:"L\u1EDBp h\u1ECDc",children:e("strong",{children:r.exports.get(E,"name","")})}),e(j.Item,{label:"S\u1ED1 h\u1ECDc sinh",children:e("strong",{style:{color:"#e67e22"},children:r.exports.get(E,"students_num",0)})}),e(j.Item,{label:"L\u1ECBch h\u1ECDc",children:d("strong",{children:[(()=>((E==null?void 0:E.schedule)?[...E.schedule]:[]).sort().map(H=>Ft[H]).join(", "))()," ","(",(P=E==null?void 0:E.schedule_time)!=null?P:"Ch\u01B0a c\xF3 th\u1EDDi gian h\u1ECDc",")"]})})]})})})}function Du(){return d(Q,{children:[e(de,{exact:!0,path:"/",component:dd}),e(de,{path:"/users",component:Ed}),e(de,{path:"/employees",component:ld}),e(de,{path:"/salaries",component:Hd}),e(de,{path:"/salaries-create",component:qd}),e(de,{path:"/classes",component:ad}),e(de,{exact:!0,path:"/study/:class_id",component:Cu}),e(de,{exact:!0,path:"/study/:class_id/lesson-detail/:lesson_id",component:Au}),e(de,{path:"/study-tests/:test_id/:class_id",component:vd}),e(de,{path:"/study-summary",component:fr}),e(de,{path:"/study-summary-detail/:sumamry_id",component:su}),e(de,{path:"/students",component:td}),e(de,{path:"/students-study-profile/:student_id",component:iu}),e(de,{path:"/payments/tuition",component:Pd}),e(de,{path:"/payments/tuition-detail/:tuition_id",component:Qd}),e(de,{path:"/payments/tuition-create",component:Wd}),e(de,{path:"/payments/revenue",component:Fd}),e(de,{path:"/parents",component:jl}),e(de,{path:"/permissions",component:hd}),e(de,{path:"/roles",component:Jl}),e(de,{path:"/roles-set-permissions/:role_id",component:au}),e(de,{path:"/user-set-permissions/:user_id",component:ru}),e(de,{path:"/payments/payment-slips",component:Gl}),e(de,{path:"/news",component:du}),e(de,{path:"/gifts",component:hu}),e(de,{path:"/files",component:xd}),e(de,{path:"/settings",component:Su})]})}const{Content:bu,Footer:Fu,Sider:_u}=re;function ku(){const[n,t]=o.exports.useState(!1);return d(re,{children:[d(_u,{collapsed:n,style:{overflow:"auto",height:"100vh",position:"sticky",background:"#fff",borderRight:"solid 1px",borderRightColor:"#ecf0f1",top:0,left:0},children:[e(V,{style:{paddingLeft:20,marginBottom:10,marginTop:10,fontWeight:"bold",color:"#109444",fontSize:22},children:n?"":"Bigtreeland"}),e(Tl,{})]}),d(re,{className:"site-layout",children:[e(Il,{onClickMenu:()=>t(!n)}),e(bu,{style:{padding:"0 16px",backgroundColor:"#fff"},children:e(Du,{})}),d(Fu,{style:{textAlign:"center",backgroundColor:"#fff"},children:["Bigtreeland 1.0.0 \xA9",new Date().getFullYear()," Developed by FreeTeam"]})]})]})}function wu(){return w(t=>t.auth.user)?e(ku,{}):e(Qa,{to:"/login"})}var Ru="/assets/mainlogo.abcd6ca9.png";function Bu(){const n=o.exports.useRef(!1);return o.exports.useEffect(()=>(n.current=!0,()=>n.current=!1),[]),n}const{Content:Iu}=re;function Tu(){const[n]=bi.useForm(),t=q(),[s,a]=o.exports.useState(!1),l=w(p=>p.auth.user),h=w(p=>p.auth.statusUserVerified),S=Bu(),A=p=>{a(!0),t(Qn(p)).then(i=>{var u;if(S.current&&a(!1),r.exports.get(i,"payload",null))if(i.meta.requestStatus==="fulfilled")k.success({message:"\u0110\u0103ng nh\u1EADp th\xE0nh c\xF4ng!"});else{const y=i.payload;if(((u=y==null?void 0:y.response)==null?void 0:u.status)===400){const E=n.getFieldValue("phone").split("");E[0]="+84",Fi(Pi(),E.join(""),window.recaptchaVerifier).then(f=>{window.confirmationResult=f}).catch(()=>{})}else k.error({message:r.exports.get(i,"payload.response.data.error","Login fail")})}})};o.exports.useEffect(()=>{t(aa())},[t]),o.exports.useEffect(()=>{h==="waiting"?console.log():h==="idle"&&n.resetFields()},[n,h]);function m(){const p=n.getFieldValue("code");console.log("into verify"),window.confirmationResult.confirm(p).then(i=>{const u=i.user;t(Mi({access_token:u.accessToken})),t(aa())}).catch(()=>{k.error({message:"X\xE1c nh\u1EADn th\u1EA5t b\u1EA1i"})})}return l?e(Qa,{to:"/"}):e(re,{children:e(Iu,{children:d("section",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"rgba(240, 242, 245, 0.1)"},children:[d("div",{children:[d("div",{children:[e("h1",{style:{color:"#141414",fontSize:48,fontWeight:700,letterSpacing:-.3,margin:"0px 0px 15px",textAlign:"left",paddingLeft:20,lineHeight:"72px",fontFamily:"sans-serif"},children:"Sign In"}),e("h5",{style:{color:"#8c8c8c",fontSize:20,letterSpacing:-.3,margin:"0px 0px 15px",textAlign:"left",paddingLeft:20,lineHeight:"30px",fontFamily:"sans-serif"},children:"Enter your phone and password to sign in"})]}),d(D,{form:n,style:{display:"block",margin:"auto auto",width:500,paddingTop:20,paddingLeft:20,paddingRight:30,paddingBottom:20},name:"basic",labelCol:{span:6},wrapperCol:{span:18},initialValues:{remember:!0},onFinish:A,layout:"vertical",children:[h!=="waiting"&&d(Q,{children:[e(D.Item,{label:"Phone",name:"phone",rules:[{required:!0,message:Ze.REQUIRE}],children:e(U,{})}),e(D.Item,{label:"Password",name:"password",rules:[{required:!0,message:Ze.REQUIRE}],children:e(U.Password,{})}),e(D.Item,{name:"remember",valuePropName:"checked",wrapperCol:{offset:0,span:16},children:e(ce,{children:"Remember me"})}),e(D.Item,{children:e(R,{style:{display:"block",width:"100%"},type:"primary",htmlType:"submit",loading:s,children:"Login"})})]}),h==="waiting"&&d(Q,{children:[e(D.Item,{label:"M\xE3 x\xE1c minh",name:"code",rules:[{required:!0,message:Ze.REQUIRE}],children:e(U,{})}),e(D.Item,{children:e(R,{style:{display:"block",width:"100%"},type:"primary",loading:s,onClick:m,children:"X\xE1c minh"})})]})]})]}),e("img",{style:{maxWidth:"50%",margin:"auto 0",paddingRight:200},src:Ru,alt:""})]})})})}const vu="modulepreload",Fa={},Yu="/",Pu=function(t,s){return!s||s.length===0?t():Promise.all(s.map(a=>{if(a=`${Yu}${a}`,a in Fa)return;Fa[a]=!0;const l=a.endsWith(".css"),h=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${h}`))return;const S=document.createElement("link");if(S.rel=l?"stylesheet":vu,l||(S.as="script",S.crossOrigin=""),S.href=a,document.head.appendChild(S),l)return new Promise((A,m)=>{S.addEventListener("load",A),S.addEventListener("error",m)})})).then(()=>t())},Lu=n=>{n&&n instanceof Function&&Pu(()=>import("./web-vitals.7f423f21.js"),[]).then(({getCLS:t,getFID:s,getFCP:a,getLCP:l,getTTFB:h})=>{t(n),s(n),a(n),l(n),h(n)})};Qi();_i.config({theme:{primaryColor:"#f98115",infoColor:"#109444"}});function Nu(){const n=w(t=>{var s,a;return(a=(s=t.auth.user)==null?void 0:s.access_token)!=null?a:""});return n&&(it.defaults.headers.common.Authorization="Bearer ".concat(n)),it.interceptors.response.use(t=>t,t=>{throw r.exports.get(t,"response.status",1)===401&&Jn.dispatch(Ha()),t}),o.exports.useEffect(()=>{Li()||(console.log("init firebase"),Yi())},[]),e(Bi,{children:d(Ii,{children:[e(de,{path:"/login",component:Tu}),e(wu,{})]})})}ki.render(e(Ga.StrictMode,{children:e(wi,{store:Jn,children:e(Ri,{loading:null,persistor:kl,children:e(Nu,{})})})}),document.getElementById("root"));Lu();
